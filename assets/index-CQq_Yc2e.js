(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function CT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vm={exports:{}},$u={};var Ov;function UA(){if(Ov)return $u;Ov=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:p,ref:l!==void 0?l:null,props:h}}return $u.Fragment=t,$u.jsx=n,$u.jsxs=n,$u}var Pv;function BA(){return Pv||(Pv=1,Vm.exports=UA()),Vm.exports}var P=BA(),zm={exports:{}},jt={};var Dv;function jA(){if(Dv)return jt;Dv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.iterator;function $(U){return U===null||typeof U!="object"?null:(U=V&&U[V]||U["@@iterator"],typeof U=="function"?U:null)}var ut={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function dt(U,it,ft){this.props=U,this.context=it,this.refs=Z,this.updater=ft||ut}dt.prototype.isReactComponent={},dt.prototype.setState=function(U,it){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,it,"setState")},dt.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function yt(){}yt.prototype=dt.prototype;function _t(U,it,ft){this.props=U,this.context=it,this.refs=Z,this.updater=ft||ut}var Mt=_t.prototype=new yt;Mt.constructor=_t,nt(Mt,dt.prototype),Mt.isPureReactComponent=!0;var Gt=Array.isArray;function qt(){}var z={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function M(U,it,ft){var mt=ft.ref;return{$$typeof:s,type:U,key:it,ref:mt!==void 0?mt:null,props:ft}}function H(U,it){return M(U.type,it,U.props)}function B(U){return typeof U=="object"&&U!==null&&U.$$typeof===s}function q(U){var it={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ft){return it[ft]})}var D=/\/+/g;function oe(U,it){return typeof U=="object"&&U!==null&&U.key!=null?q(""+U.key):it.toString(36)}function Je(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(qt,qt):(U.status="pending",U.then(function(it){U.status==="pending"&&(U.status="fulfilled",U.value=it)},function(it){U.status==="pending"&&(U.status="rejected",U.reason=it)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function et(U,it,ft,mt,Et){var Tt=typeof U;(Tt==="undefined"||Tt==="boolean")&&(U=null);var Bt=!1;if(U===null)Bt=!0;else switch(Tt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(U.$$typeof){case s:case t:Bt=!0;break;case x:return Bt=U._init,et(Bt(U._payload),it,ft,mt,Et)}}if(Bt)return Et=Et(U),Bt=mt===""?"."+oe(U,0):mt,Gt(Et)?(ft="",Bt!=null&&(ft=Bt.replace(D,"$&/")+"/"),et(Et,it,ft,"",function(us){return us})):Et!=null&&(B(Et)&&(Et=H(Et,ft+(Et.key==null||U&&U.key===Et.key?"":(""+Et.key).replace(D,"$&/")+"/")+Bt)),it.push(Et)),1;Bt=0;var be=mt===""?".":mt+":";if(Gt(U))for(var Re=0;Re<U.length;Re++)mt=U[Re],Tt=be+oe(mt,Re),Bt+=et(mt,it,ft,Tt,Et);else if(Re=$(U),typeof Re=="function")for(U=Re.call(U),Re=0;!(mt=U.next()).done;)mt=mt.value,Tt=be+oe(mt,Re++),Bt+=et(mt,it,ft,Tt,Et);else if(Tt==="object"){if(typeof U.then=="function")return et(Je(U),it,ft,mt,Et);throw it=String(U),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function gt(U,it,ft){if(U==null)return U;var mt=[],Et=0;return et(U,mt,"","",function(Tt){return it.call(ft,Tt,Et++)}),mt}function ht(U){if(U._status===-1){var it=U._result;it=it(),it.then(function(ft){(U._status===0||U._status===-1)&&(U._status=1,U._result=ft)},function(ft){(U._status===0||U._status===-1)&&(U._status=2,U._result=ft)}),U._status===-1&&(U._status=0,U._result=it)}if(U._status===1)return U._result.default;throw U._result}var te=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},bt={map:gt,forEach:function(U,it,ft){gt(U,function(){it.apply(this,arguments)},ft)},count:function(U){var it=0;return gt(U,function(){it++}),it},toArray:function(U){return gt(U,function(it){return it})||[]},only:function(U){if(!B(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return jt.Activity=C,jt.Children=bt,jt.Component=dt,jt.Fragment=n,jt.Profiler=l,jt.PureComponent=_t,jt.StrictMode=a,jt.Suspense=T,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,jt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return z.H.useMemoCache(U)}},jt.cache=function(U){return function(){return U.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(U,it,ft){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var mt=nt({},U.props),Et=U.key;if(it!=null)for(Tt in it.key!==void 0&&(Et=""+it.key),it)!N.call(it,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&it.ref===void 0||(mt[Tt]=it[Tt]);var Tt=arguments.length-2;if(Tt===1)mt.children=ft;else if(1<Tt){for(var Bt=Array(Tt),be=0;be<Tt;be++)Bt[be]=arguments[be+2];mt.children=Bt}return M(U.type,Et,mt)},jt.createContext=function(U){return U={$$typeof:p,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:h,_context:U},U},jt.createElement=function(U,it,ft){var mt,Et={},Tt=null;if(it!=null)for(mt in it.key!==void 0&&(Tt=""+it.key),it)N.call(it,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(Et[mt]=it[mt]);var Bt=arguments.length-2;if(Bt===1)Et.children=ft;else if(1<Bt){for(var be=Array(Bt),Re=0;Re<Bt;Re++)be[Re]=arguments[Re+2];Et.children=be}if(U&&U.defaultProps)for(mt in Bt=U.defaultProps,Bt)Et[mt]===void 0&&(Et[mt]=Bt[mt]);return M(U,Tt,Et)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(U){return{$$typeof:v,render:U}},jt.isValidElement=B,jt.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:ht}},jt.memo=function(U,it){return{$$typeof:b,type:U,compare:it===void 0?null:it}},jt.startTransition=function(U){var it=z.T,ft={};z.T=ft;try{var mt=U(),Et=z.S;Et!==null&&Et(ft,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(qt,te)}catch(Tt){te(Tt)}finally{it!==null&&ft.types!==null&&(it.types=ft.types),z.T=it}},jt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},jt.use=function(U){return z.H.use(U)},jt.useActionState=function(U,it,ft){return z.H.useActionState(U,it,ft)},jt.useCallback=function(U,it){return z.H.useCallback(U,it)},jt.useContext=function(U){return z.H.useContext(U)},jt.useDebugValue=function(){},jt.useDeferredValue=function(U,it){return z.H.useDeferredValue(U,it)},jt.useEffect=function(U,it){return z.H.useEffect(U,it)},jt.useEffectEvent=function(U){return z.H.useEffectEvent(U)},jt.useId=function(){return z.H.useId()},jt.useImperativeHandle=function(U,it,ft){return z.H.useImperativeHandle(U,it,ft)},jt.useInsertionEffect=function(U,it){return z.H.useInsertionEffect(U,it)},jt.useLayoutEffect=function(U,it){return z.H.useLayoutEffect(U,it)},jt.useMemo=function(U,it){return z.H.useMemo(U,it)},jt.useOptimistic=function(U,it){return z.H.useOptimistic(U,it)},jt.useReducer=function(U,it,ft){return z.H.useReducer(U,it,ft)},jt.useRef=function(U){return z.H.useRef(U)},jt.useState=function(U){return z.H.useState(U)},jt.useSyncExternalStore=function(U,it,ft){return z.H.useSyncExternalStore(U,it,ft)},jt.useTransition=function(){return z.H.useTransition()},jt.version="19.2.3",jt}var Lv;function Lp(){return Lv||(Lv=1,zm.exports=jA()),zm.exports}var It=Lp();const ip=CT(It);var Um={exports:{}},tc={},Bm={exports:{}},jm={};var Mv;function HA(){return Mv||(Mv=1,(function(s){function t(et,gt){var ht=et.length;et.push(gt);t:for(;0<ht;){var te=ht-1>>>1,bt=et[te];if(0<l(bt,gt))et[te]=gt,et[ht]=bt,ht=te;else break t}}function n(et){return et.length===0?null:et[0]}function a(et){if(et.length===0)return null;var gt=et[0],ht=et.pop();if(ht!==gt){et[0]=ht;t:for(var te=0,bt=et.length,U=bt>>>1;te<U;){var it=2*(te+1)-1,ft=et[it],mt=it+1,Et=et[mt];if(0>l(ft,ht))mt<bt&&0>l(Et,ft)?(et[te]=Et,et[mt]=ht,te=mt):(et[te]=ft,et[it]=ht,te=it);else if(mt<bt&&0>l(Et,ht))et[te]=Et,et[mt]=ht,te=mt;else break t}}return gt}function l(et,gt){var ht=et.sortIndex-gt.sortIndex;return ht!==0?ht:et.id-gt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var p=Date,v=p.now();s.unstable_now=function(){return p.now()-v}}var T=[],b=[],x=1,C=null,V=3,$=!1,ut=!1,nt=!1,Z=!1,dt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Mt(et){for(var gt=n(b);gt!==null;){if(gt.callback===null)a(b);else if(gt.startTime<=et)a(b),gt.sortIndex=gt.expirationTime,t(T,gt);else break;gt=n(b)}}function Gt(et){if(nt=!1,Mt(et),!ut)if(n(T)!==null)ut=!0,qt||(qt=!0,q());else{var gt=n(b);gt!==null&&Je(Gt,gt.startTime-et)}}var qt=!1,z=-1,N=5,M=-1;function H(){return Z?!0:!(s.unstable_now()-M<N)}function B(){if(Z=!1,qt){var et=s.unstable_now();M=et;var gt=!0;try{t:{ut=!1,nt&&(nt=!1,yt(z),z=-1),$=!0;var ht=V;try{e:{for(Mt(et),C=n(T);C!==null&&!(C.expirationTime>et&&H());){var te=C.callback;if(typeof te=="function"){C.callback=null,V=C.priorityLevel;var bt=te(C.expirationTime<=et);if(et=s.unstable_now(),typeof bt=="function"){C.callback=bt,Mt(et),gt=!0;break e}C===n(T)&&a(T),Mt(et)}else a(T);C=n(T)}if(C!==null)gt=!0;else{var U=n(b);U!==null&&Je(Gt,U.startTime-et),gt=!1}}break t}finally{C=null,V=ht,$=!1}gt=void 0}}finally{gt?q():qt=!1}}}var q;if(typeof _t=="function")q=function(){_t(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,oe=D.port2;D.port1.onmessage=B,q=function(){oe.postMessage(null)}}else q=function(){dt(B,0)};function Je(et,gt){z=dt(function(){et(s.unstable_now())},gt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(et){et.callback=null},s.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<et?Math.floor(1e3/et):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(et){switch(V){case 1:case 2:case 3:var gt=3;break;default:gt=V}var ht=V;V=gt;try{return et()}finally{V=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(et,gt){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var ht=V;V=et;try{return gt()}finally{V=ht}},s.unstable_scheduleCallback=function(et,gt,ht){var te=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?te+ht:te):ht=te,et){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=ht+bt,et={id:x++,callback:gt,priorityLevel:et,startTime:ht,expirationTime:bt,sortIndex:-1},ht>te?(et.sortIndex=ht,t(b,et),n(T)===null&&et===n(b)&&(nt?(yt(z),z=-1):nt=!0,Je(Gt,ht-te))):(et.sortIndex=bt,t(T,et),ut||$||(ut=!0,qt||(qt=!0,q()))),et},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(et){var gt=V;return function(){var ht=V;V=gt;try{return et.apply(this,arguments)}finally{V=ht}}}})(jm)),jm}var kv;function qA(){return kv||(kv=1,Bm.exports=HA()),Bm.exports}var Hm={exports:{}},Un={};var Vv;function FA(){if(Vv)return Un;Vv=1;var s=Lp();function t(T){var b="https://react.dev/errors/"+T;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)b+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+T+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(T,b,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:T,containerInfo:b,implementation:x}}var p=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(T,b){if(T==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Un.createPortal=function(T,b){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return h(T,b,null,x)},Un.flushSync=function(T){var b=p.T,x=a.p;try{if(p.T=null,a.p=2,T)return T()}finally{p.T=b,a.p=x,a.d.f()}},Un.preconnect=function(T,b){typeof T=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,a.d.C(T,b))},Un.prefetchDNS=function(T){typeof T=="string"&&a.d.D(T)},Un.preinit=function(T,b){if(typeof T=="string"&&b&&typeof b.as=="string"){var x=b.as,C=v(x,b.crossOrigin),V=typeof b.integrity=="string"?b.integrity:void 0,$=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;x==="style"?a.d.S(T,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:C,integrity:V,fetchPriority:$}):x==="script"&&a.d.X(T,{crossOrigin:C,integrity:V,fetchPriority:$,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Un.preinitModule=function(T,b){if(typeof T=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var x=v(b.as,b.crossOrigin);a.d.M(T,{crossOrigin:x,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&a.d.M(T)},Un.preload=function(T,b){if(typeof T=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var x=b.as,C=v(x,b.crossOrigin);a.d.L(T,x,{crossOrigin:C,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Un.preloadModule=function(T,b){if(typeof T=="string")if(b){var x=v(b.as,b.crossOrigin);a.d.m(T,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:x,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else a.d.m(T)},Un.requestFormReset=function(T){a.d.r(T)},Un.unstable_batchedUpdates=function(T,b){return T(b)},Un.useFormState=function(T,b,x){return p.H.useFormState(T,b,x)},Un.useFormStatus=function(){return p.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var zv;function IT(){if(zv)return Hm.exports;zv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Hm.exports=FA(),Hm.exports}var Uv;function GA(){if(Uv)return tc;Uv=1;var s=qA(),t=Lp(),n=IT();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function v(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function T(e){if(h(e)!==e)throw Error(a(188))}function b(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var _=m.alternate;if(_===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===o)return T(m),e;if(_===c)return T(m),i;_=_.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=_;else{for(var w=!1,R=m.child;R;){if(R===o){w=!0,o=m,c=_;break}if(R===c){w=!0,c=m,o=_;break}R=R.sibling}if(!w){for(R=_.child;R;){if(R===o){w=!0,o=_,c=m;break}if(R===c){w=!0,c=_,o=m;break}R=R.sibling}if(!w)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function x(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=x(e),i!==null)return i;e=e.sibling}return null}var C=Object.assign,V=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),ut=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Gt=Symbol.for("react.suspense"),qt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case Z:return"StrictMode";case Gt:return"Suspense";case qt:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ut:return"Portal";case _t:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Mt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case N:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Je=Array.isArray,et=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},te=[],bt=-1;function U(e){return{current:e}}function it(e){0>bt||(e.current=te[bt],te[bt]=null,bt--)}function ft(e,i){bt++,te[bt]=e.current,e.current=i}var mt=U(null),Et=U(null),Tt=U(null),Bt=U(null);function be(e,i){switch(ft(Tt,i),ft(Et,e),ft(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?tv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=tv(i),e=ev(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(mt),ft(mt,e)}function Re(){it(mt),it(Et),it(Tt)}function us(e){e.memoizedState!==null&&ft(Bt,e);var i=mt.current,o=ev(i,e.type);i!==o&&(ft(Et,e),ft(mt,o))}function Is(e){Et.current===e&&(it(mt),it(Et)),Bt.current===e&&(it(Bt),Qu._currentValue=ht)}var Ui,Ns;function Bi(e){if(Ui===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ui=i&&i[1]||"",Ns=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+Ns}var Gr=!1;function Os(e,i){if(!e||Gr)return"";Gr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var W=tt}Reflect.construct(e,[],ot)}else{try{ot.call()}catch(tt){W=tt}e.call(ot.prototype)}}else{try{throw Error()}catch(tt){W=tt}(ot=e())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&W&&typeof tt.stack=="string")return[tt.stack,W.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),w=_[0],R=_[1];if(w&&R){var k=w.split(`
`),Q=R.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===Q.length)for(c=k.length-1,m=Q.length-1;1<=c&&0<=m&&k[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==Q[m]){var st=`
`+k[c].replace(" at new "," at ");return e.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",e.displayName)),st}while(1<=c&&0<=m);break}}}finally{Gr=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Bi(o):""}function hr(e,i){switch(e.tag){case 26:case 27:case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return e.child!==i&&i!==null?Bi("Suspense Fallback"):Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return Os(e.type,!1);case 11:return Os(e.type.render,!1);case 1:return Os(e.type,!0);case 31:return Bi("Activity");default:return""}}function Ps(e){try{var i="",o=null;do i+=hr(e,o),o=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var He=Object.prototype.hasOwnProperty,qe=s.unstable_scheduleCallback,ji=s.unstable_cancelCallback,sl=s.unstable_shouldYield,eo=s.unstable_requestPaint,Rn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,dr=s.unstable_ImmediatePriority,Zr=s.unstable_UserBlockingPriority,cs=s.unstable_NormalPriority,mu=s.unstable_LowPriority,no=s.unstable_IdlePriority,io=s.log,rl=s.unstable_setDisableYieldValue,Jn=null,$e=null;function Fn(e){if(typeof io=="function"&&rl(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Jn,e)}catch{}}var Ve=Math.clz32?Math.clz32:al,Ds=Math.log,Kr=Math.LN2;function al(e){return e>>>=0,e===0?32:31-(Ds(e)/Kr|0)|0}var yi=256,Ls=262144,ze=4194304;function Hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qi(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,_=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var R=c&134217727;return R!==0?(c=R&~_,c!==0?m=Hi(c):(w&=R,w!==0?m=Hi(w):o||(o=R&~e,o!==0&&(m=Hi(o))))):(R=c&~_,R!==0?m=Hi(R):w!==0?m=Hi(w):o||(o=c&~e,o!==0&&(m=Hi(o)))),m===0?0:i!==0&&i!==m&&(i&_)===0&&(_=m&-m,o=i&-i,_>=o||_===32&&(o&4194048)!==0)?i:m}function vi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function pu(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Fi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function hs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _u(e,i,o,c,m,_){var w=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var R=e.entanglements,k=e.expirationTimes,Q=e.hiddenUpdates;for(o=w&~o;0<o;){var st=31-Ve(o),ot=1<<st;R[st]=0,k[st]=-1;var W=Q[st];if(W!==null)for(Q[st]=null,st=0;st<W.length;st++){var tt=W[st];tt!==null&&(tt.lane&=-536870913)}o&=~ot}c!==0&&mr(e,c,0),_!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=_&~(w&~i))}function mr(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Ve(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&261930}function so(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-Ve(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function ro(e,i){var o=i&-i;return o=(o&42)!==0?1:gn(o),(o&(e.suspendedLanes|i))!==0?0:o}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ao(){var e=gt.p;return e!==0?e:(e=window.event,e===void 0?32:Av(e.type))}function $n(e,i){var o=gt.p;try{return gt.p=e,i()}finally{gt.p=o}}var ti=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ti,Fe="__reactProps$"+ti,Ti="__reactContainer$"+ti,Ei="__reactEvents$"+ti,ll="__reactListeners$"+ti,ul="__reactHandles$"+ti,cl="__reactResources$"+ti,Gi="__reactMarker$"+ti;function Yr(e){delete e[Ue],delete e[Fe],delete e[Ei],delete e[ll],delete e[ul]}function bi(e){var i=e[Ue];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Ti]||o[Ue]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=lv(e);e!==null;){if(o=e[Ue])return o;e=lv(e)}return i}e=o,o=e.parentNode}return null}function ei(e){if(e=e[Ue]||e[Ti]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function yn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Zi(e){var i=e[cl];return i||(i=e[cl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ge(e){e[Gi]=!0}var oo=new Set,lo={};function Ki(e,i){ni(e,i),ni(e+"Capture",i)}function ni(e,i){for(lo[e]=i,e=0;e<i.length;e++)oo.add(i[e])}var fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Xr={};function Ms(e){return He.call(Xr,e)?!0:He.call(Qr,e)?!1:fs.test(e)?Xr[e]=!0:(Qr[e]=!0,!1)}function Qt(e,i,o){if(Ms(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Xt(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function Oe(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gn(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pr(e,i,o){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,_=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){o=""+w,_.call(this,w)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function wt(e){if(!e._valueTracker){var i=Gn(e)?"checked":"value";e._valueTracker=pr(e,i,""+e[i])}}function ye(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Gn(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yi=/[\n"\\]/g;function xe(e){return e.replace(Yi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Wr(e,i,o,c,m,_,w,R){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),i!=null?w==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),i!=null?wi(e,w,Pe(i)):o!=null?wi(e,w,Pe(o)):c!=null&&e.removeAttribute("value"),m==null&&_!=null&&(e.defaultChecked=!!_),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Pe(R):e.removeAttribute("name")}function _r(e,i,o,c,m,_,w,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.type=_),i!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||i!=null)){wt(e);return}o=o!=null?""+Pe(o):"",i=i!=null?""+Pe(i):o,R||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=R?e.checked:!!c,e.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),wt(e)}function wi(e,i,o){i==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ve(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Pe(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Qi(e,i,o){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+Pe(o):""}function si(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Je(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Pe(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c),wt(e)}function rn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ds(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||Jr.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function gr(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&ds(e,m,c)}else for(var _ in i)i.hasOwnProperty(_)&&ds(e,_,i[_])}function ks(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return Xi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var $r=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zs=null,Dt=null;function vn(e){var i=ei(e);if(i&&(e=i.stateNode)){var o=e[Fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Wr(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xe(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[Fe]||null;if(!m)throw Error(a(90));Wr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&ye(c)}break t;case"textarea":Qi(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&ve(e,!!o.multiple,i,!1)}}}var he=!1;function ms(e,i,o){if(he)return e(i,o);he=!0;try{var c=e(i);return c}finally{if(he=!1,(zs!==null||Dt!==null)&&(Ah(),zs&&(i=zs,e=Dt,Dt=zs=null,vn(i),e)))for(i=0;i<e.length;i++)vn(e[i])}}function Zn(e,i){var o=e.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Mn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){ps=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{ps=!1}var ri=null,_s=null,De=null;function Ai(){if(De)return De;var e,i=_s,o=i.length,c,m="value"in ri?ri.value:ri.textContent,_=m.length;for(e=0;e<o&&i[e]===m[e];e++);var w=o-e;for(c=1;c<=w&&i[o-c]===m[_-c];c++);return De=m.slice(e,1<c?1-c:void 0)}function Us(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function Si(){return!1}function an(e){function i(o,c,m,_,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(o=e[R],this[R]=o?o(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Wi:Si,this.isPropagationStopped=Si,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=an(Ri),gs=C({},Ri,{view:0,detail:0}),Yt=an(gs),Bs,Tn,kn,vr=C({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kn&&(kn&&e.type==="mousemove"?(Bs=e.screenX-kn.screenX,Tn=e.screenY-kn.screenY):Tn=Bs=0,kn=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:Tn}}),uo=an(vr),ys=C({},vr,{dataTransfer:0}),hl=an(ys),co=C({},gs,{relatedTarget:0}),Tr=an(co),ho=C({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=an(ho),ea=C({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kn=an(ea),fl=C({},Ri,{data:0}),xi=an(fl),Ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=mo[e])?!!i[e]:!1}function js(){return na}var En=C({},gs,{key:function(e){if(e.key){var i=Ci[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),po=an(En),dl=C({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vs=an(dl),f=C({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),y=an(f),A=C({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=an(A),K=C({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J=an(K),pt=C({},Ri,{newState:0,oldState:0}),zt=an(pt),le=[9,13,27,32],ue=Mn&&"CompositionEvent"in window,Ce=null;Mn&&"documentMode"in document&&(Ce=document.documentMode);var ai=Mn&&"TextEvent"in window&&!Ce,oi=Mn&&(!ue||Ce&&8<Ce&&11>=Ce),Yn=" ",Ii=!1;function Er(e,i){switch(e){case"keyup":return le.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function br(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function Ni(e,i){switch(e){case"compositionend":return br(i);case"keypress":return i.which!==32?null:(Ii=!0,Yn);case"textInput":return e=i.data,e===Yn&&Ii?null:e;default:return null}}function sa(e,i){if(ia)return e==="compositionend"||!ue&&Er(e,i)?(e=Ai(),De=_s=ri=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oi&&i.locale!=="ko"?null:i.data;default:return null}}var ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $i(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ed[e.type]:i==="textarea"}function jc(e,i,o,c){zs?Dt?Dt.push(c):Dt=[c]:zs=c,i=Oh(i,"onChange"),0<i.length&&(o=new Ji("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var ts=null,_o=null;function go(e){Yy(e,0)}function yo(e){var i=yn(e);if(ye(i))return e}function vo(e,i){if(e==="change")return i}var Hc=!1;if(Mn){var es;if(Mn){var ra="oninput"in document;if(!ra){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),ra=typeof qc.oninput=="function"}es=ra}else es=!1;Hc=es&&(!document.documentMode||9<document.documentMode)}function ml(){ts&&(ts.detachEvent("onpropertychange",Fc),_o=ts=null)}function Fc(e){if(e.propertyName==="value"&&yo(_o)){var i=[];jc(i,_o,e,Ln(e)),ms(go,i)}}function Ts(e,i,o){e==="focusin"?(ml(),ts=i,_o=o,ts.attachEvent("onpropertychange",Fc)):e==="focusout"&&ml()}function nd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(_o)}function aa(e,i){if(e==="click")return yo(i)}function id(e,i){if(e==="input"||e==="change")return yo(i)}function Es(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var bn=typeof Object.is=="function"?Object.is:Es;function oa(e,i){if(bn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!He.call(i,m)||!bn(e[m],i[m]))return!1}return!0}function pl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function To(e,i){var o=pl(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=pl(o)}}function _l(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_l(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Eo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ii(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=ii(e.document)}return i}function Hs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gl=Mn&&"documentMode"in document&&11>=document.documentMode,qs=null,yl=null,bo=null,la=!1;function Gc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;la||qs==null||qs!==ii(c)||(c=qs,"selectionStart"in c&&Hs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bo&&oa(bo,c)||(bo=c,c=Oh(yl,"onSelect"),0<c.length&&(i=new Ji("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=qs)))}function Fs(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var ua={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},vl={},Zc={};Mn&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function wn(e){if(vl[e])return vl[e];if(!ua[e])return e;var i=ua[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Zc)return vl[e]=i[o];return e}var wo=wn("animationend"),Kc=wn("animationiteration"),Ao=wn("animationstart"),sd=wn("transitionrun"),Yc=wn("transitionstart"),rd=wn("transitioncancel"),ca=wn("transitionend"),Qc=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function li(e,i){Qc.set(e,i),Ki(i,[e])}var So=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ui=[],Vn=0,Tl=0;function Ro(){for(var e=Vn,i=Tl=Vn=0;i<e;){var o=ui[i];ui[i++]=null;var c=ui[i];ui[i++]=null;var m=ui[i];ui[i++]=null;var _=ui[i];if(ui[i++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}_!==0&&ha(o,m,_)}}function Zs(e,i,o,c){ui[Vn++]=e,ui[Vn++]=i,ui[Vn++]=o,ui[Vn++]=c,Tl|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function gu(e,i,o,c){return Zs(e,i,o,c),xo(e)}function ns(e,i){return Zs(e,null,null,i),xo(e)}function ha(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,_=e.return;_!==null;)_.childLanes|=o,c=_.alternate,c!==null&&(c.childLanes|=o),_.tag===22&&(e=_.stateNode,e===null||e._visibility&1||(m=!0)),e=_,_=_.return;return e.tag===3?(_=e.stateNode,m&&i!==null&&(m=31-Ve(o),e=_.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),_):null}function xo(e){if(50<Hu)throw Hu=0,om=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var wr={};function ad(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,i,o,c){return new ad(e,i,o,c)}function El(e){return e=e.prototype,!(!e||!e.isReactComponent)}function is(e,i){var o=e.alternate;return o===null?(o=zn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function yu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Co(e,i,o,c,m,_){var w=0;if(c=e,typeof e=="function")El(e)&&(w=1);else if(typeof e=="string")w=xA(e,o,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case M:return e=zn(31,o,i,m),e.elementType=M,e.lanes=_,e;case nt:return Ar(o.children,m,_,i);case Z:w=8,m|=24;break;case dt:return e=zn(12,o,i,m|2),e.elementType=dt,e.lanes=_,e;case Gt:return e=zn(13,o,i,m),e.elementType=Gt,e.lanes=_,e;case qt:return e=zn(19,o,i,m),e.elementType=qt,e.lanes=_,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:w=10;break t;case yt:w=9;break t;case Mt:w=11;break t;case z:w=14;break t;case N:w=16,c=null;break t}w=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=zn(w,o,i,m),i.elementType=e,i.type=c,i.lanes=_,i}function Ar(e,i,o,c){return e=zn(7,e,c,i),e.lanes=o,e}function bl(e,i,o){return e=zn(6,e,null,i),e.lanes=o,e}function vu(e){var i=zn(18,null,null,0);return i.stateNode=e,i}function Tu(e,i,o){return i=zn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var r=new WeakMap;function u(e,i){if(typeof e=="object"&&e!==null){var o=r.get(e);return o!==void 0?o:(i={value:e,source:i,stack:Ps(i)},r.set(e,i),i)}return{value:e,source:i,stack:Ps(i)}}var d=[],g=0,E=null,S=0,O=[],G=0,X=null,at=1,vt="";function Nt(e,i){d[g++]=S,d[g++]=E,E=e,S=i}function Zt(e,i,o){O[G++]=at,O[G++]=vt,O[G++]=X,X=e;var c=at;e=vt;var m=32-Ve(c)-1;c&=~(1<<m),o+=1;var _=32-Ve(i)+m;if(30<_){var w=m-m%5;_=(c&(1<<w)-1).toString(32),c>>=w,m-=w,at=1<<32-Ve(i)+m|o<<m|c,vt=_+e}else at=1<<_|o<<m|c,vt=e}function mn(e){e.return!==null&&(Nt(e,1),Zt(e,1,0))}function Ze(e){for(;e===E;)E=d[--g],d[g]=null,S=d[--g],d[g]=null;for(;e===X;)X=O[--G],O[G]=null,vt=O[--G],O[G]=null,at=O[--G],O[G]=null}function Qn(e,i){O[G++]=at,O[G++]=vt,O[G++]=X,at=i.id,vt=i.overflow,X=e}var fe=null,de=null,Wt=!1,Ks=null,ci=!1,wl=Error(a(519));function Ys(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(u(i,e)),wl}function Eu(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Ue]=e,i[Fe]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Fu.length;o++)$t(Fu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),_r(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),si(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Jy(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Dn),i=!0):i=!1,i||Ys(e,!0)}function Be(e){for(fe=e.return;fe;)switch(fe.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:fe=fe.return}}function bs(e){if(e!==fe)return!1;if(!Wt)return Be(e),Wt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||bm(e.type,e.memoizedProps)),o=!o),o&&de&&Ys(e),Be(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=ov(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));de=ov(e)}else i===27?(i=de,Sa(e.type)?(e=xm,xm=null,de=e):de=i):de=fe?rs(e.stateNode.nextSibling):null;return!0}function Sr(){de=fe=null,Wt=!1}function bu(){var e=Ks;return e!==null&&(mi===null?mi=e:mi.push.apply(mi,e),Ks=null),e}function Io(e){Ks===null?Ks=[e]:Ks.push(e)}var No=U(null),Qs=null,ws=null;function fa(e,i,o){ft(No,i._currentValue),i._currentValue=o}function Rr(e){e._currentValue=No.current,it(No)}function od(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function ld(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var _=m.dependencies;if(_!==null){var w=m.child;_=_.firstContext;t:for(;_!==null;){var R=_;_=m;for(var k=0;k<i.length;k++)if(R.context===i[k]){_.lanes|=o,R=_.alternate,R!==null&&(R.lanes|=o),od(_.return,o,e),c||(w=null);break t}_=R.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(a(341));w.lanes|=o,_=w.alternate,_!==null&&(_.lanes|=o),od(w,o,e),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===e){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Al(e,i,o,c){e=null;for(var m=i,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var R=m.type;bn(m.pendingProps.value,w.value)||(e!==null?e.push(R):e=[R])}}else if(m===Bt.current){if(w=m.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Qu):e=[Qu])}m=m.return}e!==null&&ld(i,e,o,c),i.flags|=262144}function Xc(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oo(e){Qs=e,ws=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xn(e){return V_(Qs,e)}function Wc(e,i){return Qs===null&&Oo(e),V_(e,i)}function V_(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ws===null){if(e===null)throw Error(a(308));ws=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ws=ws.next=i;return o}var ww=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},Aw=s.unstable_scheduleCallback,Sw=s.unstable_NormalPriority,on={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new ww,data:new Map,refCount:0}}function wu(e){e.refCount--,e.refCount===0&&Aw(Sw,function(){e.controller.abort()})}var Au=null,cd=0,Sl=0,Rl=null;function Rw(e,i){if(Au===null){var o=Au=[];cd=0,Sl=dm(),Rl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cd++,i.then(z_,z_),i}function z_(){if(--cd===0&&Au!==null){Rl!==null&&(Rl.status="fulfilled");var e=Au;Au=null,Sl=0,Rl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function xw(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var U_=et.S;et.S=function(e,i){by=Rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Rw(e,i),U_!==null&&U_(e,i)};var Po=U(null);function hd(){var e=Po.current;return e!==null?e:Ie.pooledCache}function Jc(e,i){i===null?ft(Po,Po.current):ft(Po,i.pool)}function B_(){var e=hd();return e===null?null:{parent:on._currentValue,pool:e}}var xl=Error(a(460)),fd=Error(a(474)),$c=Error(a(542)),th={then:function(){}};function j_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function H_(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then(Dn,Dn),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,F_(e),e;default:if(typeof i.status=="string")i.then(Dn,Dn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,F_(e),e}throw Lo=i,xl}}function Do(e){try{var i=e._init;return i(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Lo=o,xl):o}}var Lo=null;function q_(){if(Lo===null)throw Error(a(459));var e=Lo;return Lo=null,e}function F_(e){if(e===xl||e===$c)throw Error(a(483))}var Cl=null,Su=0;function eh(e){var i=Su;return Su+=1,Cl===null&&(Cl=[]),H_(Cl,e,i)}function Ru(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function nh(e,i){throw i.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function G_(e){function i(F,j){if(e){var Y=F.deletions;Y===null?(F.deletions=[j],F.flags|=16):Y.push(j)}}function o(F,j){if(!e)return null;for(;j!==null;)i(F,j),j=j.sibling;return null}function c(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function m(F,j){return F=is(F,j),F.index=0,F.sibling=null,F}function _(F,j,Y){return F.index=Y,e?(Y=F.alternate,Y!==null?(Y=Y.index,Y<j?(F.flags|=67108866,j):Y):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function w(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function R(F,j,Y,rt){return j===null||j.tag!==6?(j=bl(Y,F.mode,rt),j.return=F,j):(j=m(j,Y),j.return=F,j)}function k(F,j,Y,rt){var Ot=Y.type;return Ot===nt?st(F,j,Y.props.children,rt,Y.key):j!==null&&(j.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===N&&Do(Ot)===j.type)?(j=m(j,Y.props),Ru(j,Y),j.return=F,j):(j=Co(Y.type,Y.key,Y.props,null,F.mode,rt),Ru(j,Y),j.return=F,j)}function Q(F,j,Y,rt){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=Tu(Y,F.mode,rt),j.return=F,j):(j=m(j,Y.children||[]),j.return=F,j)}function st(F,j,Y,rt,Ot){return j===null||j.tag!==7?(j=Ar(Y,F.mode,rt,Ot),j.return=F,j):(j=m(j,Y),j.return=F,j)}function ot(F,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=bl(""+j,F.mode,Y),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $:return Y=Co(j.type,j.key,j.props,null,F.mode,Y),Ru(Y,j),Y.return=F,Y;case ut:return j=Tu(j,F.mode,Y),j.return=F,j;case N:return j=Do(j),ot(F,j,Y)}if(Je(j)||q(j))return j=Ar(j,F.mode,Y,null),j.return=F,j;if(typeof j.then=="function")return ot(F,eh(j),Y);if(j.$$typeof===_t)return ot(F,Wc(F,j),Y);nh(F,j)}return null}function W(F,j,Y,rt){var Ot=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ot!==null?null:R(F,j,""+Y,rt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return Y.key===Ot?k(F,j,Y,rt):null;case ut:return Y.key===Ot?Q(F,j,Y,rt):null;case N:return Y=Do(Y),W(F,j,Y,rt)}if(Je(Y)||q(Y))return Ot!==null?null:st(F,j,Y,rt,null);if(typeof Y.then=="function")return W(F,j,eh(Y),rt);if(Y.$$typeof===_t)return W(F,j,Wc(F,Y),rt);nh(F,Y)}return null}function tt(F,j,Y,rt,Ot){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return F=F.get(Y)||null,R(j,F,""+rt,Ot);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case $:return F=F.get(rt.key===null?Y:rt.key)||null,k(j,F,rt,Ot);case ut:return F=F.get(rt.key===null?Y:rt.key)||null,Q(j,F,rt,Ot);case N:return rt=Do(rt),tt(F,j,Y,rt,Ot)}if(Je(rt)||q(rt))return F=F.get(Y)||null,st(j,F,rt,Ot,null);if(typeof rt.then=="function")return tt(F,j,Y,eh(rt),Ot);if(rt.$$typeof===_t)return tt(F,j,Y,Wc(j,rt),Ot);nh(j,rt)}return null}function xt(F,j,Y,rt){for(var Ot=null,me=null,Ct=j,Kt=j=0,ie=null;Ct!==null&&Kt<Y.length;Kt++){Ct.index>Kt?(ie=Ct,Ct=null):ie=Ct.sibling;var pe=W(F,Ct,Y[Kt],rt);if(pe===null){Ct===null&&(Ct=ie);break}e&&Ct&&pe.alternate===null&&i(F,Ct),j=_(pe,j,Kt),me===null?Ot=pe:me.sibling=pe,me=pe,Ct=ie}if(Kt===Y.length)return o(F,Ct),Wt&&Nt(F,Kt),Ot;if(Ct===null){for(;Kt<Y.length;Kt++)Ct=ot(F,Y[Kt],rt),Ct!==null&&(j=_(Ct,j,Kt),me===null?Ot=Ct:me.sibling=Ct,me=Ct);return Wt&&Nt(F,Kt),Ot}for(Ct=c(Ct);Kt<Y.length;Kt++)ie=tt(Ct,F,Kt,Y[Kt],rt),ie!==null&&(e&&ie.alternate!==null&&Ct.delete(ie.key===null?Kt:ie.key),j=_(ie,j,Kt),me===null?Ot=ie:me.sibling=ie,me=ie);return e&&Ct.forEach(function(Na){return i(F,Na)}),Wt&&Nt(F,Kt),Ot}function Lt(F,j,Y,rt){if(Y==null)throw Error(a(151));for(var Ot=null,me=null,Ct=j,Kt=j=0,ie=null,pe=Y.next();Ct!==null&&!pe.done;Kt++,pe=Y.next()){Ct.index>Kt?(ie=Ct,Ct=null):ie=Ct.sibling;var Na=W(F,Ct,pe.value,rt);if(Na===null){Ct===null&&(Ct=ie);break}e&&Ct&&Na.alternate===null&&i(F,Ct),j=_(Na,j,Kt),me===null?Ot=Na:me.sibling=Na,me=Na,Ct=ie}if(pe.done)return o(F,Ct),Wt&&Nt(F,Kt),Ot;if(Ct===null){for(;!pe.done;Kt++,pe=Y.next())pe=ot(F,pe.value,rt),pe!==null&&(j=_(pe,j,Kt),me===null?Ot=pe:me.sibling=pe,me=pe);return Wt&&Nt(F,Kt),Ot}for(Ct=c(Ct);!pe.done;Kt++,pe=Y.next())pe=tt(Ct,F,Kt,pe.value,rt),pe!==null&&(e&&pe.alternate!==null&&Ct.delete(pe.key===null?Kt:pe.key),j=_(pe,j,Kt),me===null?Ot=pe:me.sibling=pe,me=pe);return e&&Ct.forEach(function(zA){return i(F,zA)}),Wt&&Nt(F,Kt),Ot}function Se(F,j,Y,rt){if(typeof Y=="object"&&Y!==null&&Y.type===nt&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:t:{for(var Ot=Y.key;j!==null;){if(j.key===Ot){if(Ot=Y.type,Ot===nt){if(j.tag===7){o(F,j.sibling),rt=m(j,Y.props.children),rt.return=F,F=rt;break t}}else if(j.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===N&&Do(Ot)===j.type){o(F,j.sibling),rt=m(j,Y.props),Ru(rt,Y),rt.return=F,F=rt;break t}o(F,j);break}else i(F,j);j=j.sibling}Y.type===nt?(rt=Ar(Y.props.children,F.mode,rt,Y.key),rt.return=F,F=rt):(rt=Co(Y.type,Y.key,Y.props,null,F.mode,rt),Ru(rt,Y),rt.return=F,F=rt)}return w(F);case ut:t:{for(Ot=Y.key;j!==null;){if(j.key===Ot)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(F,j.sibling),rt=m(j,Y.children||[]),rt.return=F,F=rt;break t}else{o(F,j);break}else i(F,j);j=j.sibling}rt=Tu(Y,F.mode,rt),rt.return=F,F=rt}return w(F);case N:return Y=Do(Y),Se(F,j,Y,rt)}if(Je(Y))return xt(F,j,Y,rt);if(q(Y)){if(Ot=q(Y),typeof Ot!="function")throw Error(a(150));return Y=Ot.call(Y),Lt(F,j,Y,rt)}if(typeof Y.then=="function")return Se(F,j,eh(Y),rt);if(Y.$$typeof===_t)return Se(F,j,Wc(F,Y),rt);nh(F,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(F,j.sibling),rt=m(j,Y),rt.return=F,F=rt):(o(F,j),rt=bl(Y,F.mode,rt),rt.return=F,F=rt),w(F)):o(F,j)}return function(F,j,Y,rt){try{Su=0;var Ot=Se(F,j,Y,rt);return Cl=null,Ot}catch(Ct){if(Ct===xl||Ct===$c)throw Ct;var me=zn(29,Ct,null,F.mode);return me.lanes=rt,me.return=F,me}}}var Mo=G_(!0),Z_=G_(!1),da=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pa(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=xo(e),ha(e,null,o),i}return Zs(e,c,i,o),xo(e)}function xu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,so(e,o)}}function pd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?m=_=w:_=_.next=w,o=o.next}while(o!==null);_===null?m=_=i:_=_.next=i}else m=_=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var _d=!1;function Cu(){if(_d){var e=Rl;if(e!==null)throw e}}function Iu(e,i,o,c){_d=!1;var m=e.updateQueue;da=!1;var _=m.firstBaseUpdate,w=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var k=R,Q=k.next;k.next=null,w===null?_=Q:w.next=Q,w=k;var st=e.alternate;st!==null&&(st=st.updateQueue,R=st.lastBaseUpdate,R!==w&&(R===null?st.firstBaseUpdate=Q:R.next=Q,st.lastBaseUpdate=k))}if(_!==null){var ot=m.baseState;w=0,st=Q=k=null,R=_;do{var W=R.lane&-536870913,tt=W!==R.lane;if(tt?(ne&W)===W:(c&W)===W){W!==0&&W===Sl&&(_d=!0),st!==null&&(st=st.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var xt=e,Lt=R;W=i;var Se=o;switch(Lt.tag){case 1:if(xt=Lt.payload,typeof xt=="function"){ot=xt.call(Se,ot,W);break t}ot=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Lt.payload,W=typeof xt=="function"?xt.call(Se,ot,W):xt,W==null)break t;ot=C({},ot,W);break t;case 2:da=!0}}W=R.callback,W!==null&&(e.flags|=64,tt&&(e.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[W]:tt.push(W))}else tt={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},st===null?(Q=st=tt,k=ot):st=st.next=tt,w|=W;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;tt=R,R=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);st===null&&(k=ot),m.baseState=k,m.firstBaseUpdate=Q,m.lastBaseUpdate=st,_===null&&(m.shared.lanes=0),Ta|=w,e.lanes=w,e.memoizedState=ot}}function K_(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Y_(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)K_(o[e],i)}var Il=U(null),ih=U(0);function Q_(e,i){e=Mr,ft(ih,e),ft(Il,i),Mr=e|i.baseLanes}function gd(){ft(ih,Mr),ft(Il,Il.current)}function yd(){Mr=ih.current,it(Il),it(ih)}var Oi=U(null),ss=null;function _a(e){var i=e.alternate;ft(tn,tn.current&1),ft(Oi,e),ss===null&&(i===null||Il.current!==null||i.memoizedState!==null)&&(ss=e)}function vd(e){ft(tn,tn.current),ft(Oi,e),ss===null&&(ss=e)}function X_(e){e.tag===22?(ft(tn,tn.current),ft(Oi,e),ss===null&&(ss=e)):ga()}function ga(){ft(tn,tn.current),ft(Oi,Oi.current)}function Pi(e){it(Oi),ss===e&&(ss=null),it(tn)}var tn=U(0);function sh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sm(o)||Rm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xr=0,Ft=null,we=null,ln=null,rh=!1,Nl=!1,ko=!1,ah=0,Nu=0,Ol=null,Cw=0;function Ke(){throw Error(a(321))}function Td(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!bn(e[o],i[o]))return!1;return!0}function Ed(e,i,o,c,m,_){return xr=_,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,et.H=e===null||e.memoizedState===null?Dg:kd,ko=!1,_=o(c,m),ko=!1,Nl&&(_=J_(i,o,c,m)),W_(e),_}function W_(e){et.H=Du;var i=we!==null&&we.next!==null;if(xr=0,ln=we=Ft=null,rh=!1,Nu=0,Ol=null,i)throw Error(a(300));e===null||un||(e=e.dependencies,e!==null&&Xc(e)&&(un=!0))}function J_(e,i,o,c){Ft=e;var m=0;do{if(Nl&&(Ol=null),Nu=0,Nl=!1,25<=m)throw Error(a(301));if(m+=1,ln=we=null,e.updateQueue!=null){var _=e.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}et.H=Lg,_=i(o,c)}while(Nl);return _}function Iw(){var e=et.H,i=e.useState()[0];return i=typeof i.then=="function"?Ou(i):i,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(Ft.flags|=1024),i}function bd(){var e=ah!==0;return ah=0,e}function wd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Ad(e){if(rh){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}rh=!1}xr=0,ln=we=Ft=null,Nl=!1,Nu=ah=0,Ol=null}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ft.memoizedState=ln=e:ln=ln.next=e,ln}function en(){if(we===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var i=ln===null?Ft.memoizedState:ln.next;if(i!==null)ln=i,we=e;else{if(e===null)throw Ft.alternate===null?Error(a(467)):Error(a(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ln===null?Ft.memoizedState=ln=e:ln=ln.next=e}return ln}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(e){var i=Nu;return Nu+=1,Ol===null&&(Ol=[]),e=H_(Ol,e,i),i=Ft,(ln===null?i.memoizedState:ln.next)===null&&(i=i.alternate,et.H=i===null||i.memoizedState===null?Dg:kd),e}function lh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ou(e);if(e.$$typeof===_t)return xn(e)}throw Error(a(438,String(e)))}function Sd(e){var i=null,o=Ft.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Ft.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=oh(),Ft.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=H;return i.index++,o}function Cr(e,i){return typeof i=="function"?i(e):i}function uh(e){var i=en();return Rd(i,we,e)}function Rd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,_=c.pending;if(_!==null){if(m!==null){var w=m.next;m.next=_.next,_.next=w}i.baseQueue=m=_,c.pending=null}if(_=e.baseState,m===null)e.memoizedState=_;else{i=m.next;var R=w=null,k=null,Q=i,st=!1;do{var ot=Q.lane&-536870913;if(ot!==Q.lane?(ne&ot)===ot:(xr&ot)===ot){var W=Q.revertLane;if(W===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ot===Sl&&(st=!0);else if((xr&W)===W){Q=Q.next,W===Sl&&(st=!0);continue}else ot={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(R=k=ot,w=_):k=k.next=ot,Ft.lanes|=W,Ta|=W;ot=Q.action,ko&&o(_,ot),_=Q.hasEagerState?Q.eagerState:o(_,ot)}else W={lane:ot,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},k===null?(R=k=W,w=_):k=k.next=W,Ft.lanes|=ot,Ta|=ot;Q=Q.next}while(Q!==null&&Q!==i);if(k===null?w=_:k.next=R,!bn(_,e.memoizedState)&&(un=!0,st&&(o=Rl,o!==null)))throw o;e.memoizedState=_,e.baseState=w,e.baseQueue=k,c.lastRenderedState=_}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function xd(e){var i=en(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,_=i.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do _=e(_,w.action),w=w.next;while(w!==m);bn(_,i.memoizedState)||(un=!0),i.memoizedState=_,i.baseQueue===null&&(i.baseState=_),o.lastRenderedState=_}return[_,c]}function $_(e,i,o){var c=Ft,m=en(),_=Wt;if(_){if(o===void 0)throw Error(a(407));o=o()}else o=i();var w=!bn((we||m).memoizedState,o);if(w&&(m.memoizedState=o,un=!0),m=m.queue,Nd(ng.bind(null,c,m,e),[e]),m.getSnapshot!==i||w||ln!==null&&ln.memoizedState.tag&1){if(c.flags|=2048,Pl(9,{destroy:void 0},eg.bind(null,c,m,o,i),null),Ie===null)throw Error(a(349));_||(xr&127)!==0||tg(c,i,o)}return o}function tg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Ft.updateQueue,i===null?(i=oh(),Ft.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function eg(e,i,o,c){i.value=o,i.getSnapshot=c,ig(i)&&sg(e)}function ng(e,i,o){return o(function(){ig(i)&&sg(e)})}function ig(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!bn(e,o)}catch{return!0}}function sg(e){var i=ns(e,2);i!==null&&pi(i,e,2)}function Cd(e){var i=Xn();if(typeof e=="function"){var o=e;if(e=o(),ko){Fn(!0);try{o()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},i}function rg(e,i,o,c){return e.baseState=o,Rd(e,we,typeof c=="function"?c:Cr)}function Nw(e,i,o,c,m){if(fh(e))throw Error(a(485));if(e=i.action,e!==null){var _={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){_.listeners.push(w)}};et.T!==null?o(!0):_.isTransition=!1,c(_),o=i.pending,o===null?(_.next=i.pending=_,ag(i,_)):(_.next=o.next,i.pending=o.next=_)}}function ag(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var _=et.T,w={};et.T=w;try{var R=o(m,c),k=et.S;k!==null&&k(w,R),og(e,i,R)}catch(Q){Id(e,i,Q)}finally{_!==null&&w.types!==null&&(_.types=w.types),et.T=_}}else try{_=o(m,c),og(e,i,_)}catch(Q){Id(e,i,Q)}}function og(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){lg(e,i,c)},function(c){return Id(e,i,c)}):lg(e,i,o)}function lg(e,i,o){i.status="fulfilled",i.value=o,ug(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,ag(e,o)))}function Id(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,ug(i),i=i.next;while(i!==c)}e.action=null}function ug(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function cg(e,i){return i}function hg(e,i){if(Wt){var o=Ie.formState;if(o!==null){t:{var c=Ft;if(Wt){if(de){e:{for(var m=de,_=ci;m.nodeType!==8;){if(!_){m=null;break e}if(m=rs(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){de=rs(m.nextSibling),c=m.data==="F!";break t}}Ys(c)}c=!1}c&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:i},o.queue=c,o=Ng.bind(null,Ft,c),c.dispatch=o,c=Cd(!1),_=Md.bind(null,Ft,!1,c.queue),c=Xn(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=Nw.bind(null,Ft,m,_,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function fg(e){var i=en();return dg(i,we,e)}function dg(e,i,o){if(i=Rd(e,i,cg)[0],e=uh(Cr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ou(i)}catch(w){throw w===xl?$c:w}else c=i;i=en();var m=i.queue,_=m.dispatch;return o!==i.memoizedState&&(Ft.flags|=2048,Pl(9,{destroy:void 0},Ow.bind(null,m,o),null)),[c,_,e]}function Ow(e,i){e.action=i}function mg(e){var i=en(),o=we;if(o!==null)return dg(i,o,e);en(),i=i.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function Pl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Ft.updateQueue,i===null&&(i=oh(),Ft.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function pg(){return en().memoizedState}function ch(e,i,o,c){var m=Xn();Ft.flags|=e,m.memoizedState=Pl(1|i,{destroy:void 0},o,c===void 0?null:c)}function hh(e,i,o,c){var m=en();c=c===void 0?null:c;var _=m.memoizedState.inst;we!==null&&c!==null&&Td(c,we.memoizedState.deps)?m.memoizedState=Pl(i,_,o,c):(Ft.flags|=e,m.memoizedState=Pl(1|i,_,o,c))}function _g(e,i){ch(8390656,8,e,i)}function Nd(e,i){hh(2048,8,e,i)}function Pw(e){Ft.flags|=4;var i=Ft.updateQueue;if(i===null)i=oh(),Ft.updateQueue=i,i.events=[e];else{var o=i.events;o===null?i.events=[e]:o.push(e)}}function gg(e){var i=en().memoizedState;return Pw({ref:i,nextImpl:e}),function(){if((_e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function yg(e,i){return hh(4,2,e,i)}function vg(e,i){return hh(4,4,e,i)}function Tg(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Eg(e,i,o){o=o!=null?o.concat([e]):null,hh(4,4,Tg.bind(null,i,e),o)}function Od(){}function bg(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Td(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function wg(e,i){var o=en();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Td(i,c[1]))return c[0];if(c=e(),ko){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c}function Pd(e,i,o){return o===void 0||(xr&1073741824)!==0&&(ne&261930)===0?e.memoizedState=i:(e.memoizedState=o,e=Ay(),Ft.lanes|=e,Ta|=e,o)}function Ag(e,i,o,c){return bn(o,i)?o:Il.current!==null?(e=Pd(e,o,c),bn(e,i)||(un=!0),e):(xr&42)===0||(xr&1073741824)!==0&&(ne&261930)===0?(un=!0,e.memoizedState=o):(e=Ay(),Ft.lanes|=e,Ta|=e,i)}function Sg(e,i,o,c,m){var _=gt.p;gt.p=_!==0&&8>_?_:8;var w=et.T,R={};et.T=R,Md(e,!1,i,o);try{var k=m(),Q=et.S;if(Q!==null&&Q(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var st=xw(k,c);Pu(e,i,st,Mi(e))}else Pu(e,i,c,Mi(e))}catch(ot){Pu(e,i,{then:function(){},status:"rejected",reason:ot},Mi())}finally{gt.p=_,w!==null&&R.types!==null&&(w.types=R.types),et.T=w}}function Dw(){}function Dd(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=Rg(e).queue;Sg(e,m,i,ht,o===null?Dw:function(){return xg(e),o(c)})}function Rg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:ht},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function xg(e){var i=Rg(e);i.next===null&&(i=e.alternate.memoizedState),Pu(e,i.next.queue,{},Mi())}function Ld(){return xn(Qu)}function Cg(){return en().memoizedState}function Ig(){return en().memoizedState}function Lw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Mi();e=ma(o);var c=pa(i,e,o);c!==null&&(pi(c,i,o),xu(c,i,o)),i={cache:ud()},e.payload=i;return}i=i.return}}function Mw(e,i,o){var c=Mi();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fh(e)?Og(i,o):(o=gu(e,i,o,c),o!==null&&(pi(o,e,c),Pg(o,i,c)))}function Ng(e,i,o){var c=Mi();Pu(e,i,o,c)}function Pu(e,i,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fh(e))Og(i,m);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=i.lastRenderedReducer,_!==null))try{var w=i.lastRenderedState,R=_(w,o);if(m.hasEagerState=!0,m.eagerState=R,bn(R,w))return Zs(e,i,m,0),Ie===null&&Ro(),!1}catch{}if(o=gu(e,i,m,c),o!==null)return pi(o,e,c),Pg(o,i,c),!0}return!1}function Md(e,i,o,c){if(c={lane:2,revertLane:dm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fh(e)){if(i)throw Error(a(479))}else i=gu(e,o,c,2),i!==null&&pi(i,e,2)}function fh(e){var i=e.alternate;return e===Ft||i!==null&&i===Ft}function Og(e,i){Nl=rh=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Pg(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,so(e,o)}}var Du={readContext:xn,use:lh,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Du.useEffectEvent=Ke;var Dg={readContext:xn,use:lh,useCallback:function(e,i){return Xn().memoizedState=[e,i===void 0?null:i],e},useContext:xn,useEffect:_g,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,ch(4194308,4,Tg.bind(null,i,e),o)},useLayoutEffect:function(e,i){return ch(4194308,4,e,i)},useInsertionEffect:function(e,i){ch(4,2,e,i)},useMemo:function(e,i){var o=Xn();i=i===void 0?null:i;var c=e();if(ko){Fn(!0);try{e()}finally{Fn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=Xn();if(o!==void 0){var m=o(i);if(ko){Fn(!0);try{o(i)}finally{Fn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=Mw.bind(null,Ft,e),[c.memoizedState,e]},useRef:function(e){var i=Xn();return e={current:e},i.memoizedState=e},useState:function(e){e=Cd(e);var i=e.queue,o=Ng.bind(null,Ft,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Od,useDeferredValue:function(e,i){var o=Xn();return Pd(o,e,i)},useTransition:function(){var e=Cd(!1);return e=Sg.bind(null,Ft,e.queue,!0,!1),Xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Ft,m=Xn();if(Wt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ie===null)throw Error(a(349));(ne&127)!==0||tg(c,i,o)}m.memoizedState=o;var _={value:o,getSnapshot:i};return m.queue=_,_g(ng.bind(null,c,_,e),[e]),c.flags|=2048,Pl(9,{destroy:void 0},eg.bind(null,c,_,o,i),null),o},useId:function(){var e=Xn(),i=Ie.identifierPrefix;if(Wt){var o=vt,c=at;o=(c&~(1<<32-Ve(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=ah++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Cw++,i="_"+i+"r_"+o.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Ld,useFormState:hg,useActionState:hg,useOptimistic:function(e){var i=Xn();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Md.bind(null,Ft,!0,o),o.dispatch=i,[e,i]},useMemoCache:Sd,useCacheRefresh:function(){return Xn().memoizedState=Lw.bind(null,Ft)},useEffectEvent:function(e){var i=Xn(),o={impl:e};return i.memoizedState=o,function(){if((_e&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},kd={readContext:xn,use:lh,useCallback:bg,useContext:xn,useEffect:Nd,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:wg,useReducer:uh,useRef:pg,useState:function(){return uh(Cr)},useDebugValue:Od,useDeferredValue:function(e,i){var o=en();return Ag(o,we.memoizedState,e,i)},useTransition:function(){var e=uh(Cr)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Ou(e),i]},useSyncExternalStore:$_,useId:Cg,useHostTransitionStatus:Ld,useFormState:fg,useActionState:fg,useOptimistic:function(e,i){var o=en();return rg(o,we,e,i)},useMemoCache:Sd,useCacheRefresh:Ig};kd.useEffectEvent=gg;var Lg={readContext:xn,use:lh,useCallback:bg,useContext:xn,useEffect:Nd,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:wg,useReducer:xd,useRef:pg,useState:function(){return xd(Cr)},useDebugValue:Od,useDeferredValue:function(e,i){var o=en();return we===null?Pd(o,e,i):Ag(o,we.memoizedState,e,i)},useTransition:function(){var e=xd(Cr)[0],i=en().memoizedState;return[typeof e=="boolean"?e:Ou(e),i]},useSyncExternalStore:$_,useId:Cg,useHostTransitionStatus:Ld,useFormState:mg,useActionState:mg,useOptimistic:function(e,i){var o=en();return we!==null?rg(o,we,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:Ig};Lg.useEffectEvent=gg;function Vd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:C({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var zd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Mi(),m=ma(c);m.payload=i,o!=null&&(m.callback=o),i=pa(e,m,c),i!==null&&(pi(i,e,c),xu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Mi(),m=ma(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=pa(e,m,c),i!==null&&(pi(i,e,c),xu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Mi(),c=ma(o);c.tag=2,i!=null&&(c.callback=i),i=pa(e,c,o),i!==null&&(pi(i,e,o),xu(i,e,o))}};function Mg(e,i,o,c,m,_,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,w):i.prototype&&i.prototype.isPureReactComponent?!oa(o,c)||!oa(m,_):!0}function kg(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&zd.enqueueReplaceState(i,i.state,null)}function Vo(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=C({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}function Vg(e){So(e)}function zg(e){console.error(e)}function Ug(e){So(e)}function dh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Bg(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ud(e,i,o){return o=ma(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(e,i)},o}function jg(e){return e=ma(e),e.tag=3,e}function Hg(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var _=c.value;e.payload=function(){return m(_)},e.callback=function(){Bg(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){Bg(i,o,c),typeof m!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function kw(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Al(i,o,m,!0),o=Oi.current,o!==null){switch(o.tag){case 31:case 13:return ss===null?Sh():o.alternate===null&&Ye===0&&(Ye=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===th?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),cm(e,c,m)),!1;case 22:return o.flags|=65536,c===th?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),cm(e,c,m)),!1}throw Error(a(435,o.tag))}return cm(e,c,m),Sh(),!1}if(Wt)return i=Oi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==wl&&(e=Error(a(422),{cause:c}),Io(u(e,o)))):(c!==wl&&(i=Error(a(423),{cause:c}),Io(u(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=u(c,o),m=Ud(e.stateNode,c,m),pd(e,m),Ye!==4&&(Ye=2)),!1;var _=Error(a(520),{cause:c});if(_=u(_,o),ju===null?ju=[_]:ju.push(_),Ye!==4&&(Ye=2),i===null)return!0;c=u(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Ud(o.stateNode,c,e),pd(o,e),!1;case 1:if(i=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ea===null||!Ea.has(_))))return o.flags|=65536,m&=-m,o.lanes|=m,m=jg(m),Hg(m,e,o,c),pd(o,m),!1}o=o.return}while(o!==null);return!1}var Bd=Error(a(461)),un=!1;function Cn(e,i,o,c){i.child=e===null?Z_(i,null,o,c):Mo(i,e.child,o,c)}function qg(e,i,o,c,m){o=o.render;var _=i.ref;if("ref"in c){var w={};for(var R in c)R!=="ref"&&(w[R]=c[R])}else w=c;return Oo(i),c=Ed(e,i,o,w,_,m),R=bd(),e!==null&&!un?(wd(e,i,m),Ir(e,i,m)):(Wt&&R&&mn(i),i.flags|=1,Cn(e,i,c,m),i.child)}function Fg(e,i,o,c,m){if(e===null){var _=o.type;return typeof _=="function"&&!El(_)&&_.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=_,Gg(e,i,_,c,m)):(e=Co(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(_=e.child,!Yd(e,m)){var w=_.memoizedProps;if(o=o.compare,o=o!==null?o:oa,o(w,c)&&e.ref===i.ref)return Ir(e,i,m)}return i.flags|=1,e=is(_,c),e.ref=i.ref,e.return=i,i.child=e}function Gg(e,i,o,c,m){if(e!==null){var _=e.memoizedProps;if(oa(_,c)&&e.ref===i.ref)if(un=!1,i.pendingProps=c=_,Yd(e,m))(e.flags&131072)!==0&&(un=!0);else return i.lanes=e.lanes,Ir(e,i,m)}return jd(e,i,o,c,m)}function Zg(e,i,o,c){var m=c.children,_=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(_=_!==null?_.baseLanes|o:o,e!==null){for(c=i.child=e.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~_}else c=0,i.child=null;return Kg(e,i,_,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jc(i,_!==null?_.cachePool:null),_!==null?Q_(i,_):gd(),X_(i);else return c=i.lanes=536870912,Kg(e,i,_!==null?_.baseLanes|o:o,o,c)}else _!==null?(Jc(i,_.cachePool),Q_(i,_),ga(),i.memoizedState=null):(e!==null&&Jc(i,null),gd(),ga());return Cn(e,i,m,o),i.child}function Lu(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Kg(e,i,o,c,m){var _=hd();return _=_===null?null:{parent:on._currentValue,pool:_},i.memoizedState={baseLanes:o,cachePool:_},e!==null&&Jc(i,null),gd(),X_(i),e!==null&&Al(e,i,c,!0),i.childLanes=m,null}function mh(e,i){return i=_h({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Yg(e,i,o){return Mo(i,e.child,null,o),e=mh(i,i.pendingProps),e.flags|=2,Pi(i),i.memoizedState=null,e}function Vw(e,i,o){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Wt){if(c.mode==="hidden")return e=mh(i,c),i.lanes=536870912,Lu(null,e);if(vd(i),(e=de)?(e=av(e,ci),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:at,overflow:vt}:null,retryLane:536870912,hydrationErrors:null},o=vu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Ys(i);return i.lanes=536870912,null}return mh(i,c)}var _=e.memoizedState;if(_!==null){var w=_.dehydrated;if(vd(i),m)if(i.flags&256)i.flags&=-257,i=Yg(e,i,o);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(un||Al(e,i,o,!1),m=(o&e.childLanes)!==0,un||m){if(c=Ie,c!==null&&(w=ro(c,o),w!==0&&w!==_.retryLane))throw _.retryLane=w,ns(e,w),pi(c,e,w),Bd;Sh(),i=Yg(e,i,o)}else e=_.treeContext,de=rs(w.nextSibling),fe=i,Wt=!0,Ks=null,ci=!1,e!==null&&Qn(i,e),i=mh(i,c),i.flags|=4096;return i}return e=is(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ph(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function jd(e,i,o,c,m){return Oo(i),o=Ed(e,i,o,c,void 0,m),c=bd(),e!==null&&!un?(wd(e,i,m),Ir(e,i,m)):(Wt&&c&&mn(i),i.flags|=1,Cn(e,i,o,m),i.child)}function Qg(e,i,o,c,m,_){return Oo(i),i.updateQueue=null,o=J_(i,c,o,m),W_(e),c=bd(),e!==null&&!un?(wd(e,i,_),Ir(e,i,_)):(Wt&&c&&mn(i),i.flags|=1,Cn(e,i,o,_),i.child)}function Xg(e,i,o,c,m){if(Oo(i),i.stateNode===null){var _=wr,w=o.contextType;typeof w=="object"&&w!==null&&(_=xn(w)),_=new o(c,_),i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zd,i.stateNode=_,_._reactInternals=i,_=i.stateNode,_.props=c,_.state=i.memoizedState,_.refs={},dd(i),w=o.contextType,_.context=typeof w=="object"&&w!==null?xn(w):wr,_.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Vd(i,o,w,c),_.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(w=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),w!==_.state&&zd.enqueueReplaceState(_,_.state,null),Iu(i,c,_,m),Cu(),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){_=i.stateNode;var R=i.memoizedProps,k=Vo(o,R);_.props=k;var Q=_.context,st=o.contextType;w=wr,typeof st=="object"&&st!==null&&(w=xn(st));var ot=o.getDerivedStateFromProps;st=typeof ot=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,st||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||Q!==w)&&kg(i,_,c,w),da=!1;var W=i.memoizedState;_.state=W,Iu(i,c,_,m),Cu(),Q=i.memoizedState,R||W!==Q||da?(typeof ot=="function"&&(Vd(i,o,ot,c),Q=i.memoizedState),(k=da||Mg(i,o,k,c,W,Q,w))?(st||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Q),_.props=c,_.state=Q,_.context=w,c=k):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,md(e,i),w=i.memoizedProps,st=Vo(o,w),_.props=st,ot=i.pendingProps,W=_.context,Q=o.contextType,k=wr,typeof Q=="object"&&Q!==null&&(k=xn(Q)),R=o.getDerivedStateFromProps,(Q=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==ot||W!==k)&&kg(i,_,c,k),da=!1,W=i.memoizedState,_.state=W,Iu(i,c,_,m),Cu();var tt=i.memoizedState;w!==ot||W!==tt||da||e!==null&&e.dependencies!==null&&Xc(e.dependencies)?(typeof R=="function"&&(Vd(i,o,R,c),tt=i.memoizedState),(st=da||Mg(i,o,st,c,W,tt,k)||e!==null&&e.dependencies!==null&&Xc(e.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,tt,k),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,tt,k)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=tt),_.props=c,_.state=tt,_.context=k,c=st):(typeof _.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(i.flags|=1024),c=!1)}return _=c,ph(e,i),c=(i.flags&128)!==0,_||c?(_=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:_.render(),i.flags|=1,e!==null&&c?(i.child=Mo(i,e.child,null,m),i.child=Mo(i,null,o,m)):Cn(e,i,o,m),i.memoizedState=_.state,e=i.child):e=Ir(e,i,m),e}function Wg(e,i,o,c){return Sr(),i.flags|=256,Cn(e,i,o,c),i.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(e){return{baseLanes:e,cachePool:B_()}}function Fd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Li),e}function Jg(e,i,o){var c=i.pendingProps,m=!1,_=(i.flags&128)!==0,w;if((w=_)||(w=e!==null&&e.memoizedState===null?!1:(tn.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,e===null){if(Wt){if(m?_a(i):ga(),(e=de)?(e=av(e,ci),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:X!==null?{id:at,overflow:vt}:null,retryLane:536870912,hydrationErrors:null},o=vu(e),o.return=i,i.child=o,fe=i,de=null)):e=null,e===null)throw Ys(i);return Rm(e)?i.lanes=32:i.lanes=536870912,null}var R=c.children;return c=c.fallback,m?(ga(),m=i.mode,R=_h({mode:"hidden",children:R},m),c=Ar(c,m,o,null),R.return=i,c.return=i,R.sibling=c,i.child=R,c=i.child,c.memoizedState=qd(o),c.childLanes=Fd(e,w,o),i.memoizedState=Hd,Lu(null,c)):(_a(i),Gd(i,R))}var k=e.memoizedState;if(k!==null&&(R=k.dehydrated,R!==null)){if(_)i.flags&256?(_a(i),i.flags&=-257,i=Zd(e,i,o)):i.memoizedState!==null?(ga(),i.child=e.child,i.flags|=128,i=null):(ga(),R=c.fallback,m=i.mode,c=_h({mode:"visible",children:c.children},m),R=Ar(R,m,o,null),R.flags|=2,c.return=i,R.return=i,c.sibling=R,i.child=c,Mo(i,e.child,null,o),c=i.child,c.memoizedState=qd(o),c.childLanes=Fd(e,w,o),i.memoizedState=Hd,i=Lu(null,c));else if(_a(i),Rm(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var Q=w.dgst;w=Q,c=Error(a(419)),c.stack="",c.digest=w,Io({value:c,source:null,stack:null}),i=Zd(e,i,o)}else if(un||Al(e,i,o,!1),w=(o&e.childLanes)!==0,un||w){if(w=Ie,w!==null&&(c=ro(w,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,ns(e,c),pi(w,e,c),Bd;Sm(R)||Sh(),i=Zd(e,i,o)}else Sm(R)?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,de=rs(R.nextSibling),fe=i,Wt=!0,Ks=null,ci=!1,e!==null&&Qn(i,e),i=Gd(i,c.children),i.flags|=4096);return i}return m?(ga(),R=c.fallback,m=i.mode,k=e.child,Q=k.sibling,c=is(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,Q!==null?R=is(Q,R):(R=Ar(R,m,o,null),R.flags|=2),R.return=i,c.return=i,c.sibling=R,i.child=c,Lu(null,c),c=i.child,R=e.child.memoizedState,R===null?R=qd(o):(m=R.cachePool,m!==null?(k=on._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=B_(),R={baseLanes:R.baseLanes|o,cachePool:m}),c.memoizedState=R,c.childLanes=Fd(e,w,o),i.memoizedState=Hd,Lu(e.child,c)):(_a(i),o=e.child,e=o.sibling,o=is(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(w=i.deletions,w===null?(i.deletions=[e],i.flags|=16):w.push(e)),i.child=o,i.memoizedState=null,o)}function Gd(e,i){return i=_h({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function _h(e,i){return e=zn(22,e,null,i),e.lanes=0,e}function Zd(e,i,o){return Mo(i,e.child,null,o),e=Gd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $g(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),od(e.return,i,o)}function Kd(e,i,o,c,m,_){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:_}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=o,w.tailMode=m,w.treeForkCount=_)}function ty(e,i,o){var c=i.pendingProps,m=c.revealOrder,_=c.tail;c=c.children;var w=tn.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,ft(tn,w),Cn(e,i,c,o),c=Wt?S:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$g(e,o,i);else if(e.tag===19)$g(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&sh(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Kd(i,!1,m,o,_,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&sh(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Kd(i,!0,o,null,_,c);break;case"together":Kd(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Ir(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Ta|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(Al(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=is(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=is(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Yd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Xc(e)))}function zw(e,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),fa(i,on,e.memoizedState.cache),Sr();break;case 27:case 5:us(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:fa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(_a(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Jg(e,i,o):(_a(i),e=Ir(e,i,o),e!==null?e.sibling:null);_a(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Al(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return ty(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(tn,tn.current),c)break;return null;case 22:return i.lanes=0,Zg(e,i,o,i.pendingProps);case 24:fa(i,on,e.memoizedState.cache)}return Ir(e,i,o)}function ey(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)un=!0;else{if(!Yd(e,o)&&(i.flags&128)===0)return un=!1,zw(e,i,o);un=(e.flags&131072)!==0}else un=!1,Wt&&(i.flags&1048576)!==0&&Zt(i,S,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=Do(i.elementType),i.type=e,typeof e=="function")El(e)?(c=Vo(e,c),i.tag=1,i=Xg(null,i,e,c,o)):(i.tag=0,i=jd(null,i,e,c,o));else{if(e!=null){var m=e.$$typeof;if(m===Mt){i.tag=11,i=qg(null,i,e,c,o);break t}else if(m===z){i.tag=14,i=Fg(null,i,e,c,o);break t}}throw i=oe(e)||e,Error(a(306,i,""))}}return i;case 0:return jd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Vo(c,i.pendingProps),Xg(e,i,c,m,o);case 3:t:{if(be(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var _=i.memoizedState;m=_.element,md(e,i),Iu(i,c,null,o);var w=i.memoizedState;if(c=w.cache,fa(i,on,c),c!==_.cache&&ld(i,[on],o,!0),Cu(),c=w.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=_,i.memoizedState=_,i.flags&256){i=Wg(e,i,c,o);break t}else if(c!==m){m=u(Error(a(424)),i),Io(m),i=Wg(e,i,c,o);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,de=rs(e.firstChild),fe=i,Wt=!0,Ks=null,ci=!0,o=Z_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sr(),c===m){i=Ir(e,i,o);break t}Cn(e,i,c,o)}i=i.child}return i;case 26:return ph(e,i),e===null?(o=fv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Wt||(o=i.type,e=i.pendingProps,c=Ph(Tt.current).createElement(o),c[Ue]=i,c[Fe]=e,In(c,o,e),Ge(c),i.stateNode=c):i.memoizedState=fv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return us(i),e===null&&Wt&&(c=i.stateNode=uv(i.type,i.pendingProps,Tt.current),fe=i,ci=!0,m=de,Sa(i.type)?(xm=m,de=rs(c.firstChild)):de=m),Cn(e,i,i.pendingProps.children,o),ph(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Wt&&((m=c=de)&&(c=mA(c,i.type,i.pendingProps,ci),c!==null?(i.stateNode=c,fe=i,de=rs(c.firstChild),ci=!1,m=!0):m=!1),m||Ys(i)),us(i),m=i.type,_=i.pendingProps,w=e!==null?e.memoizedProps:null,c=_.children,bm(m,_)?c=null:w!==null&&bm(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=Ed(e,i,Iw,null,null,o),Qu._currentValue=m),ph(e,i),Cn(e,i,c,o),i.child;case 6:return e===null&&Wt&&((e=o=de)&&(o=pA(o,i.pendingProps,ci),o!==null?(i.stateNode=o,fe=i,de=null,e=!0):e=!1),e||Ys(i)),null;case 13:return Jg(e,i,o);case 4:return be(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Mo(i,null,c,o):Cn(e,i,c,o),i.child;case 11:return qg(e,i,i.type,i.pendingProps,o);case 7:return Cn(e,i,i.pendingProps,o),i.child;case 8:return Cn(e,i,i.pendingProps.children,o),i.child;case 12:return Cn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,fa(i,i.type,c.value),Cn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Oo(i),m=xn(m),c=c(m),i.flags|=1,Cn(e,i,c,o),i.child;case 14:return Fg(e,i,i.type,i.pendingProps,o);case 15:return Gg(e,i,i.type,i.pendingProps,o);case 19:return ty(e,i,o);case 31:return Vw(e,i,o);case 22:return Zg(e,i,o,i.pendingProps);case 24:return Oo(i),c=xn(on),e===null?(m=hd(),m===null&&(m=Ie,_=ud(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=o),m=_),i.memoizedState={parent:c,cache:m},dd(i),fa(i,on,m)):((e.lanes&o)!==0&&(md(e,i),Iu(i,null,null,o),Cu()),m=e.memoizedState,_=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),fa(i,on,c)):(c=_.cache,fa(i,on,c),c!==m.cache&&ld(i,[on],o,!0))),Cn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Nr(e){e.flags|=4}function Qd(e,i,o,c,m){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Lo=th,fd}else e.flags&=-16777217}function ny(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gv(i))if(Cy())e.flags|=8192;else throw Lo=th,fd}function gh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ol():536870912,e.lanes|=i,kl|=i)}function Mu(e,i){if(!Wt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Le(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Uw(e,i,o){var c=i.pendingProps;switch(Ze(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(i),null;case 1:return Le(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Rr(on),Re(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(bs(i)?Nr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bu())),Le(i),null;case 26:var m=i.type,_=i.memoizedState;return e===null?(Nr(i),_!==null?(Le(i),ny(i,_)):(Le(i),Qd(i,m,null,c,o))):_?_!==e.memoizedState?(Nr(i),Le(i),ny(i,_)):(Le(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&Nr(i),Le(i),Qd(i,m,e,c,o)),null;case 27:if(Is(i),o=Tt.current,m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Le(i),null}e=mt.current,bs(i)?Eu(i):(e=uv(m,c,o),i.stateNode=e,Nr(i))}return Le(i),null;case 5:if(Is(i),m=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Le(i),null}if(_=mt.current,bs(i))Eu(i);else{var w=Ph(Tt.current);switch(_){case 1:_=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=w.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?w.createElement(m,{is:c.is}):w.createElement(m)}}_[Ue]=i,_[Fe]=c;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)_.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=_;t:switch(In(_,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Nr(i)}}return Le(i),Qd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,o),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&Nr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Tt.current,bs(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=fe,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Ue]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Jy(e.nodeValue,o)),e||Ys(i,!0)}else e=Ph(e).createTextNode(c),e[Ue]=i,i.stateNode=e}return Le(i),null;case 31:if(o=i.memoizedState,e===null||e.memoizedState!==null){if(c=bs(i),o!==null){if(e===null){if(!c)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ue]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Le(i),e=!1}else o=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return i.flags&256?(Pi(i),i):(Pi(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Le(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=bs(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ue]=i}else Sr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Le(i),m=!1}else m=bu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Pi(i),i):(Pi(i),null)}return Pi(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,e=e!==null&&e.memoizedState!==null,o&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048)),o!==e&&o&&(i.child.flags|=8192),gh(i,i.updateQueue),Le(i),null);case 4:return Re(),e===null&&gm(i.stateNode.containerInfo),Le(i),null;case 10:return Rr(i.type),Le(i),null;case 19:if(it(tn),c=i.memoizedState,c===null)return Le(i),null;if(m=(i.flags&128)!==0,_=c.rendering,_===null)if(m)Mu(c,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(_=sh(e),_!==null){for(i.flags|=128,Mu(c,!1),e=_.updateQueue,i.updateQueue=e,gh(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)yu(o,e),o=o.sibling;return ft(tn,tn.current&1|2),Wt&&Nt(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&Rn()>bh&&(i.flags|=128,m=!0,Mu(c,!1),i.lanes=4194304)}else{if(!m)if(e=sh(_),e!==null){if(i.flags|=128,m=!0,e=e.updateQueue,i.updateQueue=e,gh(i,e),Mu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!Wt)return Le(i),null}else 2*Rn()-c.renderingStartTime>bh&&o!==536870912&&(i.flags|=128,m=!0,Mu(c,!1),i.lanes=4194304);c.isBackwards?(_.sibling=i.child,i.child=_):(e=c.last,e!==null?e.sibling=_:i.child=_,c.last=_)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Rn(),e.sibling=null,o=tn.current,ft(tn,m?o&1|2:o&1),Wt&&Nt(i,c.treeForkCount),e):(Le(i),null);case 22:case 23:return Pi(i),yd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Le(i),i.subtreeFlags&6&&(i.flags|=8192)):Le(i),o=i.updateQueue,o!==null&&gh(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&it(Po),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Rr(on),Le(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Bw(e,i){switch(Ze(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Rr(on),Re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Is(i),null;case 31:if(i.memoizedState!==null){if(Pi(i),i.alternate===null)throw Error(a(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Pi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(tn),null;case 4:return Re(),null;case 10:return Rr(i.type),null;case 22:case 23:return Pi(i),yd(),e!==null&&it(Po),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Rr(on),null;case 25:return null;default:return null}}function iy(e,i){switch(Ze(i),i.tag){case 3:Rr(on),Re();break;case 26:case 27:case 5:Is(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&Pi(i);break;case 13:Pi(i);break;case 19:it(tn);break;case 10:Rr(i.type);break;case 22:case 23:Pi(i),yd(),e!==null&&it(Po);break;case 24:Rr(on)}}function ku(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var _=o.create,w=o.inst;c=_(),w.destroy=c}o=o.next}while(o!==m)}}catch(R){Ee(i,i.return,R)}}function ya(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var _=m.next;c=_;do{if((c.tag&e)===e){var w=c.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,m=i;var k=o,Q=R;try{Q()}catch(st){Ee(m,k,st)}}}c=c.next}while(c!==_)}}catch(st){Ee(i,i.return,st)}}function sy(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Y_(i,o)}catch(c){Ee(e,e.return,c)}}}function ry(e,i,o){o.props=Vo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ee(e,i,c)}}function Vu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Ee(e,i,m)}}function Xs(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ee(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ee(e,i,m)}else o.current=null}function ay(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ee(e,e.return,m)}}function Xd(e,i,o){try{var c=e.stateNode;lA(c,e.type,o,i),c[Fe]=i}catch(m){Ee(e,e.return,m)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sa(e.type)||e.tag===4}function Wd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Dn));else if(c!==4&&(c===27&&Sa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Jd(e,i,o),e=e.sibling;e!==null;)Jd(e,i,o),e=e.sibling}function yh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&Sa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(yh(e,i,o),e=e.sibling;e!==null;)yh(e,i,o),e=e.sibling}function ly(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);In(i,c,o),i[Ue]=e,i[Fe]=o}catch(_){Ee(e,e.return,_)}}var Or=!1,cn=!1,$d=!1,uy=typeof WeakSet=="function"?WeakSet:Set,An=null;function jw(e,i){if(e=e.containerInfo,Tm=Uh,e=Eo(e),Hs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break t}var w=0,R=-1,k=-1,Q=0,st=0,ot=e,W=null;e:for(;;){for(var tt;ot!==o||m!==0&&ot.nodeType!==3||(R=w+m),ot!==_||c!==0&&ot.nodeType!==3||(k=w+c),ot.nodeType===3&&(w+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)W=ot,ot=tt;for(;;){if(ot===e)break e;if(W===o&&++Q===m&&(R=w),W===_&&++st===c&&(k=w),(tt=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=tt}o=R===-1||k===-1?null:{start:R,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Em={focusedElem:e,selectionRange:o},Uh=!1,An=i;An!==null;)if(i=An,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,An=e;else for(;An!==null;){switch(i=An,_=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)m=e[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&_!==null){e=void 0,o=i,m=_.memoizedProps,_=_.memoizedState,c=o.stateNode;try{var xt=Vo(o.type,m);e=c.getSnapshotBeforeUpdate(xt,_),c.__reactInternalSnapshotBeforeUpdate=e}catch(Lt){Ee(o,o.return,Lt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Am(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,An=e;break}An=i.return}}function cy(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(e,o),c&4&&ku(5,o);break;case 1:if(Dr(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(w){Ee(o,o.return,w)}else{var m=Vo(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(w){Ee(o,o.return,w)}}c&64&&sy(o),c&512&&Vu(o,o.return);break;case 3:if(Dr(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Y_(e,i)}catch(w){Ee(o,o.return,w)}}break;case 27:i===null&&c&4&&ly(o);case 26:case 5:Dr(e,o),i===null&&c&4&&ay(o),c&512&&Vu(o,o.return);break;case 12:Dr(e,o);break;case 31:Dr(e,o),c&4&&dy(e,o);break;case 13:Dr(e,o),c&4&&my(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Xw.bind(null,o),_A(e,o))));break;case 22:if(c=o.memoizedState!==null||Or,!c){i=i!==null&&i.memoizedState!==null||cn,m=Or;var _=cn;Or=c,(cn=i)&&!_?Lr(e,o,(o.subtreeFlags&8772)!==0):Dr(e,o),Or=m,cn=_}break;case 30:break;default:Dr(e,o)}}function hy(e){var i=e.alternate;i!==null&&(e.alternate=null,hy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Yr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,hi=!1;function Pr(e,i,o){for(o=o.child;o!==null;)fy(e,i,o),o=o.sibling}function fy(e,i,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Jn,o)}catch{}switch(o.tag){case 26:cn||Xs(o,i),Pr(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:cn||Xs(o,i);var c=ke,m=hi;Sa(o.type)&&(ke=o.stateNode,hi=!1),Pr(e,i,o),Zu(o.stateNode),ke=c,hi=m;break;case 5:cn||Xs(o,i);case 6:if(c=ke,m=hi,ke=null,Pr(e,i,o),ke=c,hi=m,ke!==null)if(hi)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(o.stateNode)}catch(_){Ee(o,i,_)}else try{ke.removeChild(o.stateNode)}catch(_){Ee(o,i,_)}break;case 18:ke!==null&&(hi?(e=ke,sv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Fl(e)):sv(ke,o.stateNode));break;case 4:c=ke,m=hi,ke=o.stateNode.containerInfo,hi=!0,Pr(e,i,o),ke=c,hi=m;break;case 0:case 11:case 14:case 15:ya(2,o,i),cn||ya(4,o,i),Pr(e,i,o);break;case 1:cn||(Xs(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ry(o,i,c)),Pr(e,i,o);break;case 21:Pr(e,i,o);break;case 22:cn=(c=cn)||o.memoizedState!==null,Pr(e,i,o),cn=c;break;default:Pr(e,i,o)}}function dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fl(e)}catch(o){Ee(i,i.return,o)}}}function my(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fl(e)}catch(o){Ee(i,i.return,o)}}function Hw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new uy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new uy),i;default:throw Error(a(435,e.tag))}}function vh(e,i){var o=Hw(e);i.forEach(function(c){if(!o.has(c)){o.add(c);var m=Ww.bind(null,e,c);c.then(m,m)}})}function fi(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],_=e,w=i,R=w;t:for(;R!==null;){switch(R.tag){case 27:if(Sa(R.type)){ke=R.stateNode,hi=!1;break t}break;case 5:ke=R.stateNode,hi=!1;break t;case 3:case 4:ke=R.stateNode.containerInfo,hi=!0;break t}R=R.return}if(ke===null)throw Error(a(160));fy(_,w,m),ke=null,hi=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)py(i,e),i=i.sibling}var As=null;function py(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fi(i,e),di(e),c&4&&(ya(3,e,e.return),ku(3,e),ya(5,e,e.return));break;case 1:fi(i,e),di(e),c&512&&(cn||o===null||Xs(o,o.return)),c&64&&Or&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=As;if(fi(i,e),di(e),c&512&&(cn||o===null||Xs(o,o.return)),c&4){var _=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":_=m.getElementsByTagName("title")[0],(!_||_[Gi]||_[Ue]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(c),m.head.insertBefore(_,m.querySelector("head > title"))),In(_,c,o),_[Ue]=e,Ge(_),c=_;break t;case"link":var w=pv("link","href",m).get(c+(o.href||""));if(w){for(var R=0;R<w.length;R++)if(_=w[R],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(R,1);break e}}_=m.createElement(c),In(_,c,o),m.head.appendChild(_);break;case"meta":if(w=pv("meta","content",m).get(c+(o.content||""))){for(R=0;R<w.length;R++)if(_=w[R],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(R,1);break e}}_=m.createElement(c),In(_,c,o),m.head.appendChild(_);break;default:throw Error(a(468,c))}_[Ue]=e,Ge(_),c=_}e.stateNode=c}else _v(m,e.type,e.stateNode);else e.stateNode=mv(m,c,e.memoizedProps);else _!==c?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,c===null?_v(m,e.type,e.stateNode):mv(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Xd(e,e.memoizedProps,o.memoizedProps)}break;case 27:fi(i,e),di(e),c&512&&(cn||o===null||Xs(o,o.return)),o!==null&&c&4&&Xd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(fi(i,e),di(e),c&512&&(cn||o===null||Xs(o,o.return)),e.flags&32){m=e.stateNode;try{rn(m,"")}catch(xt){Ee(e,e.return,xt)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Xd(e,m,o!==null?o.memoizedProps:m)),c&1024&&($d=!0);break;case 6:if(fi(i,e),di(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(xt){Ee(e,e.return,xt)}}break;case 3:if(Mh=null,m=As,As=Dh(i.containerInfo),fi(i,e),As=m,di(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(xt){Ee(e,e.return,xt)}$d&&($d=!1,_y(e));break;case 4:c=As,As=Dh(e.stateNode.containerInfo),fi(i,e),di(e),As=c;break;case 12:fi(i,e),di(e);break;case 31:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 13:fi(i,e),di(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Eh=Rn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 22:m=e.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Q=Or,st=cn;if(Or=Q||m,cn=st||k,fi(i,e),cn=st,Or=Q,di(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||k||Or||cn||zo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(_=k.stateNode,m)w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=k.stateNode;var ot=k.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(xt){Ee(k,k.return,xt)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(xt){Ee(k,k.return,xt)}}}else if(i.tag===18){if(o===null){k=i;try{var tt=k.stateNode;m?rv(tt,!0):rv(k.stateNode,!1)}catch(xt){Ee(k,k.return,xt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vh(e,o))));break;case 19:fi(i,e),di(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,vh(e,c)));break;case 30:break;case 21:break;default:fi(i,e),di(e)}}function di(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(oy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,_=Wd(e);yh(e,_,m);break;case 5:var w=o.stateNode;o.flags&32&&(rn(w,""),o.flags&=-33);var R=Wd(e);yh(e,R,w);break;case 3:case 4:var k=o.stateNode.containerInfo,Q=Wd(e);Jd(e,Q,k);break;default:throw Error(a(161))}}catch(st){Ee(e,e.return,st)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function _y(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;_y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Dr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cy(e,i.alternate,i),i=i.sibling}function zo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ya(4,i,i.return),zo(i);break;case 1:Xs(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ry(i,i.return,o),zo(i);break;case 27:Zu(i.stateNode);case 26:case 5:Xs(i,i.return),zo(i);break;case 22:i.memoizedState===null&&zo(i);break;case 30:zo(i);break;default:zo(i)}e=e.sibling}}function Lr(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,_=i,w=_.flags;switch(_.tag){case 0:case 11:case 15:Lr(m,_,o),ku(4,_);break;case 1:if(Lr(m,_,o),c=_,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Ee(c,c.return,Q)}if(c=_,m=c.updateQueue,m!==null){var R=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)K_(k[m],R)}catch(Q){Ee(c,c.return,Q)}}o&&w&64&&sy(_),Vu(_,_.return);break;case 27:ly(_);case 26:case 5:Lr(m,_,o),o&&c===null&&w&4&&ay(_),Vu(_,_.return);break;case 12:Lr(m,_,o);break;case 31:Lr(m,_,o),o&&w&4&&dy(m,_);break;case 13:Lr(m,_,o),o&&w&4&&my(m,_);break;case 22:_.memoizedState===null&&Lr(m,_,o),Vu(_,_.return);break;case 30:break;default:Lr(m,_,o)}i=i.sibling}}function tm(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&wu(o))}function em(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wu(e))}function Ss(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(e,i,o,c),i=i.sibling}function gy(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Ss(e,i,o,c),m&2048&&ku(9,i);break;case 1:Ss(e,i,o,c);break;case 3:Ss(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&wu(e)));break;case 12:if(m&2048){Ss(e,i,o,c),e=i.stateNode;try{var _=i.memoizedProps,w=_.id,R=_.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ee(i,i.return,k)}}else Ss(e,i,o,c);break;case 31:Ss(e,i,o,c);break;case 13:Ss(e,i,o,c);break;case 23:break;case 22:_=i.stateNode,w=i.alternate,i.memoizedState!==null?_._visibility&2?Ss(e,i,o,c):zu(e,i):_._visibility&2?Ss(e,i,o,c):(_._visibility|=2,Dl(e,i,o,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&tm(w,i);break;case 24:Ss(e,i,o,c),m&2048&&em(i.alternate,i);break;default:Ss(e,i,o,c)}}function Dl(e,i,o,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var _=e,w=i,R=o,k=c,Q=w.flags;switch(w.tag){case 0:case 11:case 15:Dl(_,w,R,k,m),ku(8,w);break;case 23:break;case 22:var st=w.stateNode;w.memoizedState!==null?st._visibility&2?Dl(_,w,R,k,m):zu(_,w):(st._visibility|=2,Dl(_,w,R,k,m)),m&&Q&2048&&tm(w.alternate,w);break;case 24:Dl(_,w,R,k,m),m&&Q&2048&&em(w.alternate,w);break;default:Dl(_,w,R,k,m)}i=i.sibling}}function zu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:zu(o,c),m&2048&&tm(c.alternate,c);break;case 24:zu(o,c),m&2048&&em(c.alternate,c);break;default:zu(o,c)}i=i.sibling}}var Uu=8192;function Ll(e,i,o){if(e.subtreeFlags&Uu)for(e=e.child;e!==null;)yy(e,i,o),e=e.sibling}function yy(e,i,o){switch(e.tag){case 26:Ll(e,i,o),e.flags&Uu&&e.memoizedState!==null&&CA(o,As,e.memoizedState,e.memoizedProps);break;case 5:Ll(e,i,o);break;case 3:case 4:var c=As;As=Dh(e.stateNode.containerInfo),Ll(e,i,o),As=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Uu,Uu=16777216,Ll(e,i,o),Uu=c):Ll(e,i,o));break;default:Ll(e,i,o)}}function vy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Bu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Ey(c,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:Bu(e),e.flags&2048&&ya(9,e,e.return);break;case 3:Bu(e);break;case 12:Bu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Th(e)):Bu(e);break;default:Bu(e)}}function Th(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];An=c,Ey(c,e)}vy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ya(8,i,i.return),Th(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Th(i));break;default:Th(i)}e=e.sibling}}function Ey(e,i){for(;An!==null;){var o=An;switch(o.tag){case 0:case 11:case 15:ya(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,An=c;else t:for(o=e;An!==null;){c=An;var m=c.sibling,_=c.return;if(hy(c),c===o){An=null;break t}if(m!==null){m.return=_,An=m;break t}An=_}}}var qw={getCacheForType:function(e){var i=xn(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o},cacheSignal:function(){return xn(on).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ie=null,Jt=null,ne=0,Te=0,Di=null,va=!1,Ml=!1,nm=!1,Mr=0,Ye=0,Ta=0,Uo=0,im=0,Li=0,kl=0,ju=null,mi=null,sm=!1,Eh=0,by=0,bh=1/0,wh=null,Ea=null,pn=0,ba=null,Vl=null,kr=0,rm=0,am=null,wy=null,Hu=0,om=null;function Mi(){return(_e&2)!==0&&ne!==0?ne&-ne:et.T!==null?dm():ao()}function Ay(){if(Li===0)if((ne&536870912)===0||Wt){var e=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),Li=e}else Li=536870912;return e=Oi.current,e!==null&&(e.flags|=32),Li}function pi(e,i,o){(e===Ie&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(zl(e,0),wa(e,ne,Li,!1)),hs(e,o),((_e&2)===0||e!==Ie)&&(e===Ie&&((_e&2)===0&&(Uo|=o),Ye===4&&wa(e,ne,Li,!1)),Ws(e))}function Sy(e,i,o){if((_e&6)!==0)throw Error(a(327));var c=!o&&(i&127)===0&&(i&e.expiredLanes)===0||vi(e,i),m=c?Kw(e,i):um(e,i,!0),_=c;do{if(m===0){Ml&&!c&&wa(e,i,0,!1);break}else{if(o=e.current.alternate,_&&!Gw(o)){m=um(e,i,!1),_=!1;continue}if(m===2){if(_=i,e.errorRecoveryDisabledLanes&_)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var R=e;m=ju;var k=R.current.memoizedState.isDehydrated;if(k&&(zl(R,w).flags|=256),w=um(R,w,!1),w!==2){if(nm&&!k){R.errorRecoveryDisabledLanes|=_,Uo|=_,m=4;break t}_=mi,mi=m,_!==null&&(mi===null?mi=_:mi.push.apply(mi,_))}m=w}if(_=!1,m!==2)continue}}if(m===1){zl(e,0),wa(e,i,0,!0);break}t:{switch(c=e,_=m,_){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wa(c,i,Li,!va);break t;case 2:mi=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Eh+300-Rn(),10<m)){if(wa(c,i,Li,!va),qi(c,0,!0)!==0)break t;kr=i,c.timeoutHandle=nv(Ry.bind(null,c,o,mi,wh,sm,i,Li,Uo,kl,va,_,"Throttled",-0,0),m);break t}Ry(c,o,mi,wh,sm,i,Li,Uo,kl,va,_,null,-0,0)}}break}while(!0);Ws(e)}function Ry(e,i,o,c,m,_,w,R,k,Q,st,ot,W,tt){if(e.timeoutHandle=-1,ot=i.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},yy(i,_,ot);var xt=(_&62914560)===_?Eh-Rn():(_&4194048)===_?by-Rn():0;if(xt=IA(ot,xt),xt!==null){kr=_,e.cancelPendingCommit=xt(Ly.bind(null,e,i,_,o,c,m,w,R,k,st,ot,null,W,tt)),wa(e,_,w,!Q);return}}Ly(e,i,_,o,c,m,w,R,k)}function Gw(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],_=m.getSnapshot;m=m.value;try{if(!bn(_(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wa(e,i,o,c){i&=~im,i&=~Uo,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var _=31-Ve(m),w=1<<_;c[_]=-1,m&=~w}o!==0&&mr(e,o,i)}function Ah(){return(_e&6)===0?(qu(0),!1):!0}function lm(){if(Jt!==null){if(Te===0)var e=Jt.return;else e=Jt,ws=Qs=null,Ad(e),Cl=null,Su=0,e=Jt;for(;e!==null;)iy(e.alternate,e),e=e.return;Jt=null}}function zl(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,hA(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),kr=0,lm(),Ie=e,Jt=o=is(e.current,null),ne=i,Te=0,Di=null,va=!1,Ml=vi(e,i),nm=!1,kl=Li=im=Uo=Ta=Ye=0,mi=ju=null,sm=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-Ve(c),_=1<<m;i|=e[m],c&=~_}return Mr=i,Ro(),o}function xy(e,i){Ft=null,et.H=Du,i===xl||i===$c?(i=q_(),Te=3):i===fd?(i=q_(),Te=4):Te=i===Bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Di=i,Jt===null&&(Ye=1,dh(e,u(i,e.current)))}function Cy(){var e=Oi.current;return e===null?!0:(ne&4194048)===ne?ss===null:(ne&62914560)===ne||(ne&536870912)!==0?e===ss:!1}function Iy(){var e=et.H;return et.H=Du,e===null?Du:e}function Ny(){var e=et.A;return et.A=qw,e}function Sh(){Ye=4,va||(ne&4194048)!==ne&&Oi.current!==null||(Ml=!0),(Ta&134217727)===0&&(Uo&134217727)===0||Ie===null||wa(Ie,ne,Li,!1)}function um(e,i,o){var c=_e;_e|=2;var m=Iy(),_=Ny();(Ie!==e||ne!==i)&&(wh=null,zl(e,i)),i=!1;var w=Ye;t:do try{if(Te!==0&&Jt!==null){var R=Jt,k=Di;switch(Te){case 8:lm(),w=6;break t;case 3:case 2:case 9:case 6:Oi.current===null&&(i=!0);var Q=Te;if(Te=0,Di=null,Ul(e,R,k,Q),o&&Ml){w=0;break t}break;default:Q=Te,Te=0,Di=null,Ul(e,R,k,Q)}}Zw(),w=Ye;break}catch(st){xy(e,st)}while(!0);return i&&e.shellSuspendCounter++,ws=Qs=null,_e=c,et.H=m,et.A=_,Jt===null&&(Ie=null,ne=0,Ro()),w}function Zw(){for(;Jt!==null;)Oy(Jt)}function Kw(e,i){var o=_e;_e|=2;var c=Iy(),m=Ny();Ie!==e||ne!==i?(wh=null,bh=Rn()+500,zl(e,i)):Ml=vi(e,i);t:do try{if(Te!==0&&Jt!==null){i=Jt;var _=Di;e:switch(Te){case 1:Te=0,Di=null,Ul(e,i,_,1);break;case 2:case 9:if(j_(_)){Te=0,Di=null,Py(i);break}i=function(){Te!==2&&Te!==9||Ie!==e||(Te=7),Ws(e)},_.then(i,i);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:j_(_)?(Te=0,Di=null,Py(i)):(Te=0,Di=null,Ul(e,i,_,7));break;case 5:var w=null;switch(Jt.tag){case 26:w=Jt.memoizedState;case 5:case 27:var R=Jt;if(w?gv(w):R.stateNode.complete){Te=0,Di=null;var k=R.sibling;if(k!==null)Jt=k;else{var Q=R.return;Q!==null?(Jt=Q,Rh(Q)):Jt=null}break e}}Te=0,Di=null,Ul(e,i,_,5);break;case 6:Te=0,Di=null,Ul(e,i,_,6);break;case 8:lm(),Ye=6;break t;default:throw Error(a(462))}}Yw();break}catch(st){xy(e,st)}while(!0);return ws=Qs=null,et.H=c,et.A=m,_e=o,Jt!==null?0:(Ie=null,ne=0,Ro(),Ye)}function Yw(){for(;Jt!==null&&!sl();)Oy(Jt)}function Oy(e){var i=ey(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,i===null?Rh(e):Jt=i}function Py(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=Qg(o,i,i.pendingProps,i.type,void 0,ne);break;case 11:i=Qg(o,i,i.pendingProps,i.type.render,i.ref,ne);break;case 5:Ad(i);default:iy(o,i),i=Jt=yu(i,Mr),i=ey(o,i,Mr)}e.memoizedProps=e.pendingProps,i===null?Rh(e):Jt=i}function Ul(e,i,o,c){ws=Qs=null,Ad(i),Cl=null,Su=0;var m=i.return;try{if(kw(e,m,i,o,ne)){Ye=1,dh(e,u(o,e.current)),Jt=null;return}}catch(_){if(m!==null)throw Jt=m,_;Ye=1,dh(e,u(o,e.current)),Jt=null;return}i.flags&32768?(Wt||c===1?e=!0:Ml||(ne&536870912)!==0?e=!1:(va=e=!0,(c===2||c===9||c===3||c===6)&&(c=Oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dy(i,e)):Rh(i)}function Rh(e){var i=e;do{if((i.flags&32768)!==0){Dy(i,va);return}e=i.return;var o=Uw(i.alternate,i,Mr);if(o!==null){Jt=o;return}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=e}while(i!==null);Ye===0&&(Ye=5)}function Dy(e,i){do{var o=Bw(e.alternate,e);if(o!==null){o.flags&=32767,Jt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Jt=e;return}Jt=e=o}while(e!==null);Ye=6,Jt=null}function Ly(e,i,o,c,m,_,w,R,k){e.cancelPendingCommit=null;do xh();while(pn!==0);if((_e&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(_=i.lanes|i.childLanes,_|=Tl,_u(e,o,_,w,R,k),e===Ie&&(Jt=Ie=null,ne=0),Vl=i,ba=e,kr=o,rm=_,am=m,wy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jw(cs,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=et.T,et.T=null,m=gt.p,gt.p=2,w=_e,_e|=4;try{jw(e,i,o)}finally{_e=w,gt.p=m,et.T=c}}pn=1,My(),ky(),Vy()}}function My(){if(pn===1){pn=0;var e=ba,i=Vl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=et.T,et.T=null;var c=gt.p;gt.p=2;var m=_e;_e|=4;try{py(i,e);var _=Em,w=Eo(e.containerInfo),R=_.focusedElem,k=_.selectionRange;if(w!==R&&R&&R.ownerDocument&&_l(R.ownerDocument.documentElement,R)){if(k!==null&&Hs(R)){var Q=k.start,st=k.end;if(st===void 0&&(st=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(st,R.value.length);else{var ot=R.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var tt=W.getSelection(),xt=R.textContent.length,Lt=Math.min(k.start,xt),Se=k.end===void 0?Lt:Math.min(k.end,xt);!tt.extend&&Lt>Se&&(w=Se,Se=Lt,Lt=w);var F=To(R,Lt),j=To(R,Se);if(F&&j&&(tt.rangeCount!==1||tt.anchorNode!==F.node||tt.anchorOffset!==F.offset||tt.focusNode!==j.node||tt.focusOffset!==j.offset)){var Y=ot.createRange();Y.setStart(F.node,F.offset),tt.removeAllRanges(),Lt>Se?(tt.addRange(Y),tt.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),tt.addRange(Y))}}}}for(ot=[],tt=R;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ot.length;R++){var rt=ot[R];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Uh=!!Tm,Em=Tm=null}finally{_e=m,gt.p=c,et.T=o}}e.current=i,pn=2}}function ky(){if(pn===2){pn=0;var e=ba,i=Vl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=et.T,et.T=null;var c=gt.p;gt.p=2;var m=_e;_e|=4;try{cy(e,i.alternate,i)}finally{_e=m,gt.p=c,et.T=o}}pn=3}}function Vy(){if(pn===4||pn===3){pn=0,eo();var e=ba,i=Vl,o=kr,c=wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,Vl=ba=null,zy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Ea=null),Rt(o),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=et.T,m=gt.p,gt.p=2,et.T=null;try{for(var _=e.onRecoverableError,w=0;w<c.length;w++){var R=c[w];_(R.value,{componentStack:R.stack})}}finally{et.T=i,gt.p=m}}(kr&3)!==0&&xh(),Ws(e),m=e.pendingLanes,(o&261930)!==0&&(m&42)!==0?e===om?Hu++:(Hu=0,om=e):Hu=0,qu(0)}}function zy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,wu(i)))}function xh(){return My(),ky(),Vy(),Uy()}function Uy(){if(pn!==5)return!1;var e=ba,i=rm;rm=0;var o=Rt(kr),c=et.T,m=gt.p;try{gt.p=32>o?32:o,et.T=null,o=am,am=null;var _=ba,w=kr;if(pn=0,Vl=ba=null,kr=0,(_e&6)!==0)throw Error(a(331));var R=_e;if(_e|=4,Ty(_.current),gy(_,_.current,w,o),_e=R,qu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Jn,_)}catch{}return!0}finally{gt.p=m,et.T=c,zy(e,i)}}function By(e,i,o){i=u(o,i),i=Ud(e.stateNode,i,2),e=pa(e,i,2),e!==null&&(hs(e,2),Ws(e))}function Ee(e,i,o){if(e.tag===3)By(e,e,o);else for(;i!==null;){if(i.tag===3){By(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ea===null||!Ea.has(c))){e=u(o,e),o=jg(2),c=pa(i,o,2),c!==null&&(Hg(o,c,i,e),hs(c,2),Ws(c));break}}i=i.return}}function cm(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Fw;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(nm=!0,m.add(o),e=Qw.bind(null,e,i,o),i.then(e,e))}function Qw(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ie===e&&(ne&o)===o&&(Ye===4||Ye===3&&(ne&62914560)===ne&&300>Rn()-Eh?(_e&2)===0&&zl(e,0):im|=o,kl===ne&&(kl=0)),Ws(e)}function jy(e,i){i===0&&(i=ol()),e=ns(e,i),e!==null&&(hs(e,i),Ws(e))}function Xw(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),jy(e,o)}function Ww(e,i){var o=0;switch(e.tag){case 31:case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),jy(e,o)}function Jw(e,i){return qe(e,i)}var Ch=null,Bl=null,hm=!1,Ih=!1,fm=!1,Aa=0;function Ws(e){e!==Bl&&e.next===null&&(Bl===null?Ch=Bl=e:Bl=Bl.next=e),Ih=!0,hm||(hm=!0,tA())}function qu(e,i){if(!fm&&Ih){fm=!0;do for(var o=!1,c=Ch;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var _=0;else{var w=c.suspendedLanes,R=c.pingedLanes;_=(1<<31-Ve(42|e)+1)-1,_&=m&~(w&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Gy(c,_))}else _=ne,_=qi(c,c===Ie?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||vi(c,_)||(o=!0,Gy(c,_));c=c.next}while(o);fm=!1}}function $w(){Hy()}function Hy(){Ih=hm=!1;var e=0;Aa!==0&&cA()&&(e=Aa);for(var i=Rn(),o=null,c=Ch;c!==null;){var m=c.next,_=qy(c,i);_===0?(c.next=null,o===null?Ch=m:o.next=m,m===null&&(Bl=o)):(o=c,(e!==0||(_&3)!==0)&&(Ih=!0)),c=m}pn!==0&&pn!==5||qu(e),Aa!==0&&(Aa=0)}function qy(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,_=e.pendingLanes&-62914561;0<_;){var w=31-Ve(_),R=1<<w,k=m[w];k===-1?((R&o)===0||(R&c)!==0)&&(m[w]=pu(R,i)):k<=i&&(e.expiredLanes|=R),_&=~R}if(i=Ie,o=ne,o=qi(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ji(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||vi(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&ji(c),Rt(o)){case 2:case 8:o=Zr;break;case 32:o=cs;break;case 268435456:o=no;break;default:o=cs}return c=Fy.bind(null,e),o=qe(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&ji(c),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,i){if(pn!==0&&pn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(xh()&&e.callbackNode!==o)return null;var c=ne;return c=qi(e,e===Ie?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Sy(e,c,i),qy(e,Rn()),e.callbackNode!=null&&e.callbackNode===o?Fy.bind(null,e):null)}function Gy(e,i){if(xh())return null;Sy(e,i,!0)}function tA(){fA(function(){(_e&6)!==0?qe(dr,$w):Hy()})}function dm(){if(Aa===0){var e=Sl;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Aa=e}return Aa}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function Ky(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function eA(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var _=Zy((m[Fe]||null).action),w=c.submitter;w&&(i=(i=w[Fe]||null)?Zy(i.formAction):w.getAttribute("formAction"),i!==null&&(_=i,w=null));var R=new Ji("action","action",null,c,m);e.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Aa!==0){var k=w?Ky(m,w):new FormData(m);Dd(o,{pending:!0,data:k,method:m.method,action:_},null,k)}}else typeof _=="function"&&(R.preventDefault(),k=w?Ky(m,w):new FormData(m),Dd(o,{pending:!0,data:k,method:m.method,action:_},_,k))},currentTarget:m}]})}}for(var mm=0;mm<Gs.length;mm++){var pm=Gs[mm],nA=pm.toLowerCase(),iA=pm[0].toUpperCase()+pm.slice(1);li(nA,"on"+iA)}li(wo,"onAnimationEnd"),li(Kc,"onAnimationIteration"),li(Ao,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(sd,"onTransitionRun"),li(Yc,"onTransitionStart"),li(rd,"onTransitionCancel"),li(ca,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function Yy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var _=void 0;if(i)for(var w=c.length-1;0<=w;w--){var R=c[w],k=R.instance,Q=R.currentTarget;if(R=R.listener,k!==_&&m.isPropagationStopped())break t;_=R,m.currentTarget=Q;try{_(m)}catch(st){So(st)}m.currentTarget=null,_=k}else for(w=0;w<c.length;w++){if(R=c[w],k=R.instance,Q=R.currentTarget,R=R.listener,k!==_&&m.isPropagationStopped())break t;_=R,m.currentTarget=Q;try{_(m)}catch(st){So(st)}m.currentTarget=null,_=k}}}}function $t(e,i){var o=i[Ei];o===void 0&&(o=i[Ei]=new Set);var c=e+"__bubble";o.has(c)||(Qy(i,e,2,!1),o.add(c))}function _m(e,i,o){var c=0;i&&(c|=4),Qy(o,e,c,i)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Nh]){e[Nh]=!0,oo.forEach(function(o){o!=="selectionchange"&&(sA.has(o)||_m(o,!1,e),_m(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Nh]||(i[Nh]=!0,_m("selectionchange",!1,i))}}function Qy(e,i,o,c){switch(Av(i)){case 2:var m=PA;break;case 8:m=DA;break;default:m=Pm}o=m.bind(null,i,o,e),m=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function ym(e,i,o,c,m){var _=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===m)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;R!==null;){if(w=bi(R),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=_=w;continue t}R=R.parentNode}}c=c.return}ms(function(){var Q=_,st=Ln(o),ot=[];t:{var W=Qc.get(e);if(W!==void 0){var tt=Ji,xt=e;switch(e){case"keypress":if(Us(o)===0)break t;case"keydown":case"keyup":tt=po;break;case"focusin":xt="focus",tt=Tr;break;case"focusout":xt="blur",tt=Tr;break;case"beforeblur":case"afterblur":tt=Tr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=y;break;case wo:case Kc:case Ao:tt=ta;break;case ca:tt=I;break;case"scroll":case"scrollend":tt=Yt;break;case"wheel":tt=J;break;case"copy":case"cut":case"paste":tt=Kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=vs;break;case"toggle":case"beforetoggle":tt=zt}var Lt=(i&4)!==0,Se=!Lt&&(e==="scroll"||e==="scrollend"),F=Lt?W!==null?W+"Capture":null:W;Lt=[];for(var j=Q,Y;j!==null;){var rt=j;if(Y=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Y===null||F===null||(rt=Zn(j,F),rt!=null&&Lt.push(Gu(j,rt,Y))),Se)break;j=j.return}0<Lt.length&&(W=new tt(W,xt,null,o,st),ot.push({event:W,listeners:Lt}))}}if((i&7)===0){t:{if(W=e==="mouseover"||e==="pointerover",tt=e==="mouseout"||e==="pointerout",W&&o!==$r&&(xt=o.relatedTarget||o.fromElement)&&(bi(xt)||xt[Ti]))break t;if((tt||W)&&(W=st.window===st?st:(W=st.ownerDocument)?W.defaultView||W.parentWindow:window,tt?(xt=o.relatedTarget||o.toElement,tt=Q,xt=xt?bi(xt):null,xt!==null&&(Se=h(xt),Lt=xt.tag,xt!==Se||Lt!==5&&Lt!==27&&Lt!==6)&&(xt=null)):(tt=null,xt=Q),tt!==xt)){if(Lt=uo,rt="onMouseLeave",F="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Lt=vs,rt="onPointerLeave",F="onPointerEnter",j="pointer"),Se=tt==null?W:yn(tt),Y=xt==null?W:yn(xt),W=new Lt(rt,j+"leave",tt,o,st),W.target=Se,W.relatedTarget=Y,rt=null,bi(st)===Q&&(Lt=new Lt(F,j+"enter",xt,o,st),Lt.target=Y,Lt.relatedTarget=Se,rt=Lt),Se=rt,tt&&xt)e:{for(Lt=rA,F=tt,j=xt,Y=0,rt=F;rt;rt=Lt(rt))Y++;rt=0;for(var Ot=j;Ot;Ot=Lt(Ot))rt++;for(;0<Y-rt;)F=Lt(F),Y--;for(;0<rt-Y;)j=Lt(j),rt--;for(;Y--;){if(F===j||j!==null&&F===j.alternate){Lt=F;break e}F=Lt(F),j=Lt(j)}Lt=null}else Lt=null;tt!==null&&Xy(ot,W,tt,Lt,!1),xt!==null&&Se!==null&&Xy(ot,Se,xt,Lt,!0)}}t:{if(W=Q?yn(Q):window,tt=W.nodeName&&W.nodeName.toLowerCase(),tt==="select"||tt==="input"&&W.type==="file")var me=vo;else if($i(W))if(Hc)me=id;else{me=nd;var Ct=Ts}else tt=W.nodeName,!tt||tt.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&ks(Q.elementType)&&(me=vo):me=aa;if(me&&(me=me(e,Q))){jc(ot,me,o,st);break t}Ct&&Ct(e,W,Q),e==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&wi(W,"number",W.value)}switch(Ct=Q?yn(Q):window,e){case"focusin":($i(Ct)||Ct.contentEditable==="true")&&(qs=Ct,yl=Q,bo=null);break;case"focusout":bo=yl=qs=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Gc(ot,o,st);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Gc(ot,o,st)}var Kt;if(ue)t:{switch(e){case"compositionstart":var ie="onCompositionStart";break t;case"compositionend":ie="onCompositionEnd";break t;case"compositionupdate":ie="onCompositionUpdate";break t}ie=void 0}else ia?Er(e,o)&&(ie="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ie="onCompositionStart");ie&&(oi&&o.locale!=="ko"&&(ia||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&ia&&(Kt=Ai()):(ri=st,_s="value"in ri?ri.value:ri.textContent,ia=!0)),Ct=Oh(Q,ie),0<Ct.length&&(ie=new xi(ie,e,null,o,st),ot.push({event:ie,listeners:Ct}),Kt?ie.data=Kt:(Kt=br(o),Kt!==null&&(ie.data=Kt)))),(Kt=ai?Ni(e,o):sa(e,o))&&(ie=Oh(Q,"onBeforeInput"),0<ie.length&&(Ct=new xi("onBeforeInput","beforeinput",null,o,st),ot.push({event:Ct,listeners:ie}),Ct.data=Kt)),eA(ot,e,Q,o,st)}Yy(ot,i)})}function Gu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Oh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Zn(e,o),m!=null&&c.unshift(Gu(e,m,_)),m=Zn(e,i),m!=null&&c.push(Gu(e,m,_))),e.tag===3)return c;e=e.return}return[]}function rA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,i,o,c,m){for(var _=i._reactName,w=[];o!==null&&o!==c;){var R=o,k=R.alternate,Q=R.stateNode;if(R=R.tag,k!==null&&k===c)break;R!==5&&R!==26&&R!==27||Q===null||(k=Q,m?(Q=Zn(o,_),Q!=null&&w.unshift(Gu(o,Q,k))):m||(Q=Zn(o,_),Q!=null&&w.push(Gu(o,Q,k)))),o=o.return}w.length!==0&&e.push({event:i,listeners:w})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(aA,`
`).replace(oA,"")}function Jy(e,i){return i=Wy(i),Wy(e)===i}function Ae(e,i,o,c,m,_){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||rn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&rn(e,""+c);break;case"className":Xt(e,"class",c);break;case"tabIndex":Xt(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Xt(e,o,c);break;case"style":gr(e,c,_);break;case"data":if(i!=="object"){Xt(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Vs(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(i!=="input"&&Ae(e,i,"name",m.name,m,null),Ae(e,i,"formEncType",m.formEncType,m,null),Ae(e,i,"formMethod",m.formMethod,m,null),Ae(e,i,"formTarget",m.formTarget,m,null)):(Ae(e,i,"encType",m.encType,m,null),Ae(e,i,"method",m.method,m,null),Ae(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Vs(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Vs(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Qt(e,"popover",c);break;case"xlinkActuate":Oe(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Oe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Oe(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Oe(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Oe(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Oe(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Oe(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=yr.get(o)||o,Qt(e,o,c))}}function vm(e,i,o,c,m,_){switch(o){case"style":gr(e,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?rn(e,c):(typeof c=="number"||typeof c=="bigint")&&rn(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),_=e[Fe]||null,_=_!=null?_[o]:null,typeof _=="function"&&e.removeEventListener(i,_,m),typeof c=="function")){typeof _!="function"&&_!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Qt(e,o,c)}}}function In(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,m=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var w=o[_];if(w!=null)switch(_){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,_,w,o,null)}}m&&Ae(e,i,"srcSet",o.srcSet,o,null),c&&Ae(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var R=_=w=m=null,k=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var st=o[c];if(st!=null)switch(c){case"name":m=st;break;case"type":w=st;break;case"checked":k=st;break;case"defaultChecked":Q=st;break;case"value":_=st;break;case"defaultValue":R=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(a(137,i));break;default:Ae(e,i,c,st,o,null)}}_r(e,_,R,k,Q,w,m,!1);return;case"select":$t("invalid",e),c=w=_=null;for(m in o)if(o.hasOwnProperty(m)&&(R=o[m],R!=null))switch(m){case"value":_=R;break;case"defaultValue":w=R;break;case"multiple":c=R;default:Ae(e,i,m,R,o,null)}i=_,o=w,e.multiple=!!c,i!=null?ve(e,!!c,i,!1):o!=null&&ve(e,!!c,o,!0);return;case"textarea":$t("invalid",e),_=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(R=o[w],R!=null))switch(w){case"value":c=R;break;case"defaultValue":m=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Ae(e,i,w,R,o,null)}si(e,c,m,_);return;case"option":for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null)&&(k==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Ae(e,i,k,c,o,null));return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Fu.length;c++)$t(Fu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ae(e,i,Q,c,o,null)}return;default:if(ks(i)){for(st in o)o.hasOwnProperty(st)&&(c=o[st],c!==void 0&&vm(e,i,st,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Ae(e,i,R,c,o,null))}function lA(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,w=null,R=null,k=null,Q=null,st=null;for(tt in o){var ot=o[tt];if(o.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":k=ot;default:c.hasOwnProperty(tt)||Ae(e,i,tt,null,c,ot)}}for(var W in c){var tt=c[W];if(ot=o[W],c.hasOwnProperty(W)&&(tt!=null||ot!=null))switch(W){case"type":_=tt;break;case"name":m=tt;break;case"checked":Q=tt;break;case"defaultChecked":st=tt;break;case"value":w=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,i));break;default:tt!==ot&&Ae(e,i,W,tt,c,ot)}}Wr(e,w,R,k,Q,st,_,m);return;case"select":tt=w=R=W=null;for(_ in o)if(k=o[_],o.hasOwnProperty(_)&&k!=null)switch(_){case"value":break;case"multiple":tt=k;default:c.hasOwnProperty(_)||Ae(e,i,_,null,c,k)}for(m in c)if(_=c[m],k=o[m],c.hasOwnProperty(m)&&(_!=null||k!=null))switch(m){case"value":W=_;break;case"defaultValue":R=_;break;case"multiple":w=_;default:_!==k&&Ae(e,i,m,_,c,k)}i=R,o=w,c=tt,W!=null?ve(e,!!o,W,!1):!!c!=!!o&&(i!=null?ve(e,!!o,i,!0):ve(e,!!o,o?[]:"",!1));return;case"textarea":tt=W=null;for(R in o)if(m=o[R],o.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ae(e,i,R,null,c,m)}for(w in c)if(m=c[w],_=o[w],c.hasOwnProperty(w)&&(m!=null||_!=null))switch(w){case"value":W=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==_&&Ae(e,i,w,m,c,_)}Qi(e,W,tt);return;case"option":for(var xt in o)W=o[xt],o.hasOwnProperty(xt)&&W!=null&&!c.hasOwnProperty(xt)&&(xt==="selected"?e.selected=!1:Ae(e,i,xt,null,c,W));for(k in c)W=c[k],tt=o[k],c.hasOwnProperty(k)&&W!==tt&&(W!=null||tt!=null)&&(k==="selected"?e.selected=W&&typeof W!="function"&&typeof W!="symbol":Ae(e,i,k,W,c,tt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in o)W=o[Lt],o.hasOwnProperty(Lt)&&W!=null&&!c.hasOwnProperty(Lt)&&Ae(e,i,Lt,null,c,W);for(Q in c)if(W=c[Q],tt=o[Q],c.hasOwnProperty(Q)&&W!==tt&&(W!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:Ae(e,i,Q,W,c,tt)}return;default:if(ks(i)){for(var Se in o)W=o[Se],o.hasOwnProperty(Se)&&W!==void 0&&!c.hasOwnProperty(Se)&&vm(e,i,Se,void 0,c,W);for(st in c)W=c[st],tt=o[st],!c.hasOwnProperty(st)||W===tt||W===void 0&&tt===void 0||vm(e,i,st,W,c,tt);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!c.hasOwnProperty(F)&&Ae(e,i,F,null,c,W);for(ot in c)W=c[ot],tt=o[ot],!c.hasOwnProperty(ot)||W===tt||W==null&&tt==null||Ae(e,i,ot,W,c,tt)}function $y(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],_=m.transferSize,w=m.initiatorType,R=m.duration;if(_&&R&&$y(w)){for(w=0,R=m.responseEnd,c+=1;c<o.length;c++){var k=o[c],Q=k.startTime;if(Q>R)break;var st=k.transferSize,ot=k.initiatorType;st&&$y(ot)&&(k=k.responseEnd,w+=st*(k<R?1:(R-Q)/(k-Q)))}if(--c,i+=8*(_+w)/(m.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Tm=null,Em=null;function Ph(e){return e.nodeType===9?e:e.ownerDocument}function tv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function cA(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(e){return iv.resolve(null).then(e).catch(dA)}:nv;function dA(e){setTimeout(function(){throw e})}function Sa(e){return e==="head"}function sv(e,i){var o=i,c=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){e.removeChild(m),Fl(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Zu(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Zu(o);for(var _=o.firstChild;_;){var w=_.nextSibling,R=_.nodeName;_[Gi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=w}}else o==="body"&&Zu(e.ownerDocument.body);o=m}while(o);Fl(i)}function rv(e,i){var o=e;e=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=c}while(o)}function Am(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),Yr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function mA(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(_=e.getAttribute("rel"),_==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(_!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(_=e.getAttribute("src"),(_!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===_)return e}else return e;if(e=rs(e.nextSibling),e===null)break}return null}function pA(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=rs(e.nextSibling),e===null))return null;return e}function av(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=rs(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$?"||e.data==="$~"}function Rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _A(e,i){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function rs(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var xm=null;function ov(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(i===0)return rs(e.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}e=e.nextSibling}return null}function lv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return e;i--}else o!=="/$"&&o!=="/&"||i++}e=e.previousSibling}return null}function uv(e,i,o){switch(i=Ph(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zu(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Yr(e)}var as=new Map,cv=new Set;function Dh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vr=gt.d;gt.d={f:gA,r:yA,D:vA,C:TA,L:EA,m:bA,X:AA,S:wA,M:SA};function gA(){var e=Vr.f(),i=Ah();return e||i}function yA(e){var i=ei(e);i!==null&&i.tag===5&&i.type==="form"?xg(i):Vr.r(e)}var jl=typeof document>"u"?null:document;function hv(e,i,o){var c=jl;if(c&&typeof i=="string"&&i){var m=xe(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),cv.has(m)||(cv.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),In(i,"link",e),Ge(i),c.head.appendChild(i)))}}function vA(e){Vr.D(e),hv("dns-prefetch",e,null)}function TA(e,i){Vr.C(e,i),hv("preconnect",e,i)}function EA(e,i,o){Vr.L(e,i,o);var c=jl;if(c&&e&&i){var m='link[rel="preload"][as="'+xe(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+xe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+xe(o.imageSizes)+'"]')):m+='[href="'+xe(e)+'"]';var _=m;switch(i){case"style":_=Hl(e);break;case"script":_=ql(e)}as.has(_)||(e=C({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),as.set(_,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Ku(_))||i==="script"&&c.querySelector(Yu(_))||(i=c.createElement("link"),In(i,"link",e),Ge(i),c.head.appendChild(i)))}}function bA(e,i){Vr.m(e,i);var o=jl;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+xe(c)+'"][href="'+xe(e)+'"]',_=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ql(e)}if(!as.has(_)&&(e=C({rel:"modulepreload",href:e},i),as.set(_,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Yu(_)))return}c=o.createElement("link"),In(c,"link",e),Ge(c),o.head.appendChild(c)}}}function wA(e,i,o){Vr.S(e,i,o);var c=jl;if(c&&e){var m=Zi(c).hoistableStyles,_=Hl(e);i=i||"default";var w=m.get(_);if(!w){var R={loading:0,preload:null};if(w=c.querySelector(Ku(_)))R.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},o),(o=as.get(_))&&Cm(e,o);var k=w=c.createElement("link");Ge(k),In(k,"link",e),k._p=new Promise(function(Q,st){k.onload=Q,k.onerror=st}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Lh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:R},m.set(_,w)}}}function AA(e,i){Vr.X(e,i);var o=jl;if(o&&e){var c=Zi(o).hoistableScripts,m=ql(e),_=c.get(m);_||(_=o.querySelector(Yu(m)),_||(e=C({src:e,async:!0},i),(i=as.get(m))&&Im(e,i),_=o.createElement("script"),Ge(_),In(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function SA(e,i){Vr.M(e,i);var o=jl;if(o&&e){var c=Zi(o).hoistableScripts,m=ql(e),_=c.get(m);_||(_=o.querySelector(Yu(m)),_||(e=C({src:e,async:!0,type:"module"},i),(i=as.get(m))&&Im(e,i),_=o.createElement("script"),Ge(_),In(_,"link",e),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function fv(e,i,o,c){var m=(m=Tt.current)?Dh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Hl(o.href),o=Zi(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Hl(o.href);var _=Zi(m).hoistableStyles,w=_.get(e);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(e,w),(_=m.querySelector(Ku(e)))&&!_._p&&(w.instance=_,w.state.loading=5),as.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},as.set(e,o),_||RA(m,e,o,w.state))),i&&c===null)throw Error(a(528,""));return w}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ql(o),o=Zi(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Hl(e){return'href="'+xe(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function dv(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function RA(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),In(i,"link",o),Ge(i),e.head.appendChild(i))}function ql(e){return'[src="'+xe(e)+'"]'}function Yu(e){return"script[async]"+e}function mv(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+xe(o.href)+'"]');if(c)return i.instance=c,Ge(c),c;var m=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ge(c),In(c,"style",m),Lh(c,o.precedence,e),i.instance=c;case"stylesheet":m=Hl(o.href);var _=e.querySelector(Ku(m));if(_)return i.state.loading|=4,i.instance=_,Ge(_),_;c=dv(o),(m=as.get(m))&&Cm(c,m),_=(e.ownerDocument||e).createElement("link"),Ge(_);var w=_;return w._p=new Promise(function(R,k){w.onload=R,w.onerror=k}),In(_,"link",c),i.state.loading|=4,Lh(_,o.precedence,e),i.instance=_;case"script":return _=ql(o.src),(m=e.querySelector(Yu(_)))?(i.instance=m,Ge(m),m):(c=o,(m=as.get(_))&&(c=C({},o),Im(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ge(m),In(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Lh(c,o.precedence,e));return i.instance}function Lh(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,_=m,w=0;w<c.length;w++){var R=c[w];if(R.dataset.precedence===i)_=R;else if(_!==m)break}_?_.parentNode.insertBefore(e,_.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Im(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Mh=null;function pv(e,i,o){if(Mh===null){var c=new Map,m=Mh=new Map;m.set(o,c)}else m=Mh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var _=o[m];if(!(_[Gi]||_[Ue]||e==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var w=_.getAttribute(i)||"";w=e+w;var R=c.get(w);R?R.push(_):c.set(w,[_])}}return c}function _v(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function xA(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function CA(e,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Hl(c.href),_=i.querySelector(Ku(m));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=kh.bind(e),i.then(e,e)),o.state.loading|=4,o.instance=_,Ge(_);return}_=i.ownerDocument||i,c=dv(c),(m=as.get(m))&&Cm(c,m),_=_.createElement("link"),Ge(_);var w=_;w._p=new Promise(function(R,k){w.onload=R,w.onerror=k}),In(_,"link",c),o.instance=_}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=kh.bind(e),i.addEventListener("load",o),i.addEventListener("error",o))}}var Nm=0;function IA(e,i){return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var c=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var _=e.unsuspend;e.unsuspend=null,_()}},6e4+i);0<e.imgBytes&&Nm===0&&(Nm=62500*uA());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend)){var _=e.unsuspend;e.unsuspend=null,_()}},(e.imgBytes>Nm?50:800)+i);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vh=null;function zh(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vh=new Map,i.forEach(NA,e),Vh=null,kh.call(e))}function NA(e,i){if(!(i.state.loading&4)){var o=Vh.get(e);if(o)var c=o.get(null);else{o=new Map,Vh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var w=m[_];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=i.instance,w=m.getAttribute("data-precedence"),_=o.get(w)||c,_===c&&o.set(null,m),o.set(w,m),this.count++,c=kh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),_?_.parentNode.insertBefore(m,_.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Qu={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function OA(e,i,o,c,m,_,w,R,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function yv(e,i,o,c,m,_,w,R,k,Q,st,ot){return e=new OA(e,i,o,w,k,Q,st,ot,R),i=1,_===!0&&(i|=24),_=zn(3,null,null,i),e.current=_,_.stateNode=e,i=ud(),i.refCount++,e.pooledCache=i,i.refCount++,_.memoizedState={element:c,isDehydrated:o,cache:i},dd(_),e}function vv(e){return e?(e=wr,e):wr}function Tv(e,i,o,c,m,_){m=vv(m),c.context===null?c.context=m:c.pendingContext=m,c=ma(i),c.payload={element:o},_=_===void 0?null:_,_!==null&&(c.callback=_),o=pa(e,c,i),o!==null&&(pi(o,e,i),xu(o,e,i))}function Ev(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function Om(e,i){Ev(e,i),(e=e.alternate)&&Ev(e,i)}function bv(e){if(e.tag===13||e.tag===31){var i=ns(e,67108864);i!==null&&pi(i,e,67108864),Om(e,67108864)}}function wv(e){if(e.tag===13||e.tag===31){var i=Mi();i=gn(i);var o=ns(e,i);o!==null&&pi(o,e,i),Om(e,i)}}var Uh=!0;function PA(e,i,o,c){var m=et.T;et.T=null;var _=gt.p;try{gt.p=2,Pm(e,i,o,c)}finally{gt.p=_,et.T=m}}function DA(e,i,o,c){var m=et.T;et.T=null;var _=gt.p;try{gt.p=8,Pm(e,i,o,c)}finally{gt.p=_,et.T=m}}function Pm(e,i,o,c){if(Uh){var m=Dm(c);if(m===null)ym(e,i,c,Bh,o),Sv(e,c);else if(MA(m,e,i,o,c))c.stopPropagation();else if(Sv(e,c),i&4&&-1<LA.indexOf(e)){for(;m!==null;){var _=ei(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var w=Hi(_.pendingLanes);if(w!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var k=1<<31-Ve(w);R.entanglements[1]|=k,w&=~k}Ws(_),(_e&6)===0&&(bh=Rn()+500,qu(0))}}break;case 31:case 13:R=ns(_,2),R!==null&&pi(R,_,2),Ah(),Om(_,2)}if(_=Dm(c),_===null&&ym(e,i,c,Bh,o),_===m)break;m=_}m!==null&&c.stopPropagation()}else ym(e,i,c,null,o)}}function Dm(e){return e=Ln(e),Lm(e)}var Bh=null;function Lm(e){if(Bh=null,e=bi(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===31){if(e=v(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Bh=e,null}function Av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case dr:return 2;case Zr:return 8;case cs:case mu:return 32;case no:return 268435456;default:return 32}default:return 32}}var Mm=!1,Ra=null,xa=null,Ca=null,Xu=new Map,Wu=new Map,Ia=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(e,i){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Xu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(i.pointerId)}}function Ju(e,i,o,c,m,_){return e===null||e.nativeEvent!==_?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:_,targetContainers:[m]},i!==null&&(i=ei(i),i!==null&&bv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function MA(e,i,o,c,m){switch(i){case"focusin":return Ra=Ju(Ra,e,i,o,c,m),!0;case"dragenter":return xa=Ju(xa,e,i,o,c,m),!0;case"mouseover":return Ca=Ju(Ca,e,i,o,c,m),!0;case"pointerover":var _=m.pointerId;return Xu.set(_,Ju(Xu.get(_)||null,e,i,o,c,m)),!0;case"gotpointercapture":return _=m.pointerId,Wu.set(_,Ju(Wu.get(_)||null,e,i,o,c,m)),!0}return!1}function Rv(e){var i=bi(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,$n(e.priority,function(){wv(o)});return}}else if(i===31){if(i=v(o),i!==null){e.blockedOn=i,$n(e.priority,function(){wv(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Dm(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);$r=c,o.target.dispatchEvent(c),$r=null}else return i=ei(o),i!==null&&bv(i),e.blockedOn=o,!1;i.shift()}return!0}function xv(e,i,o){jh(e)&&o.delete(i)}function kA(){Mm=!1,Ra!==null&&jh(Ra)&&(Ra=null),xa!==null&&jh(xa)&&(xa=null),Ca!==null&&jh(Ca)&&(Ca=null),Xu.forEach(xv),Wu.forEach(xv)}function Hh(e,i){e.blockedOn===i&&(e.blockedOn=null,Mm||(Mm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kA)))}var qh=null;function Cv(e){qh!==e&&(qh=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Lm(c||o)===null)continue;break}var _=ei(o);_!==null&&(e.splice(i,3),i-=3,Dd(_,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Fl(e){function i(k){return Hh(k,e)}Ra!==null&&Hh(Ra,e),xa!==null&&Hh(xa,e),Ca!==null&&Hh(Ca,e),Xu.forEach(i),Wu.forEach(i);for(var o=0;o<Ia.length;o++){var c=Ia[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ia.length&&(o=Ia[0],o.blockedOn===null);)Rv(o),o.blockedOn===null&&Ia.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],_=o[c+1],w=m[Fe]||null;if(typeof _=="function")w||Cv(o);else if(w){var R=null;if(_&&_.hasAttribute("formAction")){if(m=_,w=_[Fe]||null)R=w.formAction;else if(Lm(m)!==null)continue}else R=w.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Cv(o)}}}function Iv(){function e(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function km(e){this._internalRoot=e}Fh.prototype.render=km.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Mi();Tv(o,c,e,i,null,null)},Fh.prototype.unmount=km.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Tv(e.current,2,null,e,null,null),Ah(),i[Ti]=null}};function Fh(e){this._internalRoot=e}Fh.prototype.unstable_scheduleHydration=function(e){if(e){var i=ao();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ia.length&&i!==0&&i<Ia[o].priority;o++);Ia.splice(o,0,e),o===0&&Rv(e)}};var Nv=t.version;if(Nv!=="19.2.3")throw Error(a(527,Nv,"19.2.3"));gt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=b(i),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Jn=Gh.inject(VA),$e=Gh}catch{}}return tc.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=Vg,_=zg,w=Ug;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=yv(e,1,!1,null,null,o,c,null,m,_,w,Iv),e[Ti]=i.current,gm(e),new km(i)},tc.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",_=Vg,w=zg,R=Ug,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),i=yv(e,1,!0,i,o??null,c,m,k,_,w,R,Iv),i.context=vv(null),o=i.current,c=Mi(),c=gn(c),m=ma(c),m.callback=null,pa(o,m,c),o=c,i.current.lanes=o,hs(i,o),Ws(i),e[Ti]=i.current,gm(e),new Fh(i)},tc.version="19.2.3",tc}var Bv;function ZA(){if(Bv)return Um.exports;Bv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Um.exports=GA(),Um.exports}var KA=ZA();const YA=({onEnter:s})=>P.jsxs("div",{className:"relative h-screen w-full overflow-hidden flex items-center justify-center",children:[P.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover z-0 brightness-[0.4]",children:P.jsx("source",{src:"/assets/hero.webm",type:"video/webm"})}),P.jsxs("div",{className:"relative z-10 text-center animate-slide-up px-4",children:[P.jsxs("h1",{className:"text-4xl md:text-8xl font-black italic uppercase text-white tracking-tighter mb-8 drop-shadow-2xl",children:["URBAN",P.jsx("span",{className:"text-indigo-500",children:"PULSE"})]}),P.jsx("button",{onClick:s,className:`bg-indigo-600 text-white px-8 md:px-12 py-4 md:py-5 rounded-[32px] text-lg md:text-xl font-bold uppercase tracking-widest\r
                     hover:bg-indigo-500 hover:scale-105 transition-all shadow-[0_0_40px_rgba(79,70,229,0.3)]`,children:"ENTER PLATFORM"})]})]});const QA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),jv=s=>{const t=XA(s);return t.charAt(0).toUpperCase()+t.slice(1)},NT=(...s)=>s.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),WA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var JA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $A=It.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:p,...v},T)=>It.createElement("svg",{ref:T,...JA,width:t,height:t,stroke:s,strokeWidth:a?Number(n)*24/Number(t):n,className:NT("lucide",l),...!h&&!WA(v)&&{"aria-hidden":"true"},...v},[...p.map(([b,x])=>It.createElement(b,x)),...Array.isArray(h)?h:[h]]));const ou=(s,t)=>{const n=It.forwardRef(({className:a,...l},h)=>It.createElement($A,{ref:h,iconNode:t,className:NT(`lucide-${QA(jv(s))}`,`lucide-${s}`,a),...l}));return n.displayName=jv(s),n};const tS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eS=ou("camera",tS);const nS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iS=ou("circle-check-big",nS);const sS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hv=ou("loader-circle",sS);const rS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],aS=ou("map-pin",rS);const oS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],lS=ou("send",oS);const uS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cS=ou("x",uS),hS=()=>{};var qv={};const OT=function(s){const t=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},fS=function(s){const t=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[n++],p=s[n++],v=s[n++],T=((l&7)<<18|(h&63)<<12|(p&63)<<6|v&63)-65536;t[a++]=String.fromCharCode(55296+(T>>10)),t[a++]=String.fromCharCode(56320+(T&1023))}else{const h=s[n++],p=s[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},PT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],p=l+1<s.length,v=p?s[l+1]:0,T=l+2<s.length,b=T?s[l+2]:0,x=h>>2,C=(h&3)<<4|v>>4;let V=(v&15)<<2|b>>6,$=b&63;T||($=64,p||(V=64)),a.push(n[x],n[C],n[V],n[$])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(OT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):fS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=n[s.charAt(l++)],v=l<s.length?n[s.charAt(l)]:0;++l;const b=l<s.length?n[s.charAt(l)]:64;++l;const C=l<s.length?n[s.charAt(l)]:64;if(++l,h==null||v==null||b==null||C==null)throw new dS;const V=h<<2|v>>4;if(a.push(V),b!==64){const $=v<<4&240|b>>2;if(a.push($),C!==64){const ut=b<<6&192|C;a.push(ut)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mS=function(s){const t=OT(s);return PT.encodeByteArray(t,!0)},ff=function(s){return mS(s).replace(/\./g,"")},DT=function(s){try{return PT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _S=()=>pS().__FIREBASE_DEFAULTS__,gS=()=>{if(typeof process>"u"||typeof qv>"u")return;const s=qv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},yS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&DT(s[1]);return t&&JSON.parse(t)},Nf=()=>{try{return hS()||_S()||gS()||yS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LT=s=>Nf()?.emulatorHosts?.[s],MT=s=>{const t=LT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},kT=()=>Nf()?.config,VT=s=>Nf()?.[`_${s}`];class vS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}function Xa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mp(s){return(await fetch(s,{credentials:"include"})).ok}function zT(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ff(JSON.stringify(n)),ff(JSON.stringify(p)),""].join(".")}const uc={};function TS(){const s={prod:[],emulator:[]};for(const t of Object.keys(uc))uc[t]?s.emulator.push(t):s.prod.push(t);return s}function ES(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let Fv=!1;function kp(s,t){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||uc[s]===t||uc[s]||Fv)return;uc[s]=t;function n(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=TS().prod.length>0;function p(){const V=document.getElementById(a);V&&V.remove()}function v(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function T(V,$){V.setAttribute("width","24"),V.setAttribute("id",$),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function b(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Fv=!0,p()},V}function x(V,$){V.setAttribute("id",$),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=ES(a),$=n("text"),ut=document.getElementById($)||document.createElement("span"),nt=n("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),dt=n("preprendIcon"),yt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;v(_t),x(Z,nt);const Mt=b();T(yt,dt),_t.append(yt,ut,Z,Mt),document.body.appendChild(_t)}h?(ut.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ut.innerText="Preview backend running in this workspace."),ut.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function wS(){const s=Nf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){const s=qn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CS(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((s,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const OS="FirebaseError";class cr extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=OS,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?PS(h,a):"Error",v=`${this.serviceName}: ${p} (${l}).`;return new cr(l,v,a)}}function PS(s,t){return s.replace(DS,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const DS=/\{\$([^}]+)}/g;function LS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Go(s,t){if(s===t)return!0;const n=Object.keys(s),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=s[l],p=t[l];if(Gv(h)&&Gv(p)){if(!Go(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Gv(s){return s!==null&&typeof s=="object"}function Ic(s){const t=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function nc(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function ic(s){const t=s.indexOf("?");if(!t)return"";const n=s.indexOf("#",t);return s.substring(t,n>0?n:void 0)}function MS(s,t){const n=new kS(s,t);return n.subscribe.bind(n)}class kS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");VS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function qm(){}function Qe(s){return s&&s._delegate?s._delegate:s}class qa{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Bo="[DEFAULT]";class zS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new vS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BS(t))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Bo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bo){return this.instances.has(t)}getOptions(t=Bo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:US(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Bo){return this.component?this.component.multipleInstances?t:Bo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(s){return s===Bo?void 0:s}function BS(s){return s.instantiationMode==="EAGER"}class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var se;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(se||(se={}));const HS={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},qS=se.INFO,FS={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},GS=(s,t,...n)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=FS[t];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vp{constructor(t){this.name=t,this._logLevel=qS,this._logHandler=GS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const ZS=(s,t)=>t.some(n=>s instanceof n);let Zv,Kv;function KS(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,sp=new WeakMap,BT=new WeakMap,Fm=new WeakMap,zp=new WeakMap;function QS(s){const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",p)},h=()=>{n(Ua(s.result)),l()},p=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&UT.set(n,s)}).catch(()=>{}),zp.set(t,s),t}function XS(s){if(sp.has(s))return;const t=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",p),s.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",p),s.addEventListener("abort",p)});sp.set(s,t)}let rp={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return sp.get(s);if(t==="objectStoreNames")return s.objectStoreNames||BT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ua(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function WS(s){rp=s(rp)}function JS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=s.call(Gm(this),t,...n);return BT.set(a,t.sort?t.sort():[t]),Ua(a)}:YS().includes(s)?function(...t){return s.apply(Gm(this),t),Ua(UT.get(this))}:function(...t){return Ua(s.apply(Gm(this),t))}}function $S(s){return typeof s=="function"?JS(s):(s instanceof IDBTransaction&&XS(s),ZS(s,KS())?new Proxy(s,rp):s)}function Ua(s){if(s instanceof IDBRequest)return QS(s);if(Fm.has(s))return Fm.get(s);const t=$S(s);return t!==s&&(Fm.set(s,t),zp.set(t,s)),t}const Gm=s=>zp.get(s);function t1(s,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(s,t),v=Ua(p);return a&&p.addEventListener("upgradeneeded",T=>{a(Ua(p.result),T.oldVersion,T.newVersion,Ua(p.transaction),T)}),n&&p.addEventListener("blocked",T=>n(T.oldVersion,T.newVersion,T)),v.then(T=>{h&&T.addEventListener("close",()=>h()),l&&T.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),v}const e1=["get","getKey","getAll","getAllKeys","count"],n1=["put","add","delete","clear"],Zm=new Map;function Yv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=n1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||e1.includes(n)))return;const h=async function(p,...v){const T=this.transaction(p,l?"readwrite":"readonly");let b=T.store;return a&&(b=b.index(v.shift())),(await Promise.all([b[n](...v),l&&T.done]))[0]};return Zm.set(t,h),h}WS(s=>({...s,get:(t,n,a)=>Yv(t,n)||s.get(t,n,a),has:(t,n)=>!!Yv(t,n)||s.has(t,n)}));class i1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function s1(s){return s.getComponent()?.type==="VERSION"}const ap="@firebase/app",Qv="0.14.6";const jr=new Vp("@firebase/app"),r1="@firebase/app-compat",a1="@firebase/analytics-compat",o1="@firebase/analytics",l1="@firebase/app-check-compat",u1="@firebase/app-check",c1="@firebase/auth",h1="@firebase/auth-compat",f1="@firebase/database",d1="@firebase/data-connect",m1="@firebase/database-compat",p1="@firebase/functions",_1="@firebase/functions-compat",g1="@firebase/installations",y1="@firebase/installations-compat",v1="@firebase/messaging",T1="@firebase/messaging-compat",E1="@firebase/performance",b1="@firebase/performance-compat",w1="@firebase/remote-config",A1="@firebase/remote-config-compat",S1="@firebase/storage",R1="@firebase/storage-compat",x1="@firebase/firestore",C1="@firebase/ai",I1="@firebase/firestore-compat",N1="firebase",O1="12.6.0";const op="[DEFAULT]",P1={[ap]:"fire-core",[r1]:"fire-core-compat",[o1]:"fire-analytics",[a1]:"fire-analytics-compat",[u1]:"fire-app-check",[l1]:"fire-app-check-compat",[c1]:"fire-auth",[h1]:"fire-auth-compat",[f1]:"fire-rtdb",[d1]:"fire-data-connect",[m1]:"fire-rtdb-compat",[p1]:"fire-fn",[_1]:"fire-fn-compat",[g1]:"fire-iid",[y1]:"fire-iid-compat",[v1]:"fire-fcm",[T1]:"fire-fcm-compat",[E1]:"fire-perf",[b1]:"fire-perf-compat",[w1]:"fire-rc",[A1]:"fire-rc-compat",[S1]:"fire-gcs",[R1]:"fire-gcs-compat",[x1]:"fire-fst",[I1]:"fire-fst-compat",[C1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};const df=new Map,D1=new Map,lp=new Map;function Xv(s,t){try{s.container.addComponent(t)}catch(n){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Zo(s){const t=s.name;if(lp.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,s);for(const n of df.values())Xv(n,s);for(const n of D1.values())Xv(n,s);return!0}function Of(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ki(s){return s==null?!1:s.settings!==void 0}const L1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new Cc("app","Firebase",L1);class M1{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}const $o=O1;function jT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const a={name:op,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Ba.create("bad-app-name",{appName:String(l)});if(n||(n=kT()),!n)throw Ba.create("no-options");const h=df.get(l);if(h){if(Go(n,h.options)&&Go(a,h.config))return h;throw Ba.create("duplicate-app",{appName:l})}const p=new jS(l);for(const T of lp.values())p.addComponent(T);const v=new M1(n,a,p);return df.set(l,v),v}function Up(s=op){const t=df.get(s);if(!t&&s===op&&kT())return jT();if(!t)throw Ba.create("no-app",{appName:s});return t}function er(s,t,n){let a=P1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jr.warn(p.join(" "));return}Zo(new qa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const k1="firebase-heartbeat-database",V1=1,_c="firebase-heartbeat-store";let Km=null;function HT(){return Km||(Km=t1(k1,V1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ba.create("idb-open",{originalErrorMessage:s.message})})),Km}async function z1(s){try{const n=(await HT()).transaction(_c),a=await n.objectStore(_c).get(qT(s));return await n.done,a}catch(t){if(t instanceof cr)jr.warn(t.message);else{const n=Ba.create("idb-get",{originalErrorMessage:t?.message});jr.warn(n.message)}}}async function Wv(s,t){try{const a=(await HT()).transaction(_c,"readwrite");await a.objectStore(_c).put(t,qT(s)),await a.done}catch(n){if(n instanceof cr)jr.warn(n.message);else{const a=Ba.create("idb-set",{originalErrorMessage:n?.message});jr.warn(a.message)}}}function qT(s){return`${s.name}!${s.options.appId}`}const U1=1024,B1=30;class j1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>B1){const l=F1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){jr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:n,unsentEntries:a}=H1(this._heartbeatsCache.heartbeats),l=ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return jr.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function H1(s,t=U1){const n=[];let a=s.slice();for(const l of s){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),$v(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),$v(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class q1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $v(s){return ff(JSON.stringify({version:2,heartbeats:s})).length}function F1(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,t=a);return t}function G1(s){Zo(new qa("platform-logger",t=>new i1(t),"PRIVATE")),Zo(new qa("heartbeat",t=>new j1(t),"PRIVATE")),er(ap,Qv,s),er(ap,Qv,"esm2020"),er("fire-js","")}G1("");var Z1="firebase",K1="12.7.0";er(Z1,K1,"app");var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ja,FT;(function(){var s;function t(z,N){function M(){}M.prototype=N.prototype,z.F=N.prototype,z.prototype=new M,z.prototype.constructor=z,z.D=function(H,B,q){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return N.prototype[B].apply(H,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(z,N,M){M||(M=0);const H=Array(16);if(typeof N=="string")for(var B=0;B<16;++B)H[B]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(B=0;B<16;++B)H[B]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=z.g[0],M=z.g[1],B=z.g[2];let q=z.g[3],D;D=N+(q^M&(B^q))+H[0]+3614090360&4294967295,N=M+(D<<7&4294967295|D>>>25),D=q+(B^N&(M^B))+H[1]+3905402710&4294967295,q=N+(D<<12&4294967295|D>>>20),D=B+(M^q&(N^M))+H[2]+606105819&4294967295,B=q+(D<<17&4294967295|D>>>15),D=M+(N^B&(q^N))+H[3]+3250441966&4294967295,M=B+(D<<22&4294967295|D>>>10),D=N+(q^M&(B^q))+H[4]+4118548399&4294967295,N=M+(D<<7&4294967295|D>>>25),D=q+(B^N&(M^B))+H[5]+1200080426&4294967295,q=N+(D<<12&4294967295|D>>>20),D=B+(M^q&(N^M))+H[6]+2821735955&4294967295,B=q+(D<<17&4294967295|D>>>15),D=M+(N^B&(q^N))+H[7]+4249261313&4294967295,M=B+(D<<22&4294967295|D>>>10),D=N+(q^M&(B^q))+H[8]+1770035416&4294967295,N=M+(D<<7&4294967295|D>>>25),D=q+(B^N&(M^B))+H[9]+2336552879&4294967295,q=N+(D<<12&4294967295|D>>>20),D=B+(M^q&(N^M))+H[10]+4294925233&4294967295,B=q+(D<<17&4294967295|D>>>15),D=M+(N^B&(q^N))+H[11]+2304563134&4294967295,M=B+(D<<22&4294967295|D>>>10),D=N+(q^M&(B^q))+H[12]+1804603682&4294967295,N=M+(D<<7&4294967295|D>>>25),D=q+(B^N&(M^B))+H[13]+4254626195&4294967295,q=N+(D<<12&4294967295|D>>>20),D=B+(M^q&(N^M))+H[14]+2792965006&4294967295,B=q+(D<<17&4294967295|D>>>15),D=M+(N^B&(q^N))+H[15]+1236535329&4294967295,M=B+(D<<22&4294967295|D>>>10),D=N+(B^q&(M^B))+H[1]+4129170786&4294967295,N=M+(D<<5&4294967295|D>>>27),D=q+(M^B&(N^M))+H[6]+3225465664&4294967295,q=N+(D<<9&4294967295|D>>>23),D=B+(N^M&(q^N))+H[11]+643717713&4294967295,B=q+(D<<14&4294967295|D>>>18),D=M+(q^N&(B^q))+H[0]+3921069994&4294967295,M=B+(D<<20&4294967295|D>>>12),D=N+(B^q&(M^B))+H[5]+3593408605&4294967295,N=M+(D<<5&4294967295|D>>>27),D=q+(M^B&(N^M))+H[10]+38016083&4294967295,q=N+(D<<9&4294967295|D>>>23),D=B+(N^M&(q^N))+H[15]+3634488961&4294967295,B=q+(D<<14&4294967295|D>>>18),D=M+(q^N&(B^q))+H[4]+3889429448&4294967295,M=B+(D<<20&4294967295|D>>>12),D=N+(B^q&(M^B))+H[9]+568446438&4294967295,N=M+(D<<5&4294967295|D>>>27),D=q+(M^B&(N^M))+H[14]+3275163606&4294967295,q=N+(D<<9&4294967295|D>>>23),D=B+(N^M&(q^N))+H[3]+4107603335&4294967295,B=q+(D<<14&4294967295|D>>>18),D=M+(q^N&(B^q))+H[8]+1163531501&4294967295,M=B+(D<<20&4294967295|D>>>12),D=N+(B^q&(M^B))+H[13]+2850285829&4294967295,N=M+(D<<5&4294967295|D>>>27),D=q+(M^B&(N^M))+H[2]+4243563512&4294967295,q=N+(D<<9&4294967295|D>>>23),D=B+(N^M&(q^N))+H[7]+1735328473&4294967295,B=q+(D<<14&4294967295|D>>>18),D=M+(q^N&(B^q))+H[12]+2368359562&4294967295,M=B+(D<<20&4294967295|D>>>12),D=N+(M^B^q)+H[5]+4294588738&4294967295,N=M+(D<<4&4294967295|D>>>28),D=q+(N^M^B)+H[8]+2272392833&4294967295,q=N+(D<<11&4294967295|D>>>21),D=B+(q^N^M)+H[11]+1839030562&4294967295,B=q+(D<<16&4294967295|D>>>16),D=M+(B^q^N)+H[14]+4259657740&4294967295,M=B+(D<<23&4294967295|D>>>9),D=N+(M^B^q)+H[1]+2763975236&4294967295,N=M+(D<<4&4294967295|D>>>28),D=q+(N^M^B)+H[4]+1272893353&4294967295,q=N+(D<<11&4294967295|D>>>21),D=B+(q^N^M)+H[7]+4139469664&4294967295,B=q+(D<<16&4294967295|D>>>16),D=M+(B^q^N)+H[10]+3200236656&4294967295,M=B+(D<<23&4294967295|D>>>9),D=N+(M^B^q)+H[13]+681279174&4294967295,N=M+(D<<4&4294967295|D>>>28),D=q+(N^M^B)+H[0]+3936430074&4294967295,q=N+(D<<11&4294967295|D>>>21),D=B+(q^N^M)+H[3]+3572445317&4294967295,B=q+(D<<16&4294967295|D>>>16),D=M+(B^q^N)+H[6]+76029189&4294967295,M=B+(D<<23&4294967295|D>>>9),D=N+(M^B^q)+H[9]+3654602809&4294967295,N=M+(D<<4&4294967295|D>>>28),D=q+(N^M^B)+H[12]+3873151461&4294967295,q=N+(D<<11&4294967295|D>>>21),D=B+(q^N^M)+H[15]+530742520&4294967295,B=q+(D<<16&4294967295|D>>>16),D=M+(B^q^N)+H[2]+3299628645&4294967295,M=B+(D<<23&4294967295|D>>>9),D=N+(B^(M|~q))+H[0]+4096336452&4294967295,N=M+(D<<6&4294967295|D>>>26),D=q+(M^(N|~B))+H[7]+1126891415&4294967295,q=N+(D<<10&4294967295|D>>>22),D=B+(N^(q|~M))+H[14]+2878612391&4294967295,B=q+(D<<15&4294967295|D>>>17),D=M+(q^(B|~N))+H[5]+4237533241&4294967295,M=B+(D<<21&4294967295|D>>>11),D=N+(B^(M|~q))+H[12]+1700485571&4294967295,N=M+(D<<6&4294967295|D>>>26),D=q+(M^(N|~B))+H[3]+2399980690&4294967295,q=N+(D<<10&4294967295|D>>>22),D=B+(N^(q|~M))+H[10]+4293915773&4294967295,B=q+(D<<15&4294967295|D>>>17),D=M+(q^(B|~N))+H[1]+2240044497&4294967295,M=B+(D<<21&4294967295|D>>>11),D=N+(B^(M|~q))+H[8]+1873313359&4294967295,N=M+(D<<6&4294967295|D>>>26),D=q+(M^(N|~B))+H[15]+4264355552&4294967295,q=N+(D<<10&4294967295|D>>>22),D=B+(N^(q|~M))+H[6]+2734768916&4294967295,B=q+(D<<15&4294967295|D>>>17),D=M+(q^(B|~N))+H[13]+1309151649&4294967295,M=B+(D<<21&4294967295|D>>>11),D=N+(B^(M|~q))+H[4]+4149444226&4294967295,N=M+(D<<6&4294967295|D>>>26),D=q+(M^(N|~B))+H[11]+3174756917&4294967295,q=N+(D<<10&4294967295|D>>>22),D=B+(N^(q|~M))+H[2]+718787259&4294967295,B=q+(D<<15&4294967295|D>>>17),D=M+(q^(B|~N))+H[9]+3951481745&4294967295,z.g[0]=z.g[0]+N&4294967295,z.g[1]=z.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,z.g[2]=z.g[2]+B&4294967295,z.g[3]=z.g[3]+q&4294967295}a.prototype.v=function(z,N){N===void 0&&(N=z.length);const M=N-this.blockSize,H=this.C;let B=this.h,q=0;for(;q<N;){if(B==0)for(;q<=M;)l(this,z,q),q+=this.blockSize;if(typeof z=="string"){for(;q<N;)if(H[B++]=z.charCodeAt(q++),B==this.blockSize){l(this,H),B=0;break}}else for(;q<N;)if(H[B++]=z[q++],B==this.blockSize){l(this,H),B=0;break}}this.h=B,this.o+=N},a.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var N=1;N<z.length-8;++N)z[N]=0;N=this.o*8;for(var M=z.length-8;M<z.length;++M)z[M]=N&255,N/=256;for(this.v(z),z=Array(16),N=0,M=0;M<4;++M)for(let H=0;H<32;H+=8)z[N++]=this.g[M]>>>H&255;return z};function h(z,N){var M=v;return Object.prototype.hasOwnProperty.call(M,z)?M[z]:M[z]=N(z)}function p(z,N){this.h=N;const M=[];let H=!0;for(let B=z.length-1;B>=0;B--){const q=z[B]|0;H&&q==N||(M[B]=q,H=!1)}this.g=M}var v={};function T(z){return-128<=z&&z<128?h(z,function(N){return new p([N|0],N<0?-1:0)}):new p([z|0],z<0?-1:0)}function b(z){if(isNaN(z)||!isFinite(z))return C;if(z<0)return Z(b(-z));const N=[];let M=1;for(let H=0;z>=M;H++)N[H]=z/M|0,M*=4294967296;return new p(N,0)}function x(z,N){if(z.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z.charAt(0)=="-")return Z(x(z.substring(1),N));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=b(Math.pow(N,8));let H=C;for(let q=0;q<z.length;q+=8){var B=Math.min(8,z.length-q);const D=parseInt(z.substring(q,q+B),N);B<8?(B=b(Math.pow(N,B)),H=H.j(B).add(b(D))):(H=H.j(M),H=H.add(b(D)))}return H}var C=T(0),V=T(1),$=T(16777216);s=p.prototype,s.m=function(){if(nt(this))return-Z(this).m();let z=0,N=1;for(let M=0;M<this.g.length;M++){const H=this.i(M);z+=(H>=0?H:4294967296+H)*N,N*=4294967296}return z},s.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(ut(this))return"0";if(nt(this))return"-"+Z(this).toString(z);const N=b(Math.pow(z,6));var M=this;let H="";for(;;){const B=Mt(M,N).g;M=dt(M,B.j(N));let q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(z);if(M=B,ut(M))return q+H;for(;q.length<6;)q="0"+q;H=q+H}},s.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function ut(z){if(z.h!=0)return!1;for(let N=0;N<z.g.length;N++)if(z.g[N]!=0)return!1;return!0}function nt(z){return z.h==-1}s.l=function(z){return z=dt(this,z),nt(z)?-1:ut(z)?0:1};function Z(z){const N=z.g.length,M=[];for(let H=0;H<N;H++)M[H]=~z.g[H];return new p(M,~z.h).add(V)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(z){const N=Math.max(this.g.length,z.g.length),M=[];let H=0;for(let B=0;B<=N;B++){let q=H+(this.i(B)&65535)+(z.i(B)&65535),D=(q>>>16)+(this.i(B)>>>16)+(z.i(B)>>>16);H=D>>>16,q&=65535,D&=65535,M[B]=D<<16|q}return new p(M,M[M.length-1]&-2147483648?-1:0)};function dt(z,N){return z.add(Z(N))}s.j=function(z){if(ut(this)||ut(z))return C;if(nt(this))return nt(z)?Z(this).j(Z(z)):Z(Z(this).j(z));if(nt(z))return Z(this.j(Z(z)));if(this.l($)<0&&z.l($)<0)return b(this.m()*z.m());const N=this.g.length+z.g.length,M=[];for(var H=0;H<2*N;H++)M[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<z.g.length;B++){const q=this.i(H)>>>16,D=this.i(H)&65535,oe=z.i(B)>>>16,Je=z.i(B)&65535;M[2*H+2*B]+=D*Je,yt(M,2*H+2*B),M[2*H+2*B+1]+=q*Je,yt(M,2*H+2*B+1),M[2*H+2*B+1]+=D*oe,yt(M,2*H+2*B+1),M[2*H+2*B+2]+=q*oe,yt(M,2*H+2*B+2)}for(z=0;z<N;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=N;z<2*N;z++)M[z]=0;return new p(M,0)};function yt(z,N){for(;(z[N]&65535)!=z[N];)z[N+1]+=z[N]>>>16,z[N]&=65535,N++}function _t(z,N){this.g=z,this.h=N}function Mt(z,N){if(ut(N))throw Error("division by zero");if(ut(z))return new _t(C,C);if(nt(z))return N=Mt(Z(z),N),new _t(Z(N.g),Z(N.h));if(nt(N))return N=Mt(z,Z(N)),new _t(Z(N.g),N.h);if(z.g.length>30){if(nt(z)||nt(N))throw Error("slowDivide_ only works with positive integers.");for(var M=V,H=N;H.l(z)<=0;)M=Gt(M),H=Gt(H);var B=qt(M,1),q=qt(H,1);for(H=qt(H,2),M=qt(M,2);!ut(H);){var D=q.add(H);D.l(z)<=0&&(B=B.add(M),q=D),H=qt(H,1),M=qt(M,1)}return N=dt(z,B.j(N)),new _t(B,N)}for(B=C;z.l(N)>=0;){for(M=Math.max(1,Math.floor(z.m()/N.m())),H=Math.ceil(Math.log(M)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),q=b(M),D=q.j(N);nt(D)||D.l(z)>0;)M-=H,q=b(M),D=q.j(N);ut(q)&&(q=V),B=B.add(q),z=dt(z,D)}return new _t(B,z)}s.B=function(z){return Mt(this,z).h},s.and=function(z){const N=Math.max(this.g.length,z.g.length),M=[];for(let H=0;H<N;H++)M[H]=this.i(H)&z.i(H);return new p(M,this.h&z.h)},s.or=function(z){const N=Math.max(this.g.length,z.g.length),M=[];for(let H=0;H<N;H++)M[H]=this.i(H)|z.i(H);return new p(M,this.h|z.h)},s.xor=function(z){const N=Math.max(this.g.length,z.g.length),M=[];for(let H=0;H<N;H++)M[H]=this.i(H)^z.i(H);return new p(M,this.h^z.h)};function Gt(z){const N=z.g.length+1,M=[];for(let H=0;H<N;H++)M[H]=z.i(H)<<1|z.i(H-1)>>>31;return new p(M,z.h)}function qt(z,N){const M=N>>5;N%=32;const H=z.g.length-M,B=[];for(let q=0;q<H;q++)B[q]=N>0?z.i(q+M)>>>N|z.i(q+M+1)<<32-N:z.i(q+M);return new p(B,z.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,FT=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.B,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=b,p.fromString=x,ja=p}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GT,sc,ZT,tf,up,KT,YT,QT;(function(){var s,t=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var y=0;y<f.length;++y){var A=f[y];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function l(f,y){if(y)t:{var A=a;f=f.split(".");for(var I=0;I<f.length-1;I++){var K=f[I];if(!(K in A))break t;A=A[K]}f=f[f.length-1],I=A[f],y=y(I),y!=I&&y!=null&&t(A,f,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(y){var A=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&A.push([I,y[I]]);return A}});var h=h||{},p=this||self;function v(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function T(f,y,A){return f.call.apply(f.bind,arguments)}function b(f,y,A){return b=T,b.apply(null,arguments)}function x(f,y){var A=Array.prototype.slice.call(arguments,1);return function(){var I=A.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function C(f,y){function A(){}A.prototype=y.prototype,f.Z=y.prototype,f.prototype=new A,f.prototype.constructor=f,f.Ob=function(I,K,J){for(var pt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)pt[zt-2]=arguments[zt];return y.prototype[K].apply(I,pt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function $(f){const y=f.length;if(y>0){const A=Array(y);for(let I=0;I<y;I++)A[I]=f[I];return A}return[]}function ut(f,y){for(let I=1;I<arguments.length;I++){const K=arguments[I];var A=typeof K;if(A=A!="object"?A:K?Array.isArray(K)?"array":A:"null",A=="array"||A=="object"&&typeof K.length=="number"){A=f.length||0;const J=K.length||0;f.length=A+J;for(let pt=0;pt<J;pt++)f[A+pt]=K[pt]}else f.push(K)}}class nt{constructor(y,A){this.i=y,this.j=A,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(f){p.setTimeout(()=>{throw f},0)}function dt(){var f=z;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class yt{constructor(){this.h=this.g=null}add(y,A){const I=_t.get();I.set(y,A),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new nt(()=>new Mt,f=>f.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(y,A){this.h=y,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Gt,qt=!1,z=new yt,N=()=>{const f=Promise.resolve(void 0);Gt=()=>{f.then(M)}};function M(){for(var f;f=dt();){try{f.h.call(f.g)}catch(A){Z(A)}var y=_t;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}qt=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};p.addEventListener("test",A,y),p.removeEventListener("test",A,y)}catch{}return f})();function D(f){return/^[\s\xa0]*$/.test(f)}function oe(f,y){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}C(oe,B),oe.prototype.init=function(f,y){const A=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(A=="mouseover"?y=f.fromElement:A=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Je="closure_listenable_"+(Math.random()*1e6|0),et=0;function gt(f,y,A,I,K){this.listener=f,this.proxy=null,this.src=y,this.type=A,this.capture=!!I,this.ha=K,this.key=++et,this.da=this.fa=!1}function ht(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function te(f,y,A){for(const I in f)y.call(A,f[I],I,f)}function bt(f,y){for(const A in f)y.call(void 0,f[A],A,f)}function U(f){const y={};for(const A in f)y[A]=f[A];return y}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,y){let A,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(A in I)f[A]=I[A];for(let J=0;J<it.length;J++)A=it[J],Object.prototype.hasOwnProperty.call(I,A)&&(f[A]=I[A])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,y,A,I,K){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const pt=Tt(f,y,I,K);return pt>-1?(y=f[pt],A||(y.fa=!1)):(y=new gt(y,this.src,J,!!I,K),y.fa=A,f.push(y)),y};function Et(f,y){const A=y.type;if(A in f.g){var I=f.g[A],K=Array.prototype.indexOf.call(I,y,void 0),J;(J=K>=0)&&Array.prototype.splice.call(I,K,1),J&&(ht(y),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Tt(f,y,A,I){for(let K=0;K<f.length;++K){const J=f[K];if(!J.da&&J.listener==y&&J.capture==!!A&&J.ha==I)return K}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),be={};function Re(f,y,A,I,K){if(Array.isArray(y)){for(let J=0;J<y.length;J++)Re(f,y[J],A,I,K);return null}return A=Ps(A),f&&f[Je]?f.J(y,A,v(I)?!!I.capture:!1,K):us(f,y,A,!1,I,K)}function us(f,y,A,I,K,J){if(!y)throw Error("Invalid event type");const pt=v(K)?!!K.capture:!!K;let zt=Os(f);if(zt||(f[Bt]=zt=new mt(f)),A=zt.add(y,A,I,pt,J),A.proxy)return A;if(I=Is(),A.proxy=I,I.src=f,I.listener=A,f.addEventListener)q||(K=pt),K===void 0&&(K=!1),f.addEventListener(y.toString(),I,K);else if(f.attachEvent)f.attachEvent(Bi(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Is(){function f(A){return y.call(f.src,f.listener,A)}const y=Gr;return f}function Ui(f,y,A,I,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)Ui(f,y[J],A,I,K);else I=v(I)?!!I.capture:!!I,A=Ps(A),f&&f[Je]?(f=f.i,J=String(y).toString(),J in f.g&&(y=f.g[J],A=Tt(y,A,I,K),A>-1&&(ht(y[A]),Array.prototype.splice.call(y,A,1),y.length==0&&(delete f.g[J],f.h--)))):f&&(f=Os(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Tt(y,A,I,K)),(A=f>-1?y[f]:null)&&Ns(A))}function Ns(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Je])Et(y.i,f);else{var A=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(A,I,f.capture):y.detachEvent?y.detachEvent(Bi(A),I):y.addListener&&y.removeListener&&y.removeListener(I),(A=Os(y))?(Et(A,f),A.h==0&&(A.src=null,y[Bt]=null)):ht(f)}}}function Bi(f){return f in be?be[f]:be[f]="on"+f}function Gr(f,y){if(f.da)f=!0;else{y=new oe(y,this);const A=f.listener,I=f.ha||f.src;f.fa&&Ns(f),f=A.call(I,y)}return f}function Os(f){return f=f[Bt],f instanceof mt?f:null}var hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ps(f){return typeof f=="function"?f:(f[hr]||(f[hr]=function(y){return f.handleEvent(y)}),f[hr])}function He(){H.call(this),this.i=new mt(this),this.M=this,this.G=null}C(He,H),He.prototype[Je]=!0,He.prototype.removeEventListener=function(f,y,A,I){Ui(this,f,y,A,I)};function qe(f,y){var A,I=f.G;if(I)for(A=[];I;I=I.G)A.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new B(y,f);else if(y instanceof B)y.target=y.target||f;else{var K=y;y=new B(I,f),ft(y,K)}K=!0;let J,pt;if(A)for(pt=A.length-1;pt>=0;pt--)J=y.g=A[pt],K=ji(J,I,!0,y)&&K;if(J=y.g=f,K=ji(J,I,!0,y)&&K,K=ji(J,I,!1,y)&&K,A)for(pt=0;pt<A.length;pt++)J=y.g=A[pt],K=ji(J,I,!1,y)&&K}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const A=f.g[y];for(let I=0;I<A.length;I++)ht(A[I]);delete f.g[y],f.h--}}this.G=null},He.prototype.J=function(f,y,A,I){return this.i.add(String(f),y,!1,A,I)},He.prototype.K=function(f,y,A,I){return this.i.add(String(f),y,!0,A,I)};function ji(f,y,A,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let K=!0;for(let J=0;J<y.length;++J){const pt=y[J];if(pt&&!pt.da&&pt.capture==A){const zt=pt.listener,le=pt.ha||pt.src;pt.fa&&Et(f.i,pt),K=zt.call(le,I)!==!1&&K}}return K&&!I.defaultPrevented}function sl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:p.setTimeout(f,y||0)}function eo(f){f.g=sl(()=>{f.g=null,f.i&&(f.i=!1,eo(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class Rn extends H{constructor(y,A){super(),this.m=y,this.l=A,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:eo(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(f){H.call(this),this.h=f,this.g={}}C(fr,H);var dr=[];function Zr(f){te(f.g,function(y,A){this.g.hasOwnProperty(A)&&Ns(y)},f),f.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Zr(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=p.JSON.stringify,mu=p.JSON.parse,no=class{stringify(f){return p.JSON.stringify(f,void 0)}parse(f){return p.JSON.parse(f,void 0)}};function io(){}function rl(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){B.call(this,"d")}C($e,B);function Fn(){B.call(this,"c")}C(Fn,B);var Ve={},Ds=null;function Kr(){return Ds=Ds||new He}Ve.Ia="serverreachability";function al(f){B.call(this,Ve.Ia,f)}C(al,B);function yi(f){const y=Kr();qe(y,new al(y))}Ve.STAT_EVENT="statevent";function Ls(f,y){B.call(this,Ve.STAT_EVENT,f),this.stat=y}C(Ls,B);function ze(f){const y=Kr();qe(y,new Ls(y,f))}Ve.Ja="timingevent";function Hi(f,y){B.call(this,Ve.Ja,f),this.size=y}C(Hi,B);function qi(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){f()},y)}function vi(){this.g=!0}vi.prototype.ua=function(){this.g=!1};function pu(f,y,A,I,K,J){f.info(function(){if(f.g)if(J){var pt="",zt=J.split("&");for(let ue=0;ue<zt.length;ue++){var le=zt[ue].split("=");if(le.length>1){const Ce=le[0];le=le[1];const ai=Ce.split("_");pt=ai.length>=2&&ai[1]=="type"?pt+(Ce+"="+le+"&"):pt+(Ce+"=redacted&")}}}else pt=null;else pt=J;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+y+`
`+A+`
`+pt})}function ol(f,y,A,I,K,J,pt){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+y+`
`+A+`
`+J+" "+pt})}function Fi(f,y,A,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+_u(f,A)+(I?" "+I:"")})}function hs(f,y){f.info(function(){return"TIMEOUT: "+y})}vi.prototype.info=function(){};function _u(f,y){if(!f.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var A=J[f];if(!(A.length<2)){var I=A[1];if(Array.isArray(I)&&!(I.length<1)){var K=I[0];if(K!="noop"&&K!="stop"&&K!="close")for(let pt=1;pt<I.length;pt++)I[pt]=""}}}}return cs(J)}catch{return y}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},so={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ro;function gn(){}C(gn,io),gn.prototype.g=function(){return new XMLHttpRequest},ro=new gn;function Rt(f){return encodeURIComponent(String(f))}function ao(f){var y=1;f=f.split(":");const A=[];for(;y>0&&f.length;)A.push(f.shift()),y--;return f.length&&A.push(f.join(":")),A}function $n(f,y,A,I){this.j=f,this.i=y,this.l=A,this.S=I||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Ue={},Fe={};function Ti(f,y,A){f.M=1,f.A=ye(Oe(y)),f.u=A,f.R=!0,Ei(f,null)}function Ei(f,y){f.F=Date.now(),Gi(f),f.B=Oe(f.A);var A=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),ks(A.i,"t",I),f.C=0,A=f.j.L,f.h=new ti,f.g=mo(f.j,A?y:null,!f.u),f.P>0&&(f.O=new Rn(b(f.Y,f,f.g),f.P)),y=f.V,A=f.g,I=f.ba;var K="readystatechange";Array.isArray(K)||(K&&(dr[0]=K.toString()),K=dr);for(let J=0;J<K.length;J++){const pt=Re(A,K[J],I||y.handleEvent,!1,y.h||y);if(!pt)break;y.g[pt.key]=pt}y=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),yi(),pu(f.i,f.v,f.B,f.l,f.S,f.u)}$n.prototype.ba=function(f){f=f.target;const y=this.O;y&&Si(f)==3?y.j():this.Y(f)},$n.prototype.Y=function(f){try{if(f==this.g)t:{const zt=Si(this.g),le=this.g.ya(),ue=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||zt!=4||le==7||(le==8||ue<=0?yi(3):yi(2)),bi(this);var y=this.g.ca();this.X=y;var A=ll(this);if(this.o=y==200,ol(this.i,this.v,this.B,this.l,this.S,zt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var I,K=this.g;if((I=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(I)){var J=I;break e}}J=null}if(f=J)Fi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zi(this,f);else{this.o=!1,this.m=3,ze(12),yn(this),ei(this);break t}}if(this.R){f=!0;let Ce;for(;!this.K&&this.C<A.length;)if(Ce=cl(this,A),Ce==Fe){zt==4&&(this.m=4,ze(14),f=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ce==Ue){this.m=4,ze(15),Fi(this.i,this.l,A,"[Invalid Chunk]"),f=!1;break}else Fi(this.i,this.l,Ce,null),Zi(this,Ce);if(ul(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||A.length!=0||this.h.h||(this.m=1,ze(16),f=!1),this.o=this.o&&f,!f)Fi(this.i,this.l,A,"[Invalid Chunked Response]"),yn(this),ei(this);else if(A.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ho(pt),pt.P=!0,ze(11))}}else Fi(this.i,this.l,A,null),Zi(this,A);zt==4&&yn(this),this.o&&!this.K&&(zt==4?Kn(this.j,this):(this.o=!1,Gi(this)))}else Ri(this.g),y==400&&A.indexOf("Unknown SID")>0?(this.m=3,ze(12)):(this.m=0,ze(13)),yn(this),ei(this)}}}catch{}};function ll(f){if(!ul(f))return f.g.la();const y=an(f.g);if(y==="")return"";let A="";const I=y.length,K=Si(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return yn(f),ei(f),"";f.h.i=new p.TextDecoder}for(let J=0;J<I;J++)f.h.h=!0,A+=f.h.i.decode(y[J],{stream:!(K&&J==I-1)});return y.length=0,f.h.g+=A,f.C=0,f.h.g}function ul(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function cl(f,y){var A=f.C,I=y.indexOf(`
`,A);return I==-1?Fe:(A=Number(y.substring(A,I)),isNaN(A)?Ue:(I+=1,I+A>y.length?Fe:(y=y.slice(I,I+A),f.C=I+A,y)))}$n.prototype.cancel=function(){this.K=!0,yn(this)};function Gi(f){f.T=Date.now()+f.H,Yr(f,f.H)}function Yr(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(b(f.aa,f),y)}function bi(f){f.D&&(p.clearTimeout(f.D),f.D=null)}$n.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(hs(this.i,this.B),this.M!=2&&(yi(),ze(17)),yn(this),this.m=2,ei(this)):Yr(this,this.T-f)};function ei(f){f.j.I==0||f.K||Kn(f.j,f)}function yn(f){bi(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Zr(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Zi(f,y){try{var A=f.j;if(A.I!=0&&(A.g==f||ni(A.h,f))){if(!f.L&&ni(A.h,f)&&A.I==3){try{var I=A.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<f.F)ea(A),Bs(A);else break t;Tr(A),ze(18)}}else A.xa=K[1],0<A.xa-A.K&&K[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=qi(b(A.Va,A),6e3));Ki(A.h)<=1&&A.ta&&(A.ta=void 0)}else xi(A,11)}else if((f.L||A.g==f)&&ea(A),!D(y))for(K=A.Ba.g.parse(y),y=0;y<K.length;y++){let ue=K[y];const Ce=ue[0];if(!(Ce<=A.K))if(A.K=Ce,ue=ue[1],A.I==2)if(ue[0]=="c"){A.M=ue[1],A.ba=ue[2];const ai=ue[3];ai!=null&&(A.ka=ai,A.j.info("VER="+A.ka));const oi=ue[4];oi!=null&&(A.za=oi,A.j.info("SVER="+A.za));const Yn=ue[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(I=1.5*Yn,A.O=I,A.j.info("backChannelRequestTimeoutMs_="+I)),I=A;const Ii=f.g;if(Ii){const Er=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var J=I.h;J.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(fs(J,J.h),J.h=null))}if(I.G){const br=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;br&&(I.wa=br,wt(I.J,I.G,br))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-f.F,A.j.info("Handshake RTT: "+A.T+"ms")),I=A;var pt=f;if(I.na=fo(I,I.L?I.ba:null,I.W),pt.L){Qr(I.h,pt);var zt=pt,le=I.O;le&&(zt.H=le),zt.D&&(bi(zt),Gi(zt)),I.g=pt}else co(I);A.i.length>0&&kn(A)}else ue[0]!="stop"&&ue[0]!="close"||xi(A,7);else A.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?xi(A,7):Yt(A):ue[0]!="noop"&&A.l&&A.l.qa(ue),A.A=0)}}yi(4)}catch{}}var Ge=class{constructor(f,y){this.g=f,this.map=y}};function oo(f){this.l=f||10,p.PerformanceNavigationTiming?(f=p.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ki(f){return f.h?1:f.g?f.g.size:0}function ni(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function fs(f,y){f.g?f.g.add(y):f.h=y}function Qr(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}oo.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xr(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const A of f.g.values())y=y.concat(A.G);return y}return $(f.i)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qt(f,y){if(f){f=f.split("&");for(let A=0;A<f.length;A++){const I=f[A].indexOf("=");let K,J=null;I>=0?(K=f[A].substring(0,I),J=f[A].substring(I+1)):K=f[A],y(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Xt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Xt?(this.l=f.l,Pe(this,f.j),this.o=f.o,this.g=f.g,Gn(this,f.u),this.h=f.h,pr(this,yr(f.i)),this.m=f.m):f&&(y=String(f).match(Ms))?(this.l=!1,Pe(this,y[1]||"",!0),this.o=ii(y[2]||""),this.g=ii(y[3]||"",!0),Gn(this,y[4]),this.h=ii(y[5]||"",!0),pr(this,y[6]||"",!0),this.m=ii(y[7]||"")):(this.l=!1,this.i=new si(null,this.l))}Xt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(Yi(y,Wr,!0),":");var A=this.g;return(A||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Yi(y,Wr,!0),"@"),f.push(Rt(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&f.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Yi(A,A.charAt(0)=="/"?wi:_r,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Yi(A,Qi)),f.join("")},Xt.prototype.resolve=function(f){const y=Oe(this);let A=!!f.j;A?Pe(y,f.j):A=!!f.o,A?y.o=f.o:A=!!f.g,A?y.g=f.g:A=f.u!=null;var I=f.h;if(A)Gn(y,f.u);else if(A=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var K=y.h.lastIndexOf("/");K!=-1&&(I=y.h.slice(0,K+1)+I)}if(K=I,K==".."||K==".")I="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){I=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let pt=0;pt<K.length;){const zt=K[pt++];zt=="."?I&&pt==K.length&&J.push(""):zt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&pt==K.length&&J.push("")):(J.push(zt),I=!0)}I=J.join("/")}else I=K}return A?y.h=I:A=f.i.toString()!=="",A?pr(y,yr(f.i)):A=!!f.m,A&&(y.m=f.m),y};function Oe(f){return new Xt(f)}function Pe(f,y,A){f.j=A?ii(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Gn(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function pr(f,y,A){y instanceof si?(f.i=y,Vs(f.i,f.l)):(A||(y=Yi(y,ve)),f.i=new si(y,f.l))}function wt(f,y,A){f.i.set(y,A)}function ye(f){return wt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ii(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Yi(f,y,A){return typeof f=="string"?(f=encodeURI(f).replace(y,xe),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xe(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wr=/[#\/\?@]/g,_r=/[#\?:]/g,wi=/[#\?]/g,ve=/[#\?@]/g,Qi=/#/g;function si(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function rn(f){f.g||(f.g=new Map,f.h=0,f.i&&Qt(f.i,function(y,A){f.add(decodeURIComponent(y.replace(/\+/g," ")),A)}))}s=si.prototype,s.add=function(f,y){rn(this),this.i=null,f=Xi(this,f);let A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(y),this.h+=1,this};function Jr(f,y){rn(f),y=Xi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function ds(f,y){return rn(f),y=Xi(f,y),f.g.has(y)}s.forEach=function(f,y){rn(this),this.g.forEach(function(A,I){A.forEach(function(K){f.call(y,K,I,this)},this)},this)};function gr(f,y){rn(f);let A=[];if(typeof y=="string")ds(f,y)&&(A=A.concat(f.g.get(Xi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)A=A.concat(f[y]);return A}s.set=function(f,y){return rn(this),this.i=null,f=Xi(this,f),ds(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},s.get=function(f,y){return f?(f=gr(this,f),f.length>0?String(f[0]):y):y};function ks(f,y,A){Jr(f,y),A.length>0&&(f.i=null,f.g.set(Xi(f,y),$(A)),f.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var A=y[I];const K=Rt(A);A=gr(this,A);for(let J=0;J<A.length;J++){let pt=K;A[J]!==""&&(pt+="="+Rt(A[J])),f.push(pt)}}return this.i=f.join("&")};function yr(f){const y=new si;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Xi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Vs(f,y){y&&!f.j&&(rn(f),f.i=null,f.g.forEach(function(A,I){const K=I.toLowerCase();I!=K&&(Jr(this,I),ks(this,K,A))},f)),f.j=y}function Dn(f,y){const A=new vi;if(p.Image){const I=new Image;I.onload=x(Ln,A,"TestLoadImage: loaded",!0,y,I),I.onerror=x(Ln,A,"TestLoadImage: error",!1,y,I),I.onabort=x(Ln,A,"TestLoadImage: abort",!1,y,I),I.ontimeout=x(Ln,A,"TestLoadImage: timeout",!1,y,I),p.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function $r(f,y){const A=new vi,I=new AbortController,K=setTimeout(()=>{I.abort(),Ln(A,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(J=>{clearTimeout(K),J.ok?Ln(A,"TestPingServer: ok",!0,y):Ln(A,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Ln(A,"TestPingServer: error",!1,y)})}function Ln(f,y,A,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(A)}catch{}}function zs(){this.g=new no}function Dt(f){this.i=f.Sb||null,this.h=f.ab||!1}C(Dt,io),Dt.prototype.g=function(){return new vn(this.i,this.h)};function vn(f,y){He.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(vn,He),s=vn.prototype,s.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Zn(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||p).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;he(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function he(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}s.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?ms(this):Zn(this),this.readyState==3&&he(this)}},s.Oa=function(f){this.g&&(this.response=this.responseText=f,ms(this))},s.Na=function(f){this.g&&(this.response=f,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Zn(f)}s.setRequestHeader=function(f,y){this.A.append(f,y)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var A=y.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=y.next();return f.join(`\r
`)};function Zn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Mn(f){let y="";return te(f,function(A,I){y+=I,y+=":",y+=A,y+=`\r
`}),y}function ps(f,y,A){t:{for(I in A){var I=!1;break t}I=!0}I||(A=Mn(A),typeof f=="string"?A!=null&&Rt(A):wt(f,y,A))}function ee(f){He.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ee,He);var ri=/^https?$/i,_s=["POST","PUT"];s=ee.prototype,s.Fa=function(f){this.H=f},s.ea=function(f,y,A,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ro.g(),this.g.onreadystatechange=V(b(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(J){De(this,J);return}if(f=A||"",A=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)A.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())A.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(A.keys()).find(J=>J.toLowerCase()=="content-type"),K=p.FormData&&f instanceof p.FormData,!(Array.prototype.indexOf.call(_s,y,void 0)>=0)||I||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pt]of A)this.g.setRequestHeader(J,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){De(this,J)}};function De(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Ai(f),Wi(f)}function Ai(f){f.A||(f.A=!0,qe(f,"complete"),qe(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,qe(this,"complete"),qe(this,"abort"),Wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},s.Xa=function(){Us(this)};function Us(f){if(f.h&&typeof h<"u"){if(f.v&&Si(f)==4)setTimeout(f.Ca.bind(f),0);else if(qe(f,"readystatechange"),Si(f)==4){f.h=!1;try{const J=f.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var A;if(!(A=y)){var I;if(I=J===0){let pt=String(f.D).match(Ms)[1]||null;!pt&&p.self&&p.self.location&&(pt=p.self.location.protocol.slice(0,-1)),I=!ri.test(pt?pt.toLowerCase():"")}A=I}if(A)qe(f,"complete"),qe(f,"success");else{f.o=6;try{var K=Si(f)>2?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.ca()+"]",Ai(f)}}finally{Wi(f)}}}}function Wi(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const A=f.g;f.g=null,y||qe(f,"ready");try{A.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Si(f){return f.g?f.g.readyState:0}s.ca=function(){try{return Si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),mu(y)}};function an(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(f){const y={};f=(f.g&&Si(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(D(f[I]))continue;var A=ao(f[I]);const K=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const J=y[K]||[];y[K]=J,J.push(A)}bt(y,function(I){return I.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(f,y,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||y}function gs(f){this.za=0,this.i=[],this.j=new vi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,f),this.Za=Ji("retryDelaySeedMs",1e4,f),this.Ta=Ji("forwardChannelMaxRetries",2,f),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new oo(f&&f.concurrentRequestLimit),this.Ba=new zs,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(f,y,A,I){ze(0),this.W=f,this.H=y||{},A&&I!==void 0&&(this.H.OSID=A,this.H.OAID=I),this.F=this.X,this.J=fo(this,null,this.W),kn(this)};function Yt(f){if(Tn(f),f.I==3){var y=f.V++,A=Oe(f.J);if(wt(A,"SID",f.M),wt(A,"RID",y),wt(A,"TYPE","terminate"),ys(f,A),y=new $n(f,f.j,y),y.M=2,y.A=ye(Oe(A)),A=!1,p.navigator&&p.navigator.sendBeacon)try{A=p.navigator.sendBeacon(y.A.toString(),"")}catch{}!A&&p.Image&&(new Image().src=y.A,A=!0),A||(y.g=mo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Gi(y)}Ci(f)}function Bs(f){f.g&&(ho(f),f.g.cancel(),f.g=null)}function Tn(f){Bs(f),f.v&&(p.clearTimeout(f.v),f.v=null),ea(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&p.clearTimeout(f.m),f.m=null)}function kn(f){if(!lo(f.h)&&!f.m){f.m=!0;var y=f.Ea;Gt||N(),qt||(Gt(),qt=!0),z.add(y,f),f.D=0}}function vr(f,y){return Ki(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(b(f.Ea,f,y),fl(f,f.D)),f.D++,!0)}s.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const K=new $n(this,this.j,f);let J=this.o;if(this.U&&(J?(J=U(J),ft(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)t:{for(var y=0,A=0;A<this.i.length;A++){e:{var I=this.i[A];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=A;break t}if(y===4096||A===this.i.length-1){y=A+1;break t}}y=1e3}else y=1e3;y=hl(this,K,y),A=Oe(this.J),wt(A,"RID",f),wt(A,"CVER",22),this.G&&wt(A,"X-HTTP-Session-Id",this.G),ys(this,A),J&&(this.R?y="headers="+Rt(Mn(J))+"&"+y:this.u&&ps(A,this.u,J)),fs(this.h,K),this.Ra&&wt(A,"TYPE","init"),this.S?(wt(A,"$req",y),wt(A,"SID","null"),K.U=!0,Ti(K,A,null)):Ti(K,A,y),this.I=2}}else this.I==3&&(f?uo(this,f):this.i.length==0||lo(this.h)||uo(this))};function uo(f,y){var A;y?A=y.l:A=f.V++;const I=Oe(f.J);wt(I,"SID",f.M),wt(I,"RID",A),wt(I,"AID",f.K),ys(f,I),f.u&&f.o&&ps(I,f.u,f.o),A=new $n(f,f.j,A,f.D+1),f.u===null&&(A.J=f.o),y&&(f.i=y.G.concat(f.i)),y=hl(f,A,1e3),A.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),fs(f.h,A),Ti(A,I,y)}function ys(f,y){f.H&&te(f.H,function(A,I){wt(y,I,A)}),f.l&&te({},function(A,I){wt(y,I,A)})}function hl(f,y,A){A=Math.min(f.i.length,A);const I=f.l?b(f.l.Ka,f.l,f):null;t:{var K=f.i;let zt=-1;for(;;){const le=["count="+A];zt==-1?A>0?(zt=K[0].g,le.push("ofs="+zt)):zt=0:le.push("ofs="+zt);let ue=!0;for(let Ce=0;Ce<A;Ce++){var J=K[Ce].g;const ai=K[Ce].map;if(J-=zt,J<0)zt=Math.max(0,K[Ce].g-100),ue=!1;else try{J="req"+J+"_"||"";try{var pt=ai instanceof Map?ai:Object.entries(ai);for(const[oi,Yn]of pt){let Ii=Yn;v(Yn)&&(Ii=cs(Yn)),le.push(J+oi+"="+encodeURIComponent(Ii))}}catch(oi){throw le.push(J+"type="+encodeURIComponent("_badmap")),oi}}catch{I&&I(ai)}}if(ue){pt=le.join("&");break t}}pt=void 0}return f=f.i.splice(0,A),y.G=f,pt}function co(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;Gt||N(),qt||(Gt(),qt=!0),z.add(y,f),f.A=0}}function Tr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(b(f.Da,f),fl(f,f.A)),f.A++,!0)}s.Da=function(){if(this.v=null,ta(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(b(this.Wa,this),f)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ze(10),Bs(this),ta(this))};function ho(f){f.B!=null&&(p.clearTimeout(f.B),f.B=null)}function ta(f){f.g=new $n(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=Oe(f.na);wt(y,"RID","rpc"),wt(y,"SID",f.M),wt(y,"AID",f.K),wt(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&wt(y,"TO",f.ia),wt(y,"TYPE","xmlhttp"),ys(f,y),f.u&&f.o&&ps(y,f.u,f.o),f.O&&(f.g.H=f.O);var A=f.g;f=f.ba,A.M=1,A.A=ye(Oe(y)),A.u=null,A.R=!0,Ei(A,f)}s.Va=function(){this.C!=null&&(this.C=null,Bs(this),Tr(this),ze(19))};function ea(f){f.C!=null&&(p.clearTimeout(f.C),f.C=null)}function Kn(f,y){var A=null;if(f.g==y){ea(f),ho(f),f.g=null;var I=2}else if(ni(f.h,y))A=y.G,Qr(f.h,y),I=1;else return;if(f.I!=0){if(y.o)if(I==1){A=y.u?y.u.length:0,y=Date.now()-y.F;var K=f.D;I=Kr(),qe(I,new Hi(I,A)),kn(f)}else co(f);else if(K=y.m,K==3||K==0&&y.X>0||!(I==1&&vr(f,y)||I==2&&Tr(f)))switch(A&&A.length>0&&(y=f.h,y.i=y.i.concat(A)),K){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function fl(f,y){let A=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(A*=2),A*y}function xi(f,y){if(f.j.info("Error code "+y),y==2){var A=b(f.bb,f),I=f.Ua;const K=!I;I=new Xt(I||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Pe(I,"https"),ye(I),K?Dn(I.toString(),A):$r(I.toString(),A)}else ze(2);f.I=0,f.l&&f.l.pa(y),Ci(f),Tn(f)}s.bb=function(f){f?(this.j.info("Successfully pinged google.com"),ze(2)):(this.j.info("Failed to ping google.com"),ze(1))};function Ci(f){if(f.I=0,f.ja=[],f.l){const y=Xr(f.h);(y.length!=0||f.i.length!=0)&&(ut(f.ja,y),ut(f.ja,f.i),f.h.i.length=0,$(f.i),f.i.length=0),f.l.oa()}}function fo(f,y,A){var I=A instanceof Xt?Oe(A):new Xt(A);if(I.g!="")y&&(I.g=y+"."+I.g),Gn(I,I.u);else{var K=p.location;I=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;const J=new Xt(null);I&&Pe(J,I),y&&(J.g=y),K&&Gn(J,K),A&&(J.h=A),I=J}return A=f.G,y=f.wa,A&&y&&wt(I,A,y),wt(I,"VER",f.ka),ys(f,I),I}function mo(f,y,A){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new ee(new Dt({ab:A})):new ee(f.ma),y.Fa(f.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}s=na.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function js(){}js.prototype.g=function(f,y){return new En(f,y)};function En(f,y){He.call(this),this.g=new gs(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!D(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new vs(this)}C(En,He),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Yt(this.g)},En.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.v&&(A={},A.__data__=cs(f),f=A);y.i.push(new Ge(y.Ya++,f)),y.I==3&&kn(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,En.Z.N.call(this)};function po(f){$e.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){t:{for(const A in y){f=A;break t}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}C(po,$e);function dl(){Fn.call(this),this.status=1}C(dl,Fn);function vs(f){this.g=f}C(vs,na),vs.prototype.ra=function(){qe(this.g,"a")},vs.prototype.qa=function(f){qe(this.g,new po(f))},vs.prototype.pa=function(f){qe(this.g,new dl)},vs.prototype.oa=function(){qe(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,QT=function(){return new js},YT=function(){return Kr()},KT=Ve,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,tf=mr,so.COMPLETE="complete",ZT=so,rl.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",He.prototype.listen=He.prototype.J,sc=rl,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,GT=ee}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const e0="@firebase/firestore",n0="4.9.3";class jn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let lu="12.7.0";const Ko=new Vp("@firebase/firestore");function Gl(){return Ko.logLevel}function St(s,...t){if(Ko.logLevel<=se.DEBUG){const n=t.map(Bp);Ko.debug(`Firestore (${lu}): ${s}`,...n)}}function Hr(s,...t){if(Ko.logLevel<=se.ERROR){const n=t.map(Bp);Ko.error(`Firestore (${lu}): ${s}`,...n)}}function eu(s,...t){if(Ko.logLevel<=se.WARN){const n=t.map(Bp);Ko.warn(`Firestore (${lu}): ${s}`,...n)}}function Bp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Vt(s,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,XT(s,a,n)}function XT(s,t,n){let a=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Hr(a),new Error(a)}function ge(s,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||XT(t,l,a)}function Ht(s,t){return s}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends cr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ho{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class WT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(jn.UNAUTHENTICATED)))}shutdown(){}}class Q1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class X1{constructor(t){this.t=t,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ge(this.o===void 0,42304);let a=this.i;const l=T=>this.i!==a?(a=this.i,n(T)):Promise.resolve();let h=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ho,t.enqueueRetryable((()=>l(this.currentUser)))};const p=()=>{const T=h;t.enqueueRetryable((async()=>{await T.promise,await l(this.currentUser)}))},v=T=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit((T=>v(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ho)}}),0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ge(typeof a.accessToken=="string",31837,{l:a}),new WT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ge(t===null||typeof t=="string",2055,{h:t}),new jn(t)}}class W1{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class J1{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new W1(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class i0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $1{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ge(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new i0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class jp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tR(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function re(s,t){return s<t?-1:s>t?1:0}function cp(s,t){const n=Math.min(s.length,t.length);for(let a=0;a<n;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Ym(l)===Ym(h)?re(l,h):Ym(l)?1:-1}return re(s.length,t.length)}const eR=55296,nR=57343;function Ym(s){const t=s.charCodeAt(0);return t>=eR&&t<=nR}function nu(s,t,n){return s.length===t.length&&s.every(((a,l)=>n(a,t[l])))}const s0="__name__";class Js{constructor(t,n,a){n===void 0?n=0:n>t.length&&Vt(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Vt(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return Js.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Js?t.forEach((a=>{n.push(a)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=Js.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return re(t.length,n.length)}static compareSegments(t,n){const a=Js.isNumericId(t),l=Js.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Js.extractNumericId(t).compare(Js.extractNumericId(n)):cp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ja.fromString(t.substring(4,t.length-2))}}class Ne extends Js{construct(t,n,a){return new Ne(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new At(lt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new Ne(n)}static emptyPath(){return new Ne([])}}const iR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Js{construct(t,n,a){return new On(t,n,a)}static isValidIdentifier(t){return iR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new On([s0])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new At(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const v=t[l];if(v==="\\"){if(l+1===t.length)throw new At(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const T=t[l+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new At(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=T,l+=2}else v==="`"?(p=!p,l++):v!=="."||p?(a+=v,l++):(h(),l++)}if(h(),p)throw new At(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new On(n)}static emptyPath(){return new On([])}}class Pt{constructor(t){this.path=t}static fromPath(t){return new Pt(Ne.fromString(t))}static fromName(t){return new Pt(Ne.fromString(t).popFirst(5))}static empty(){return new Pt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Pt(new Ne(t.slice()))}}function JT(s,t,n){if(!n)throw new At(lt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function sR(s,t,n,a){if(t===!0&&a===!0)throw new At(lt.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function r0(s){if(!Pt.isDocumentKey(s))throw new At(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function a0(s){if(Pt.isDocumentKey(s))throw new At(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $T(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Pf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Vt(12329,{type:typeof s})}function nr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new At(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(s);throw new At(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}function dn(s,t){const n={typeString:s};return t&&(n.value=t),n}function Nc(s,t){if(!$T(s))throw new At(lt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const p=s[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new At(lt.INVALID_ARGUMENT,n);return!0}const o0=-62135596800,l0=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(t){return Me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*l0);return new Me(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new At(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new At(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o0)throw new At(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new At(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l0}_compareTo(t){return this.seconds===t.seconds?re(this.nanoseconds,t.nanoseconds):re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Nc(t,Me._jsonSchema))return new Me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:dn("string",Me._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};class Ut{static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Me(0,0))}static max(){return new Ut(new Me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function rR(s,t){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ut.fromTimestamp(a===1e9?new Me(n+1,0):new Me(n,a));return new Fa(l,Pt.empty(),t)}function aR(s){return new Fa(s.readTime,s.key,gc)}class Fa{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Fa(Ut.min(),Pt.empty(),gc)}static max(){return new Fa(Ut.max(),Pt.empty(),gc)}}function oR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=Pt.comparator(s.documentKey,t.documentKey),n!==0?n:re(s.largestBatchId,t.largestBatchId))}const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uu(s){if(s.code!==lt.FAILED_PRECONDITION||s.message!==lR)throw s;St("LocalStore","Unexpectedly lost primary lease")}class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):ct.reject(n)}static resolve(t){return new ct(((n,a)=>{n(t)}))}static reject(t){return new ct(((n,a)=>{a(t)}))}static waitFor(t){return new ct(((n,a)=>{let l=0,h=0,p=!1;t.forEach((v=>{++l,v.next((()=>{++h,p&&h===l&&n()}),(T=>a(T)))})),p=!0,h===l&&n()}))}static or(t){let n=ct.resolve(!1);for(const a of t)n=n.next((l=>l?ct.resolve(l):a()));return n}static forEach(t,n){const a=[];return t.forEach(((l,h)=>{a.push(n.call(this,l,h))})),this.waitFor(a)}static mapArray(t,n){return new ct(((a,l)=>{const h=t.length,p=new Array(h);let v=0;for(let T=0;T<h;T++){const b=T;n(t[b]).next((x=>{p[b]=x,++v,v===h&&a(p)}),(x=>l(x)))}}))}static doWhile(t,n){return new ct(((a,l)=>{const h=()=>{t()===!0?n().next((()=>{h()}),l):a()};h()}))}}function cR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(s){return s.name==="IndexedDbTransactionError"}class Df{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Df.ce=-1;const Hp=-1;function Lf(s){return s==null}function mf(s){return s===0&&1/s==-1/0}function hR(s){return typeof s=="number"&&Number.isInteger(s)&&!mf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tE="";function fR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=u0(t)),t=dR(s.get(n),t);return u0(t)}function dR(s,t){let n=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":n+="";break;case tE:n+="";break;default:n+=h}}return n}function u0(s){return s+tE+""}function c0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Wa(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function eE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class je{constructor(t,n){this.comparator=t,this.root=n||Nn.EMPTY}insert(t,n){return new je(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,a)=>(t(n,a),!1)))}toString(){const t=[];return this.inorderTraversal(((n,a)=>(t.push(`${n}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kh(this.root,t,this.comparator,!0)}}class Kh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Nn.RED,this.left=l??Nn.EMPTY,this.right=h??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Nn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Nn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Vt(27949);return t+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Nn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,a)=>(t(n),!1)))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(t){return new h0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((a=>{n=n.add(a)})),n}isEqual(t){if(!(t instanceof _n)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new _n(this.comparator);return n.data=t,n}}class h0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vi{constructor(t){this.fields=t,t.sort(On.comparator)}static empty(){return new Vi([])}unionWith(t){let n=new _n(On.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new Vi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return nu(this.fields,t.fields,((n,a)=>n.isEqual(a)))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new nE("Invalid base64 string: "+h):h}})(t);return new Pn(n)}static fromUint8Array(t){const n=(function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h})(t);return new Pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(s){if(ge(!!s,39018),typeof s=="string"){let t=0;const n=mR.exec(s);if(ge(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:nn(s.seconds),nanos:nn(s.nanos)}}function nn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Za(s){return typeof s=="string"?Pn.fromBase64String(s):Pn.fromUint8Array(s)}const iE="server_timestamp",sE="__type__",rE="__previous_value__",aE="__local_write_time__";function qp(s){return(s?.mapValue?.fields||{})[sE]?.stringValue===iE}function Mf(s){const t=s.mapValue.fields[rE];return qp(t)?Mf(t):t}function yc(s){const t=Ga(s.mapValue.fields[aE].timestampValue);return new Me(t.seconds,t.nanos)}class pR{constructor(t,n,a,l,h,p,v,T,b,x){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.longPollingOptions=T,this.useFetchStreams=b,this.isUsingEmulator=x}}const pf="(default)";class vc{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof vc&&t.projectId===this.projectId&&t.database===this.database}}const oE="__type__",_R="__max__",Yh={mapValue:{}},lE="__vector__",_f="value";function Ka(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qp(s)?4:yR(s)?9007199254740991:gR(s)?10:11:Vt(28295,{value:s})}function ur(s,t){if(s===t)return!0;const n=Ka(s);if(n!==Ka(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return yc(s).isEqual(yc(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Ga(l.timestampValue),v=Ga(h.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Za(l.bytesValue).isEqual(Za(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return nn(l.geoPointValue.latitude)===nn(h.geoPointValue.latitude)&&nn(l.geoPointValue.longitude)===nn(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return nn(l.integerValue)===nn(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=nn(l.doubleValue),v=nn(h.doubleValue);return p===v?mf(p)===mf(v):isNaN(p)&&isNaN(v)}return!1})(s,t);case 9:return nu(s.arrayValue.values||[],t.arrayValue.values||[],ur);case 10:case 11:return(function(l,h){const p=l.mapValue.fields||{},v=h.mapValue.fields||{};if(c0(p)!==c0(v))return!1;for(const T in p)if(p.hasOwnProperty(T)&&(v[T]===void 0||!ur(p[T],v[T])))return!1;return!0})(s,t);default:return Vt(52216,{left:s})}}function Tc(s,t){return(s.values||[]).find((n=>ur(n,t)))!==void 0}function iu(s,t){if(s===t)return 0;const n=Ka(s),a=Ka(t);if(n!==a)return re(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(s.booleanValue,t.booleanValue);case 2:return(function(h,p){const v=nn(h.integerValue||h.doubleValue),T=nn(p.integerValue||p.doubleValue);return v<T?-1:v>T?1:v===T?0:isNaN(v)?isNaN(T)?0:-1:1})(s,t);case 3:return f0(s.timestampValue,t.timestampValue);case 4:return f0(yc(s),yc(t));case 5:return cp(s.stringValue,t.stringValue);case 6:return(function(h,p){const v=Za(h),T=Za(p);return v.compareTo(T)})(s.bytesValue,t.bytesValue);case 7:return(function(h,p){const v=h.split("/"),T=p.split("/");for(let b=0;b<v.length&&b<T.length;b++){const x=re(v[b],T[b]);if(x!==0)return x}return re(v.length,T.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,p){const v=re(nn(h.latitude),nn(p.latitude));return v!==0?v:re(nn(h.longitude),nn(p.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return d0(s.arrayValue,t.arrayValue);case 10:return(function(h,p){const v=h.fields||{},T=p.fields||{},b=v[_f]?.arrayValue,x=T[_f]?.arrayValue,C=re(b?.values?.length||0,x?.values?.length||0);return C!==0?C:d0(b,x)})(s.mapValue,t.mapValue);case 11:return(function(h,p){if(h===Yh.mapValue&&p===Yh.mapValue)return 0;if(h===Yh.mapValue)return 1;if(p===Yh.mapValue)return-1;const v=h.fields||{},T=Object.keys(v),b=p.fields||{},x=Object.keys(b);T.sort(),x.sort();for(let C=0;C<T.length&&C<x.length;++C){const V=cp(T[C],x[C]);if(V!==0)return V;const $=iu(v[T[C]],b[x[C]]);if($!==0)return $}return re(T.length,x.length)})(s.mapValue,t.mapValue);default:throw Vt(23264,{he:n})}}function f0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return re(s,t);const n=Ga(s),a=Ga(t),l=re(n.seconds,a.seconds);return l!==0?l:re(n.nanos,a.nanos)}function d0(s,t){const n=s.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=iu(n[l],a[l]);if(h)return h}return re(n.length,a.length)}function su(s){return hp(s)}function hp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Ga(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Za(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Pt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=hp(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${hp(n.fields[p])}`;return l+"}"})(s.mapValue):Vt(61005,{value:s})}function ef(s){switch(Ka(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mf(s);return t?16+ef(t):16;case 5:return 2*s.stringValue.length;case 6:return Za(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+ef(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Wa(a.fields,((h,p)=>{l+=h.length+ef(p)})),l})(s.mapValue);default:throw Vt(13486,{value:s})}}function m0(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function fp(s){return!!s&&"integerValue"in s}function Fp(s){return!!s&&"arrayValue"in s}function p0(s){return!!s&&"nullValue"in s}function _0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nf(s){return!!s&&"mapValue"in s}function gR(s){return(s?.mapValue?.fields||{})[oE]?.stringValue===lE}function cc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Wa(s.mapValue.fields,((n,a)=>t.mapValue.fields[n]=cc(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=cc(s.arrayValue.values[n]);return t}return{...s}}function yR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}class gi{constructor(t){this.value=t}static empty(){return new gi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!nf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=cc(n)}setAll(t){let n=On.emptyPath(),a={},l=[];t.forEach(((p,v)=>{if(!n.isImmediateParentOf(v)){const T=this.getFieldsMap(n);this.applyChanges(T,a,l),a={},l=[],n=v.popLast()}p?a[v.lastSegment()]=cc(p):l.push(v.lastSegment())}));const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ur(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];nf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Wa(n,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new gi(cc(this.value))}}function uE(s){const t=[];return Wa(s.fields,((n,a)=>{const l=new On([n]);if(nf(a)){const h=uE(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)})),new Vi(t)}class Hn{constructor(t,n,a,l,h,p,v){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=v}static newInvalidDocument(t){return new Hn(t,0,Ut.min(),Ut.min(),Ut.min(),gi.empty(),0)}static newFoundDocument(t,n,a,l){return new Hn(t,1,n,Ut.min(),a,l,0)}static newNoDocument(t,n){return new Hn(t,2,n,Ut.min(),Ut.min(),gi.empty(),0)}static newUnknownDocument(t,n){return new Hn(t,3,n,Ut.min(),Ut.min(),gi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gf{constructor(t,n){this.position=t,this.inclusive=n}}function g0(s,t,n){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],p=s.position[l];if(h.field.isKeyField()?a=Pt.comparator(Pt.fromName(p.referenceValue),n.key):a=iu(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function y0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ur(s.position[n],t.position[n]))return!1;return!0}class Ec{constructor(t,n="asc"){this.field=t,this.dir=n}}function vR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class cE{}class fn extends cE{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new ER(t,n,a):n==="array-contains"?new AR(t,a):n==="in"?new SR(t,a):n==="not-in"?new RR(t,a):n==="array-contains-any"?new xR(t,a):new fn(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new bR(t,a):new wR(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(iu(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.matchesComparison(iu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xs extends cE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new xs(t,n)}matches(t){return hE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hE(s){return s.op==="and"}function fE(s){return TR(s)&&hE(s)}function TR(s){for(const t of s.filters)if(t instanceof xs)return!1;return!0}function dp(s){if(s instanceof fn)return s.field.canonicalString()+s.op.toString()+su(s.value);if(fE(s))return s.filters.map((t=>dp(t))).join(",");{const t=s.filters.map((n=>dp(n))).join(",");return`${s.op}(${t})`}}function dE(s,t){return s instanceof fn?(function(a,l){return l instanceof fn&&a.op===l.op&&a.field.isEqual(l.field)&&ur(a.value,l.value)})(s,t):s instanceof xs?(function(a,l){return l instanceof xs&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,p,v)=>h&&dE(p,l.filters[v])),!0):!1})(s,t):void Vt(19439)}function mE(s){return s instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${su(n.value)}`})(s):s instanceof xs?(function(n){return n.op.toString()+" {"+n.getFilters().map(mE).join(" ,")+"}"})(s):"Filter"}class ER extends fn{constructor(t,n,a){super(t,n,a),this.key=Pt.fromName(a.referenceValue)}matches(t){const n=Pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class bR extends fn{constructor(t,n){super(t,"in",n),this.keys=pE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class wR extends fn{constructor(t,n){super(t,"not-in",n),this.keys=pE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function pE(s,t){return(t.arrayValue?.values||[]).map((n=>Pt.fromName(n.referenceValue)))}class AR extends fn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fp(n)&&Tc(n.arrayValue,this.value)}}class SR extends fn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class RR extends fn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class xR extends fn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}class CR{constructor(t,n=null,a=[],l=[],h=null,p=null,v=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=v,this.Te=null}}function v0(s,t=null,n=[],a=[],l=null,h=null,p=null){return new CR(s,t,n,a,l,h,p)}function Gp(s){const t=Ht(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((a=>dp(a))).join(","),n+="|ob:",n+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),Lf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((a=>su(a))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((a=>su(a))).join(",")),t.Te=n}return t.Te}function Zp(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!vR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!dE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!y0(s.startAt,t.startAt)&&y0(s.endAt,t.endAt)}function mp(s){return Pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class hu{constructor(t,n=null,a=[],l=[],h=null,p="F",v=null,T=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=v,this.endAt=T,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IR(s,t,n,a,l,h,p,v){return new hu(s,t,n,a,l,h,p,v)}function Kp(s){return new hu(s)}function T0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _E(s){return s.collectionGroup!==null}function hc(s){const t=Ht(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let v=new _n(On.comparator);return p.filters.forEach((T=>{T.getFlattenedFilters().forEach((b=>{b.isInequality()&&(v=v.add(b.field))}))})),v})(t).forEach((h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Ec(h,a))})),n.has(On.keyField().canonicalString())||t.Ie.push(new Ec(On.keyField(),a))}return t.Ie}function ir(s){const t=Ht(s);return t.Ee||(t.Ee=NR(t,hc(s))),t.Ee}function NR(s,t){if(s.limitType==="F")return v0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Ec(l.field,h)}));const n=s.endAt?new gf(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new gf(s.startAt.position,s.startAt.inclusive):null;return v0(s.path,s.collectionGroup,t,s.filters,s.limit,n,a)}}function pp(s,t){const n=s.filters.concat([t]);return new hu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function _p(s,t,n){return new hu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function kf(s,t){return Zp(ir(s),ir(t))&&s.limitType===t.limitType}function gE(s){return`${Gp(ir(s))}|lt:${s.limitType}`}function Zl(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>mE(l))).join(", ")}]`),Lf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(p){return`${p.field.canonicalString()} (${p.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>su(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>su(l))).join(",")),`Target(${a})`})(ir(s))}; limitType=${s.limitType})`}function Vf(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Pt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of hc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(p,v,T){const b=g0(p,v,T);return p.inclusive?b<=0:b<0})(a.startAt,hc(a),l)||a.endAt&&!(function(p,v,T){const b=g0(p,v,T);return p.inclusive?b>=0:b>0})(a.endAt,hc(a),l))})(s,t)}function OR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yE(s){return(t,n)=>{let a=!1;for(const l of hc(s)){const h=PR(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function PR(s,t,n){const a=s.field.isKeyField()?Pt.comparator(t.key,n.key):(function(h,p,v){const T=p.data.field(h),b=v.data.field(h);return T!==null&&b!==null?iu(T,b):Vt(42886)})(s.field,t,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Vt(19790,{direction:s.dir})}}class tl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wa(this.inner,((n,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}const DR=new je(Pt.comparator);function qr(){return DR}const vE=new je(Pt.comparator);function rc(...s){let t=vE;for(const n of s)t=t.insert(n.key,n);return t}function TE(s){let t=vE;return s.forEach(((n,a)=>t=t.insert(n,a.overlayedDocument))),t}function jo(){return fc()}function EE(){return fc()}function fc(){return new tl((s=>s.toString()),((s,t)=>s.isEqual(t)))}const LR=new je(Pt.comparator),MR=new _n(Pt.comparator);function ae(...s){let t=MR;for(const n of s)t=t.add(n);return t}const kR=new _n(re);function VR(){return kR}function Yp(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function bE(s){return{integerValue:""+s}}function zR(s,t){return hR(t)?bE(t):Yp(s,t)}class zf{constructor(){this._=void 0}}function UR(s,t,n){return s instanceof bc?(function(l,h){const p={fields:{[sE]:{stringValue:iE},[aE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&qp(h)&&(h=Mf(h)),h&&(p.fields[rE]=h),{mapValue:p}})(n,t):s instanceof wc?AE(s,t):s instanceof Ac?SE(s,t):(function(l,h){const p=wE(l,h),v=E0(p)+E0(l.Ae);return fp(p)&&fp(l.Ae)?bE(v):Yp(l.serializer,v)})(s,t)}function BR(s,t,n){return s instanceof wc?AE(s,t):s instanceof Ac?SE(s,t):n}function wE(s,t){return s instanceof yf?(function(a){return fp(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class bc extends zf{}class wc extends zf{constructor(t){super(),this.elements=t}}function AE(s,t){const n=RE(t);for(const a of s.elements)n.some((l=>ur(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Ac extends zf{constructor(t){super(),this.elements=t}}function SE(s,t){let n=RE(t);for(const a of s.elements)n=n.filter((l=>!ur(l,a)));return{arrayValue:{values:n}}}class yf extends zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function E0(s){return nn(s.integerValue||s.doubleValue)}function RE(s){return Fp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jR{constructor(t,n){this.field=t,this.transform=n}}function HR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof wc&&l instanceof wc||a instanceof Ac&&l instanceof Ac?nu(a.elements,l.elements,ur):a instanceof yf&&l instanceof yf?ur(a.Ae,l.Ae):a instanceof bc&&l instanceof bc})(s.transform,t.transform)}class qR{constructor(t,n){this.version=t,this.transformResults=n}}class ls{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ls}static exists(t){return new ls(void 0,t)}static updateTime(t){return new ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sf(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uf{}function xE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Qp(s.key,ls.none()):new Oc(s.key,s.data,ls.none());{const n=s.data,a=gi.empty();let l=new _n(On.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new Ja(s.key,a,new Vi(l.toArray()),ls.none())}}function FR(s,t,n){s instanceof Oc?(function(l,h,p){const v=l.value.clone(),T=w0(l.fieldTransforms,h,p.transformResults);v.setAll(T),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()})(s,t,n):s instanceof Ja?(function(l,h,p){if(!sf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const v=w0(l.fieldTransforms,h,p.transformResults),T=h.data;T.setAll(CE(l)),T.setAll(v),h.convertToFoundDocument(p.version,T).setHasCommittedMutations()})(s,t,n):(function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()})(0,t,n)}function dc(s,t,n,a){return s instanceof Oc?(function(h,p,v,T){if(!sf(h.precondition,p))return v;const b=h.value.clone(),x=A0(h.fieldTransforms,T,p);return b.setAll(x),p.convertToFoundDocument(p.version,b).setHasLocalMutations(),null})(s,t,n,a):s instanceof Ja?(function(h,p,v,T){if(!sf(h.precondition,p))return v;const b=A0(h.fieldTransforms,T,p),x=p.data;return x.setAll(CE(h)),x.setAll(b),p.convertToFoundDocument(p.version,x).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((C=>C.field)))})(s,t,n,a):(function(h,p,v){return sf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):v})(s,t,n)}function GR(s,t){let n=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=wE(a.transform,l||null);h!=null&&(n===null&&(n=gi.empty()),n.set(a.field,h))}return n||null}function b0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&nu(a,l,((h,p)=>HR(h,p)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Oc extends Uf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ja extends Uf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function CE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);t.set(n,a)}})),t}function w0(s,t,n){const a=new Map;ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const h=s[l],p=h.transform,v=t.data.field(h.field);a.set(h.field,BR(p,v,n[l]))}return a}function A0(s,t,n){const a=new Map;for(const l of s){const h=l.transform,p=n.data.field(l.field);a.set(l.field,UR(h,p,t))}return a}class Qp extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR extends Uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KR{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&FR(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=dc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=dc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=EE();return this.mutations.forEach((l=>{const h=t.get(l.key),p=h.overlayedDocument;let v=this.applyToLocalView(p,h.mutatedFields);v=n.has(l.key)?null:v;const T=xE(p,v);T!==null&&a.set(l.key,T),p.isValidDocument()||p.convertToNoDocument(Ut.min())})),a}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),ae())}isEqual(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,((n,a)=>b0(n,a)))&&nu(this.baseMutations,t.baseMutations,((n,a)=>b0(n,a)))}}class Xp{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){ge(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return LR})();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new Xp(t,n,a,l)}}class YR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QR{constructor(t,n){this.count=t,this.unchangedNames=n}}var hn,ce;function XR(s){switch(s){case lt.OK:return Vt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Vt(15467,{code:s})}}function IE(s){if(s===void 0)return Hr("GRPC error has no .code"),lt.UNKNOWN;switch(s){case hn.OK:return lt.OK;case hn.CANCELLED:return lt.CANCELLED;case hn.UNKNOWN:return lt.UNKNOWN;case hn.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case hn.INTERNAL:return lt.INTERNAL;case hn.UNAVAILABLE:return lt.UNAVAILABLE;case hn.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case hn.NOT_FOUND:return lt.NOT_FOUND;case hn.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case hn.ABORTED:return lt.ABORTED;case hn.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case hn.DATA_LOSS:return lt.DATA_LOSS;default:return Vt(39323,{code:s})}}(ce=hn||(hn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";function WR(){return new TextEncoder}const JR=new ja([4294967295,4294967295],0);function S0(s){const t=WR().encode(s),n=new FT;return n.update(t),new Uint8Array(n.digest())}function R0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new ja([n,a],0),new ja([l,h],0)]}class Wp{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(a<0)throw new ac(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ja.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(ja.fromNumber(a)));return l.compare(JR)===1&&(l=new ja([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=S0(t),[a,l]=R0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new Wp(h,l,n);return a.forEach((v=>p.insert(v))),p}insert(t){if(this.ge===0)return;const n=S0(t),[a,l]=R0(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.Se(p)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Bf(Ut.min(),l,new je(re),qr(),ae())}}class Pc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Pc(a,n,ae(),ae(),ae())}}class rf{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class NE{constructor(t,n){this.targetId=t,this.Ce=n}}class OE{constructor(t,n,a=Pn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class x0{constructor(){this.ve=0,this.Fe=C0(),this.Me=Pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ae(),n=ae(),a=ae();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Vt(38017,{changeType:h})}})),new Pc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=C0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $R{constructor(t){this.Ge=t,this.ze=new Map,this.je=qr(),this.Je=Qh(),this.He=Qh(),this.Ye=new je(re)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(mp(h))if(a===0){const p=new Pt(h.path);this.et(n,p,Hn.newNoDocument(p,Ut.min()))}else ge(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const v=this.ut(t),T=v?this.ct(v,t,p):1;if(T!==0){this.it(n);const b=T===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,b)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,v;try{p=Za(a).toUint8Array()}catch(T){if(T instanceof nE)return eu("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw T}try{v=new Wp(p,l,h)}catch(T){return eu(T instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",T),null}return v.ge===0?null:v}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((h=>{const p=this.Ge.ht(),v=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(v)||(this.et(n,h,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((h,p)=>{const v=this.ot(p);if(v){if(h.current&&mp(v.target)){const T=new Pt(v.target.path);this.It(T).has(p)||this.Et(p,T)||this.et(p,T,Hn.newNoDocument(T,t))}h.Be&&(n.set(p,h.ke()),h.qe())}}));let a=ae();this.He.forEach(((h,p)=>{let v=!0;p.forEachWhile((T=>{const b=this.ot(T);return!b||b.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(a=a.add(h))})),this.je.forEach(((h,p)=>p.setReadTime(t)));const l=new Bf(t,n,this.Ye,this.je,a);return this.je=qr(),this.Je=Qh(),this.He=Qh(),this.Ye=new je(re),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new x0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new _n(re),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new _n(re),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new x0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qh(){return new je(Pt.comparator)}function C0(){return new je(Pt.comparator)}const tx={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class ix{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gp(s,t){return s.useProto3Json||Lf(t)?t:{value:t}}function vf(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function sx(s,t){return vf(s,t.toTimestamp())}function sr(s){return ge(!!s,49232),Ut.fromTimestamp((function(n){const a=Ga(n);return new Me(a.seconds,a.nanos)})(s))}function Jp(s,t){return yp(s,t).canonicalString()}function yp(s,t){const n=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function DE(s){const t=Ne.fromString(s);return ge(zE(t),10190,{key:t.toString()}),t}function vp(s,t){return Jp(s.databaseId,t.path)}function Qm(s,t){const n=DE(t);if(n.get(1)!==s.databaseId.projectId)throw new At(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new At(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Pt(ME(n))}function LE(s,t){return Jp(s.databaseId,t)}function rx(s){const t=DE(s);return t.length===4?Ne.emptyPath():ME(t)}function Tp(s){return new Ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function I0(s,t,n){return{name:vp(s,t),fields:n.value.mapValue.fields}}function ax(s,t){let n;if("targetChange"in t){t.targetChange;const a=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Vt(39313,{state:b})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(b,x){return b.useProto3Json?(ge(x===void 0||typeof x=="string",58123),Pn.fromBase64String(x||"")):(ge(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Pn.fromUint8Array(x||new Uint8Array))})(s,t.targetChange.resumeToken),p=t.targetChange.cause,v=p&&(function(b){const x=b.code===void 0?lt.UNKNOWN:IE(b.code);return new At(x,b.message||"")})(p);n=new OE(a,l,h,v||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qm(s,a.document.name),h=sr(a.document.updateTime),p=a.document.createTime?sr(a.document.createTime):Ut.min(),v=new gi({mapValue:{fields:a.document.fields}}),T=Hn.newFoundDocument(l,h,p,v),b=a.targetIds||[],x=a.removedTargetIds||[];n=new rf(b,x,T.key,T)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Qm(s,a.document),h=a.readTime?sr(a.readTime):Ut.min(),p=Hn.newNoDocument(l,h),v=a.removedTargetIds||[];n=new rf([],v,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Qm(s,a.document),h=a.removedTargetIds||[];n=new rf([],h,l,null)}else{if(!("filter"in t))return Vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new QR(l,h),v=a.targetId;n=new NE(v,p)}}return n}function ox(s,t){let n;if(t instanceof Oc)n={update:I0(s,t.key,t.value)};else if(t instanceof Qp)n={delete:vp(s,t.key)};else if(t instanceof Ja)n={update:I0(s,t.key,t.data),updateMask:_x(t.fieldMask)};else{if(!(t instanceof ZR))return Vt(16599,{Vt:t.type});n={verify:vp(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((a=>(function(h,p){const v=p.transform;if(v instanceof bc)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof wc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ac)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof yf)return{fieldPath:p.field.canonicalString(),increment:v.Ae};throw Vt(20930,{transform:p.transform})})(0,a)))),t.precondition.isNone||(n.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:sx(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Vt(27497)})(s,t.precondition)),n}function lx(s,t){return s&&s.length>0?(ge(t!==void 0,14353),s.map((n=>(function(l,h){let p=l.updateTime?sr(l.updateTime):sr(h);return p.isEqual(Ut.min())&&(p=sr(h)),new qR(p,l.transformResults||[])})(n,t)))):[]}function ux(s,t){return{documents:[LE(s,t.path)]}}function cx(s,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=LE(s,l);const h=(function(b){if(b.length!==0)return VE(xs.create(b,"and"))})(t.filters);h&&(n.structuredQuery.where=h);const p=(function(b){if(b.length!==0)return b.map((x=>(function(V){return{field:Kl(V.field),direction:dx(V.dir)}})(x)))})(t.orderBy);p&&(n.structuredQuery.orderBy=p);const v=gp(s,t.limit);return v!==null&&(n.structuredQuery.limit=v),t.startAt&&(n.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(t.endAt)),{ft:n,parent:l}}function hx(s){let t=rx(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ge(a===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:t=t.child(x.collectionId)}let h=[];n.where&&(h=(function(C){const V=kE(C);return V instanceof xs&&fE(V)?V.getFilters():[V]})(n.where));let p=[];n.orderBy&&(p=(function(C){return C.map((V=>(function(ut){return new Ec(Yl(ut.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ut.direction))})(V)))})(n.orderBy));let v=null;n.limit&&(v=(function(C){let V;return V=typeof C=="object"?C.value:C,Lf(V)?null:V})(n.limit));let T=null;n.startAt&&(T=(function(C){const V=!!C.before,$=C.values||[];return new gf($,V)})(n.startAt));let b=null;return n.endAt&&(b=(function(C){const V=!C.before,$=C.values||[];return new gf($,V)})(n.endAt)),IR(t,l,p,h,v,"F",T,b)}function fx(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function kE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Yl(n.unaryFilter.field);return fn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Yl(n.unaryFilter.field);return fn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Yl(n.unaryFilter.field);return fn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Yl(n.unaryFilter.field);return fn.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return fn.create(Yl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return xs.create(n.compositeFilter.filters.map((a=>kE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(n.compositeFilter.op))})(s):Vt(30097,{filter:s})}function dx(s){return tx[s]}function mx(s){return ex[s]}function px(s){return nx[s]}function Kl(s){return{fieldPath:s.canonicalString()}}function Yl(s){return On.fromServerFormat(s.fieldPath)}function VE(s){return s instanceof fn?(function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NAN"}};if(p0(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NAN"}};if(p0(n.value))return{unaryFilter:{field:Kl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(n.field),op:mx(n.op),value:n.value}}})(s):s instanceof xs?(function(n){const a=n.getFilters().map((l=>VE(l)));return a.length===1?a[0]:{compositeFilter:{op:px(n.op),filters:a}}})(s):Vt(54877,{filter:s})}function _x(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function zE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Va{constructor(t,n,a,l,h=Ut.min(),p=Ut.min(),v=Pn.EMPTY_BYTE_STRING,T=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v,this.expectedCount=T}withSequenceNumber(t){return new Va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class gx{constructor(t){this.yt=t}}function yx(s){const t=hx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_p(t,t.limit,"L"):t}class vx{constructor(){this.Cn=new Tx}addToCollectionParentIndex(t,n){return this.Cn.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(Fa.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(Fa.min())}updateCollectionGroup(t,n,a){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class Tx{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new _n(Ne.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new _n(Ne.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class _i{static withCacheSize(t){return new _i(t,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(UE,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class ru{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}const O0="LruGarbageCollector",Ex=1048576;function P0([s,t],[n,a]){const l=re(s,n);return l===0?re(t,a):l}class bx{constructor(t){this.Ir=t,this.buffer=new _n(P0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();P0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wx{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(O0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?St(O0,"Ignoring IndexedDB error during garbage collection: ",n):await uu(n)}await this.Vr(3e5)}))}}class Ax{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(t,n){if(n===0)return ct.resolve(Df.ce);const a=new bx(n);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(N0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,p,v,T,b;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,p=Date.now(),this.nthSequenceNumber(t,l)))).next((C=>(a=C,v=Date.now(),this.removeTargets(t,a,n)))).next((C=>(h=C,T=Date.now(),this.removeOrphanedDocuments(t,a)))).next((C=>(b=Date.now(),Gl()<=se.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-x}ms
	Determined least recently used ${l} in `+(v-p)+`ms
	Removed ${h} targets in `+(T-v)+`ms
	Removed ${C} documents in `+(b-T)+`ms
Total Duration: ${b-x}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C}))))}}function Sx(s,t){return new Ax(s,t)}class Rx{constructor(){this.changes=new tl((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ct.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xx{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class Cx{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(a!==null&&dc(a.mutation,l,Vi.empty(),Me.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.getLocalViewOfDocuments(t,a,ae()).next((()=>a))))}getLocalViewOfDocuments(t,n,a=ae()){const l=jo();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,a).next((h=>{let p=rc();return h.forEach(((v,T)=>{p=p.insert(v,T.overlayedDocument)})),p}))))}getOverlayedDocuments(t,n){const a=jo();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,ae())))}populateOverlays(t,n,a){const l=[];return a.forEach((h=>{n.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((p,v)=>{n.set(p,v)}))}))}computeViews(t,n,a,l){let h=qr();const p=fc(),v=(function(){return fc()})();return n.forEach(((T,b)=>{const x=a.get(b.key);l.has(b.key)&&(x===void 0||x.mutation instanceof Ja)?h=h.insert(b.key,b):x!==void 0?(p.set(b.key,x.mutation.getFieldMask()),dc(x.mutation,b,x.mutation.getFieldMask(),Me.now())):p.set(b.key,Vi.empty())})),this.recalculateAndSaveOverlays(t,h).next((T=>(T.forEach(((b,x)=>p.set(b,x))),n.forEach(((b,x)=>v.set(b,new xx(x,p.get(b)??null)))),v)))}recalculateAndSaveOverlays(t,n){const a=fc();let l=new je(((p,v)=>p-v)),h=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((p=>{for(const v of p)v.keys().forEach((T=>{const b=n.get(T);if(b===null)return;let x=a.get(T)||Vi.empty();x=v.applyToLocalView(b,x),a.set(T,x);const C=(l.get(v.batchId)||ae()).add(T);l=l.insert(v.batchId,C)}))})).next((()=>{const p=[],v=l.getReverseIterator();for(;v.hasNext();){const T=v.getNext(),b=T.key,x=T.value,C=EE();x.forEach((V=>{if(!h.has(V)){const $=xE(n.get(V),a.get(V));$!==null&&C.set(V,$),h=h.add(V)}})),p.push(this.documentOverlayCache.saveOverlays(t,b,C))}return ct.waitFor(p)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,n,a,l){return(function(p){return Pt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_E(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next((h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ct.resolve(jo());let v=gc,T=h;return p.next((b=>ct.forEach(b,((x,C)=>(v<C.largestBatchId&&(v=C.largestBatchId),h.get(x)?ct.resolve():this.remoteDocumentCache.getEntry(t,x).next((V=>{T=T.insert(x,V)}))))).next((()=>this.populateOverlays(t,b,h))).next((()=>this.computeViews(t,T,b,ae()))).next((x=>({batchId:v,changes:TE(x)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Pt(n)).next((a=>{let l=rc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=rc();return this.indexManager.getCollectionParents(t,h).next((v=>ct.forEach(v,(T=>{const b=(function(C,V){return new hu(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(n,T.child(h));return this.getDocumentsMatchingCollectionQuery(t,b,a,l).next((x=>{x.forEach(((C,V)=>{p=p.insert(C,V)}))}))})).next((()=>p))))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next((p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l)))).next((p=>{h.forEach(((T,b)=>{const x=b.getKey();p.get(x)===null&&(p=p.insert(x,Hn.newInvalidDocument(x)))}));let v=rc();return p.forEach(((T,b)=>{const x=h.get(T);x!==void 0&&dc(x.mutation,b,Vi.empty(),Me.now()),Vf(n,b)&&(v=v.insert(T,b))})),v}))}}class Ix{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ct.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:sr(l.createTime)}})(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:yx(l.bundledQuery),readTime:sr(l.readTime)}})(n)),ct.resolve()}}class Nx{constructor(){this.overlays=new je(Pt.comparator),this.qr=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const a=jo();return ct.forEach(n,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,n,a){return a.forEach(((l,h)=>{this.St(t,n,h)})),ct.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),ct.resolve()}getOverlaysForCollection(t,n,a){const l=jo(),h=n.length+1,p=new Pt(n.child("")),v=this.overlays.getIteratorFrom(p);for(;v.hasNext();){const T=v.getNext().value,b=T.getKey();if(!n.isPrefixOf(b.path))break;b.path.length===h&&T.largestBatchId>a&&l.set(T.getKey(),T)}return ct.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new je(((b,x)=>b-x));const p=this.overlays.getIterator();for(;p.hasNext();){const b=p.getNext().value;if(b.getKey().getCollectionGroup()===n&&b.largestBatchId>a){let x=h.get(b.largestBatchId);x===null&&(x=jo(),h=h.insert(b.largestBatchId,x)),x.set(b.getKey(),b)}}const v=jo(),T=h.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((b,x)=>v.set(b,x))),!(v.size()>=l)););return ct.resolve(v)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new YR(n,a));let h=this.qr.get(n);h===void 0&&(h=ae(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}class Ox{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}class $p{constructor(){this.Qr=new _n(Sn.$r),this.Ur=new _n(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new Sn(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach((a=>this.addReference(a,n)))}removeReference(t,n){this.Gr(new Sn(t,n))}zr(t,n){t.forEach((a=>this.removeReference(a,n)))}jr(t){const n=new Pt(new Ne([])),a=new Sn(n,t),l=new Sn(n,t+1),h=[];return this.Ur.forEachInRange([a,l],(p=>{this.Gr(p),h.push(p.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Pt(new Ne([])),a=new Sn(n,t),l=new Sn(n,t+1);let h=ae();return this.Ur.forEachInRange([a,l],(p=>{h=h.add(p.key)})),h}containsKey(t){const n=new Sn(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Sn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Pt.comparator(t.key,n.key)||re(t.Yr,n.Yr)}static Kr(t,n){return re(t.Yr,n.Yr)||Pt.comparator(t.key,n.key)}}class Px{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(Sn.$r)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new KR(h,n,a,l);this.mutationQueue.push(p);for(const v of l)this.Zr=this.Zr.add(new Sn(v.key,h)),this.indexManager.addToCollectionParentIndex(t,v.key.path.popLast());return ct.resolve(p)}lookupMutationBatch(t,n){return ct.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return ct.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?Hp:this.tr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Sn(n,0),l=new Sn(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(p=>{const v=this.Xr(p.Yr);h.push(v)})),ct.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new _n(re);return n.forEach((l=>{const h=new Sn(l,0),p=new Sn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],(v=>{a=a.add(v.Yr)}))})),ct.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Pt.isDocumentKey(h)||(h=h.child(""));const p=new Sn(new Pt(h),0);let v=new _n(re);return this.Zr.forEachWhile((T=>{const b=T.key.path;return!!a.isPrefixOf(b)&&(b.length===l&&(v=v.add(T.Yr)),!0)}),p),ct.resolve(this.ti(v))}ti(t){const n=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ct.forEach(n.mutations,(l=>{const h=new Sn(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,n){const a=new Sn(n,0),l=this.Zr.firstAfterOrEqual(a);return ct.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Dx{constructor(t){this.ri=t,this.docs=(function(){return new je(Pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ct.resolve(a?a.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(t,n){let a=qr();return n.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))})),ct.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=qr();const p=n.path,v=new Pt(p.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(v);for(;T.hasNext();){const{key:b,value:{document:x}}=T.getNext();if(!p.isPrefixOf(b.path))break;b.path.length>p.length+1||oR(aR(x),a)<=0||(l.has(x.key)||Vf(n,x))&&(h=h.insert(x.key,x.mutableCopy()))}return ct.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Vt(9500)}ii(t,n){return ct.forEach(this.docs,(a=>n(a)))}newChangeBuffer(t){return new Lx(this)}getSize(t){return ct.resolve(this.size)}}class Lx extends Rx{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),ct.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class Mx{constructor(t){this.persistence=t,this.si=new tl((n=>Gp(n)),Zp),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=ru.ur()}forEachTarget(t,n){return this.si.forEach(((a,l)=>n(l))),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ct.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ru(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.Pr(n),ct.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach(((p,v)=>{v.sequenceNumber<=n&&a.get(v.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,v.targetId)),l++)})),ct.waitFor(h).next((()=>l))}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return ct.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),ct.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach((p=>{h.push(l.markPotentiallyOrphaned(t,p))})),ct.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return ct.resolve(a)}containsKey(t,n){return ct.resolve(this._i.containsKey(n))}}class BE{constructor(t,n){this.ui={},this.overlays={},this.ci=new Df(0),this.li=!1,this.li=!0,this.hi=new Ox,this.referenceDelegate=t(this),this.Pi=new Mx(this),this.indexManager=new vx,this.remoteDocumentCache=(function(l){return new Dx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new gx(n),this.Ii=new Ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Nx,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new Px(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new kx(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,n){return ct.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,n))))}}class kx extends uR{constructor(t){super(),this.currentSequenceNumber=t}}class t_{constructor(t){this.persistence=t,this.Ri=new $p,this.Vi=null}static mi(t){return new t_(t)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ct.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ct.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.fi,(a=>{const l=Pt.fromPath(a);return this.gi(t,l).next((h=>{h||n.removeEntry(l,Ut.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return ct.or([()=>ct.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Tf{constructor(t,n){this.persistence=t,this.pi=new tl((a=>fR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Sx(this,n)}static mi(t,n){return new Tf(t,n)}Ei(){}di(t){return ct.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>n.next((l=>a+l))))}wr(t){let n=0;return this.pr(t,(a=>{n++})).next((()=>n))}pr(t,n){return ct.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?ct.resolve():n(l)))))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(p=>this.br(t,p,n).next((v=>{v||(a++,h.removeEntry(p,Ut.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ct.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ct.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ct.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ef(t.data.value)),n}br(t,n,a){return ct.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return ct.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class e_{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ae(),l=ae();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new e_(t,n.fromCache,a,l)}}class Vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return CS()?8:cR(qn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next((p=>{h.result=p})).next((()=>{if(!h.result)return this.ws(t,n,l,a).next((p=>{h.result=p}))})).next((()=>{if(h.result)return;const p=new Vx;return this.Ss(t,n,p).next((v=>{if(h.result=v,this.Vs)return this.bs(t,n,p,v.size)}))})).next((()=>h.result))}bs(t,n,a,l){return a.documentReadCount<this.fs?(Gl()<=se.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ct.resolve()):(Gl()<=se.DEBUG&&St("QueryEngine","Query:",Zl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Gl()<=se.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ir(n))):ct.resolve())}ys(t,n){if(T0(n))return ct.resolve(null);let a=ir(n);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=_p(n,null,"F"),a=ir(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const p=ae(...h);return this.ps.getDocuments(t,p).next((v=>this.indexManager.getMinOffset(t,a).next((T=>{const b=this.Ds(n,v);return this.Cs(n,b,p,T.readTime)?this.ys(t,_p(n,null,"F")):this.vs(t,b,n,T)}))))})))))}ws(t,n,a,l){return T0(n)||l.isEqual(Ut.min())?ct.resolve(null):this.ps.getDocuments(t,a).next((h=>{const p=this.Ds(n,h);return this.Cs(n,p,a,l)?ct.resolve(null):(Gl()<=se.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zl(n)),this.vs(t,p,n,rR(l,gc)).next((v=>v)))}))}Ds(t,n){let a=new _n(yE(t));return n.forEach(((l,h)=>{Vf(t,h)&&(a=a.add(h))})),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return Gl()<=se.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.ps.getDocumentsMatchingQuery(t,n,Fa.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(n.forEach((p=>{h=h.insert(p.key,p)})),h)))}}const n_="LocalStore",Ux=3e8;class Bx{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new je(re),this.xs=new tl((h=>Gp(h)),Zp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Cx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function jx(s,t,n,a){return new Bx(s,t,n,a)}async function jE(s,t){const n=Ht(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a)))).next((h=>{const p=[],v=[];let T=ae();for(const b of l){p.push(b.batchId);for(const x of b.mutations)T=T.add(x.key)}for(const b of h){v.push(b.batchId);for(const x of b.mutations)T=T.add(x.key)}return n.localDocuments.getDocuments(a,T).next((b=>({Ls:b,removedBatchIds:p,addedBatchIds:v})))}))}))}function Hx(s,t){const n=Ht(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,T,b,x){const C=b.batch,V=C.keys();let $=ct.resolve();return V.forEach((ut=>{$=$.next((()=>x.getEntry(T,ut))).next((nt=>{const Z=b.docVersions.get(ut);ge(Z!==null,48541),nt.version.compareTo(Z)<0&&(C.applyToRemoteDocument(nt,b),nt.isValidDocument()&&(nt.setReadTime(b.commitVersion),x.addEntry(nt)))}))})),$.next((()=>v.mutationQueue.removeMutationBatch(T,C)))})(n,a,t,h).next((()=>h.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(v){let T=ae();for(let b=0;b<v.mutationResults.length;++b)v.mutationResults[b].transformResults.length>0&&(T=T.add(v.batch.mutations[b].key));return T})(t)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function HE(s){const t=Ht(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function qx(s,t){const n=Ht(s),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const p=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const v=[];t.targetChanges.forEach(((x,C)=>{const V=l.get(C);if(!V)return;v.push(n.Pi.removeMatchingKeys(h,x.removedDocuments,C).next((()=>n.Pi.addMatchingKeys(h,x.addedDocuments,C))));let $=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?$=$.withResumeToken(Pn.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):x.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(x.resumeToken,a)),l=l.insert(C,$),(function(nt,Z,dt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Ux?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,$,x)&&v.push(n.Pi.updateTargetData(h,$))}));let T=qr(),b=ae();if(t.documentUpdates.forEach((x=>{t.resolvedLimboDocuments.has(x)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(h,x))})),v.push(Fx(h,p,t.documentUpdates).next((x=>{T=x.ks,b=x.qs}))),!a.isEqual(Ut.min())){const x=n.Pi.getLastRemoteSnapshotVersion(h).next((C=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));v.push(x)}return ct.waitFor(v).next((()=>p.apply(h))).next((()=>n.localDocuments.getLocalViewOfDocuments(h,T,b))).next((()=>T))})).then((h=>(n.Ms=l,h)))}function Fx(s,t,n){let a=ae(),l=ae();return n.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let p=qr();return n.forEach(((v,T)=>{const b=h.get(v);T.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(v)),T.isNoDocument()&&T.version.isEqual(Ut.min())?(t.removeEntry(v,T.readTime),p=p.insert(v,T)):!b.isValidDocument()||T.version.compareTo(b.version)>0||T.version.compareTo(b.version)===0&&b.hasPendingWrites?(t.addEntry(T),p=p.insert(v,T)):St(n_,"Ignoring outdated watch update for ",v,". Current version:",b.version," Watch version:",T.version)})),{ks:p,qs:l}}))}function Gx(s,t){const n=Ht(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Zx(s,t){const n=Ht(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,t).next((h=>h?(l=h,ct.resolve(l)):n.Pi.allocateTargetId(a).next((p=>(l=new Va(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a}))}async function Ep(s,t,n){const a=Ht(s),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,(p=>a.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!cu(p))throw p;St(n_,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function D0(s,t,n){const a=Ht(s);let l=Ut.min(),h=ae();return a.persistence.runTransaction("Execute query","readwrite",(p=>(function(T,b,x){const C=Ht(T),V=C.xs.get(x);return V!==void 0?ct.resolve(C.Ms.get(V)):C.Pi.getTargetData(b,x)})(a,p,ir(t)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,v.targetId).next((T=>{h=T}))})).next((()=>a.Fs.getDocumentsMatchingQuery(p,t,n?l:Ut.min(),n?h:ae()))).next((v=>(Kx(a,OR(t),v),{documents:v,Qs:h})))))}function Kx(s,t,n){let a=s.Os.get(t)||Ut.min();n.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(t,a)}class L0{constructor(){this.activeTargetIds=VR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Yx{constructor(){this.Mo=new L0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new L0,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Qx{Oo(t){}shutdown(){}}const M0="ConnectivityMonitor";class k0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(M0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(M0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xh=null;function bp(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}const Xm="RestConnection",Xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===pf?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const p=bp(),v=this.zo(t,n.toUriEncodedString());St(Xm,`Sending RPC '${t}' ${p}:`,v,a);const T={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(T,l,h);const{host:b}=new URL(v),x=Xa(b);return this.Jo(t,v,T,a,x).then((C=>(St(Xm,`Received RPC '${t}' ${p}: `,C),C)),(C=>{throw eu(Xm,`RPC '${t}' ${p} failed with error: `,C,"url: ",v,"request:",a),C}))}Ho(t,n,a,l,h,p){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,n){const a=Xx[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class Jx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Bn="WebChannelConnection";class $x extends Wx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const p=bp();return new Promise(((v,T)=>{const b=new GT;b.setWithCredentials(!0),b.listenOnce(ZT.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case tf.NO_ERROR:const C=b.getResponseJson();St(Bn,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(C)),v(C);break;case tf.TIMEOUT:St(Bn,`RPC '${t}' ${p} timed out`),T(new At(lt.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const V=b.getStatus();if(St(Bn,`RPC '${t}' ${p} failed with status:`,V,"response text:",b.getResponseText()),V>0){let $=b.getResponseJson();Array.isArray($)&&($=$[0]);const ut=$?.error;if(ut&&ut.status&&ut.message){const nt=(function(dt){const yt=dt.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(yt)>=0?yt:lt.UNKNOWN})(ut.status);T(new At(nt,ut.message))}else T(new At(lt.UNKNOWN,"Server responded with status "+b.getStatus()))}else T(new At(lt.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:t,streamId:p,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{St(Bn,`RPC '${t}' ${p} completed.`)}}));const x=JSON.stringify(l);St(Bn,`RPC '${t}' ${p} sending request:`,l),b.send(n,"POST",x,a,15)}))}T_(t,n,a){const l=bp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=QT(),v=YT(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(T.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(T.useFetchStreams=!0),this.jo(T.initMessageHeaders,n,a),T.encodeInitMessageHeaders=!0;const x=h.join("");St(Bn,`Creating RPC '${t}' stream ${l}: ${x}`,T);const C=p.createWebChannel(x,T);this.I_(C);let V=!1,$=!1;const ut=new Jx({Yo:Z=>{$?St(Bn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(St(Bn,`Opening RPC '${t}' stream ${l} transport.`),C.open(),V=!0),St(Bn,`RPC '${t}' stream ${l} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),nt=(Z,dt,yt)=>{Z.listen(dt,(_t=>{try{yt(_t)}catch(Mt){setTimeout((()=>{throw Mt}),0)}}))};return nt(C,sc.EventType.OPEN,(()=>{$||(St(Bn,`RPC '${t}' stream ${l} transport opened.`),ut.o_())})),nt(C,sc.EventType.CLOSE,(()=>{$||($=!0,St(Bn,`RPC '${t}' stream ${l} transport closed`),ut.a_(),this.E_(C))})),nt(C,sc.EventType.ERROR,(Z=>{$||($=!0,eu(Bn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),ut.a_(new At(lt.UNAVAILABLE,"The operation could not be completed")))})),nt(C,sc.EventType.MESSAGE,(Z=>{if(!$){const dt=Z.data[0];ge(!!dt,16349);const yt=dt,_t=yt?.error||yt[0]?.error;if(_t){St(Bn,`RPC '${t}' stream ${l} received error:`,_t);const Mt=_t.status;let Gt=(function(N){const M=hn[N];if(M!==void 0)return IE(M)})(Mt),qt=_t.message;Gt===void 0&&(Gt=lt.INTERNAL,qt="Unknown error status: "+Mt+" with message "+_t.message),$=!0,ut.a_(new At(Gt,qt)),C.close()}else St(Bn,`RPC '${t}' stream ${l} received:`,dt),ut.u_(dt)}})),nt(v,KT.STAT_EVENT,(Z=>{Z.stat===up.PROXY?St(Bn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===up.NOPROXY&&St(Bn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ut.__()}),0),ut}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Wm(){return typeof document<"u"?document:null}function jf(s){return new ix(s,!0)}class qE{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const V0="PersistentStream";class FE{constructor(t,n,a,l,h,p,v,T){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=v,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===lt.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{t((()=>{const l=new At(lt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return St(V0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(St(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends FE{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ax(this.serializer,t),a=(function(h){if(!("targetChange"in h))return Ut.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Ut.min():p.readTime?sr(p.readTime):Ut.min()})(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=Tp(this.serializer),n.addTarget=(function(h,p){let v;const T=p.target;if(v=mp(T)?{documents:ux(h,T)}:{query:cx(h,T).ft},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){v.resumeToken=PE(h,p.resumeToken);const b=gp(h,p.expectedCount);b!==null&&(v.expectedCount=b)}else if(p.snapshotVersion.compareTo(Ut.min())>0){v.readTime=vf(h,p.snapshotVersion.toTimestamp());const b=gp(h,p.expectedCount);b!==null&&(v.expectedCount=b)}return v})(this.serializer,t);const a=fx(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=Tp(this.serializer),n.removeTarget=t,this.q_(n)}}class eC extends FE{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ge(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ge(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ge(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=lx(t.writeResults,t.commitTime),a=sr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=Tp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((a=>ox(this.serializer,a)))};this.q_(n)}}class nC{}class iC extends nC{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new At(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Go(t,yp(n,a),l,h,p))).catch((h=>{throw h.name==="FirebaseError"?(h.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new At(lt.UNKNOWN,h.toString())}))}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([p,v])=>this.connection.Ho(t,yp(n,a),l,p,v,h))).catch((p=>{throw p.name==="FirebaseError"?(p.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new At(lt.UNKNOWN,p.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hr(n),this.aa=!1):St("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yo="RemoteStore";class rC{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((p=>{a.enqueueAndForget((async()=>{el(this)&&(St(Yo,"Restarting streams for network reachability change."),await(async function(T){const b=Ht(T);b.Ea.add(4),await Dc(b),b.Ra.set("Unknown"),b.Ea.delete(4),await Hf(b)})(this))}))})),this.Ra=new sC(a,l)}}async function Hf(s){if(el(s))for(const t of s.da)await t(!0)}async function Dc(s){for(const t of s.da)await t(!1)}function GE(s,t){const n=Ht(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),a_(n)?r_(n):fu(n).O_()&&s_(n,t))}function i_(s,t){const n=Ht(s),a=fu(n);n.Ia.delete(t),a.O_()&&ZE(n,t),n.Ia.size===0&&(a.O_()?a.L_():el(n)&&n.Ra.set("Unknown"))}function s_(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fu(s).Y_(t)}function ZE(s,t){s.Va.Ue(t),fu(s).Z_(t)}function r_(s){s.Va=new $R({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),fu(s).start(),s.Ra.ua()}function a_(s){return el(s)&&!fu(s).x_()&&s.Ia.size>0}function el(s){return Ht(s).Ea.size===0}function KE(s){s.Va=void 0}async function aC(s){s.Ra.set("Online")}async function oC(s){s.Ia.forEach(((t,n)=>{s_(s,t)}))}async function lC(s,t){KE(s),a_(s)?(s.Ra.ha(t),r_(s)):s.Ra.set("Unknown")}async function uC(s,t,n){if(s.Ra.set("Online"),t instanceof OE&&t.state===2&&t.cause)try{await(async function(l,h){const p=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,p),l.Ia.delete(v),l.Va.removeTarget(v))})(s,t)}catch(a){St(Yo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Ef(s,a)}else if(t instanceof rf?s.Va.Ze(t):t instanceof NE?s.Va.st(t):s.Va.tt(t),!n.isEqual(Ut.min()))try{const a=await HE(s.localStore);n.compareTo(a)>=0&&await(function(h,p){const v=h.Va.Tt(p);return v.targetChanges.forEach(((T,b)=>{if(T.resumeToken.approximateByteSize()>0){const x=h.Ia.get(b);x&&h.Ia.set(b,x.withResumeToken(T.resumeToken,p))}})),v.targetMismatches.forEach(((T,b)=>{const x=h.Ia.get(T);if(!x)return;h.Ia.set(T,x.withResumeToken(Pn.EMPTY_BYTE_STRING,x.snapshotVersion)),ZE(h,T);const C=new Va(x.target,T,b,x.sequenceNumber);s_(h,C)})),h.remoteSyncer.applyRemoteEvent(v)})(s,n)}catch(a){St(Yo,"Failed to raise snapshot:",a),await Ef(s,a)}}async function Ef(s,t,n){if(!cu(t))throw t;s.Ea.add(1),await Dc(s),s.Ra.set("Offline"),n||(n=()=>HE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{St(Yo,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Hf(s)}))}function YE(s,t){return t().catch((n=>Ef(s,n,t)))}async function qf(s){const t=Ht(s),n=Ya(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hp;for(;cC(t);)try{const l=await Gx(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,hC(t,l)}catch(l){await Ef(t,l)}QE(t)&&XE(t)}function cC(s){return el(s)&&s.Ta.length<10}function hC(s,t){s.Ta.push(t);const n=Ya(s);n.O_()&&n.X_&&n.ea(t.mutations)}function QE(s){return el(s)&&!Ya(s).x_()&&s.Ta.length>0}function XE(s){Ya(s).start()}async function fC(s){Ya(s).ra()}async function dC(s){const t=Ya(s);for(const n of s.Ta)t.ea(n.mutations)}async function mC(s,t,n){const a=s.Ta.shift(),l=Xp.from(a,t,n);await YE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await qf(s)}async function pC(s,t){t&&Ya(s).X_&&await(async function(a,l){if((function(p){return XR(p)&&p!==lt.ABORTED})(l.code)){const h=a.Ta.shift();Ya(a).B_(),await YE(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await qf(a)}})(s,t),QE(s)&&XE(s)}async function z0(s,t){const n=Ht(s);n.asyncQueue.verifyOperationInProgress(),St(Yo,"RemoteStore received new credentials");const a=el(n);n.Ea.add(3),await Dc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Hf(n)}async function _C(s,t){const n=Ht(s);t?(n.Ea.delete(2),await Hf(n)):t||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function fu(s){return s.ma||(s.ma=(function(n,a,l){const h=Ht(n);return h.sa(),new tC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:aC.bind(null,s),t_:oC.bind(null,s),r_:lC.bind(null,s),H_:uC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),a_(s)?r_(s):s.Ra.set("Unknown")):(await s.ma.stop(),KE(s))}))),s.ma}function Ya(s){return s.fa||(s.fa=(function(n,a,l){const h=Ht(n);return h.sa(),new eC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:fC.bind(null,s),r_:pC.bind(null,s),ta:dC.bind(null,s),na:mC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await qf(s)):(await s.fa.stop(),s.Ta.length>0&&(St(Yo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class o_{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((p=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,v=new o_(t,n,p,l,h);return v.start(a),v}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(s,t){if(Hr("AsyncQueue",`${t}: ${s}`),cu(s))return new At(lt.UNAVAILABLE,`${t}: ${s}`);throw s}class Xl{static emptySet(t){return new Xl(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Pt.comparator(n.key,a.key):(n,a)=>Pt.comparator(n.key,a.key),this.keyedMap=rc(),this.sortedSet=new je(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,a)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new Xl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}class U0{constructor(){this.ga=new je(Pt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,a)=>{t.push(a)})),t}}class au{constructor(t,n,a,l,h,p,v,T,b){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=T,this.hasCachedResults=b}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach((v=>{p.push({type:0,doc:v})})),new au(t,n,Xl.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class gC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yC{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ht(n),h=l.queries;l.queries=B0(),h.forEach(((p,v)=>{for(const T of v.Sa)T.onError(a)}))})(this,new At(lt.ABORTED,"Firestore shutting down"))}}function B0(){return new tl((s=>gE(s)),kf)}async function vC(s,t){const n=Ht(s);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new gC,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const v=l_(p,`Initialization of query '${Zl(t.query)}' failed`);return void t.onError(v)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&u_(n)}async function TC(s,t){const n=Ht(s),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function EC(s,t){const n=Ht(s);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const v of p.Sa)v.Fa(l)&&(a=!0);p.wa=l}}a&&u_(n)}function bC(s,t,n){const a=Ht(s),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function u_(s){s.Ca.forEach((t=>{t.next()}))}var wp,j0;(j0=wp||(wp={})).Ma="default",j0.Cache="cache";class wC{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new au(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=au.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wp.Cache}}class WE{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class AC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=yE(t),this.tu=new Xl(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new U0,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,v=!1;const T=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((x,C)=>{const V=l.get(x),$=Vf(this.query,C)?C:null,ut=!!V&&this.mutatedKeys.has(V.key),nt=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Z=!1;V&&$?V.data.isEqual($.data)?ut!==nt&&(a.track({type:3,doc:$}),Z=!0):this.su(V,$)||(a.track({type:2,doc:$}),Z=!0,(T&&this.eu($,T)>0||b&&this.eu($,b)<0)&&(v=!0)):!V&&$?(a.track({type:0,doc:$}),Z=!0):V&&!$&&(a.track({type:1,doc:V}),Z=!0,(T||b)&&(v=!0)),Z&&($?(p=p.add($),h=nt?h.add(x):h.delete(x)):(p=p.delete(x),h=h.delete(x)))})),this.query.limit!==null)for(;p.size>this.query.limit;){const x=this.query.limitType==="F"?p.last():p.first();p=p.delete(x.key),h=h.delete(x.key),a.track({type:1,doc:x})}return{tu:p,iu:a,Cs:v,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort(((x,C)=>(function($,ut){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:Z})}};return nt($)-nt(ut)})(x.type,C.type)||this.eu(x.doc,C.doc))),this.ou(a),l=l??!1;const v=n&&!l?this._u():[],T=this.Xa.size===0&&this.current&&!l?1:0,b=T!==this.Za;return this.Za=T,p.length!==0||b?{snapshot:new au(this.query,t.tu,h,p,t.mutatedKeys,T===0,b,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new U0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ae(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return t.forEach((a=>{this.Xa.has(a)||n.push(new JE(a))})),this.Xa.forEach((a=>{t.has(a)||n.push(new WE(a))})),n}cu(t){this.Ya=t.Qs,this.Xa=ae();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return au.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const c_="SyncEngine";class SC{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class RC{constructor(t){this.key=t,this.hu=!1}}class xC{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new tl((v=>gE(v)),kf),this.Iu=new Map,this.Eu=new Set,this.du=new je(Pt.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CC(s,t,n=!0){const a=sb(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await $E(a,t,n,!0),l}async function IC(s,t){const n=sb(s);await $E(n,t,!0,!1)}async function $E(s,t,n,a){const l=await Zx(s.localStore,ir(t)),h=l.targetId,p=s.sharedClientState.addLocalQueryTarget(h,n);let v;return a&&(v=await NC(s,t,h,p==="current",l.resumeToken)),s.isPrimaryClient&&n&&GE(s.remoteStore,l),v}async function NC(s,t,n,a,l){s.pu=(C,V,$)=>(async function(nt,Z,dt,yt){let _t=Z.view.ru(dt);_t.Cs&&(_t=await D0(nt.localStore,Z.query,!1).then((({documents:z})=>Z.view.ru(z,_t))));const Mt=yt&&yt.targetChanges.get(Z.targetId),Gt=yt&&yt.targetMismatches.get(Z.targetId)!=null,qt=Z.view.applyChanges(_t,nt.isPrimaryClient,Mt,Gt);return q0(nt,Z.targetId,qt.au),qt.snapshot})(s,C,V,$);const h=await D0(s.localStore,t,!0),p=new AC(t,h.Qs),v=p.ru(h.documents),T=Pc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),b=p.applyChanges(v,s.isPrimaryClient,T);q0(s,n,b.au);const x=new SC(t,n,p);return s.Tu.set(t,x),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),b.snapshot}async function OC(s,t,n){const a=Ht(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((p=>!kf(p,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ep(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&i_(a.remoteStore,l.targetId),Ap(a,l.targetId)})).catch(uu)):(Ap(a,l.targetId),await Ep(a.localStore,l.targetId,!0))}async function PC(s,t){const n=Ht(s),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),i_(n.remoteStore,a.targetId))}async function DC(s,t,n){const a=BC(s);try{const l=await(function(p,v){const T=Ht(p),b=Me.now(),x=v.reduce((($,ut)=>$.add(ut.key)),ae());let C,V;return T.persistence.runTransaction("Locally write mutations","readwrite",($=>{let ut=qr(),nt=ae();return T.Ns.getEntries($,x).next((Z=>{ut=Z,ut.forEach(((dt,yt)=>{yt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>T.localDocuments.getOverlayedDocuments($,ut))).next((Z=>{C=Z;const dt=[];for(const yt of v){const _t=GR(yt,C.get(yt.key).overlayedDocument);_t!=null&&dt.push(new Ja(yt.key,_t,uE(_t.value.mapValue),ls.exists(!0)))}return T.mutationQueue.addMutationBatch($,b,dt,v)})).next((Z=>{V=Z;const dt=Z.applyToLocalDocumentSet(C,nt);return T.documentOverlayCache.saveOverlays($,Z.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:TE(C)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(p,v,T){let b=p.Vu[p.currentUser.toKey()];b||(b=new je(re)),b=b.insert(v,T),p.Vu[p.currentUser.toKey()]=b})(a,l.batchId,n),await Lc(a,l.changes),await qf(a.remoteStore)}catch(l){const h=l_(l,"Failed to persist write");n.reject(h)}}async function tb(s,t){const n=Ht(s);try{const a=await qx(n.localStore,t);t.targetChanges.forEach(((l,h)=>{const p=n.Au.get(h);p&&(ge(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?ge(p.hu,14607):l.removedDocuments.size>0&&(ge(p.hu,42227),p.hu=!1))})),await Lc(n,a,t)}catch(a){await uu(a)}}function H0(s,t,n){const a=Ht(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((h,p)=>{const v=p.view.va(t);v.snapshot&&l.push(v.snapshot)})),(function(p,v){const T=Ht(p);T.onlineState=v;let b=!1;T.queries.forEach(((x,C)=>{for(const V of C.Sa)V.va(v)&&(b=!0)})),b&&u_(T)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function LC(s,t,n){const a=Ht(s);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new je(Pt.comparator);p=p.insert(h,Hn.newNoDocument(h,Ut.min()));const v=ae().add(h),T=new Bf(Ut.min(),new Map,new je(re),p,v);await tb(a,T),a.du=a.du.remove(h),a.Au.delete(t),h_(a)}else await Ep(a.localStore,t,!1).then((()=>Ap(a,t,n))).catch(uu)}async function MC(s,t){const n=Ht(s),a=t.batch.batchId;try{const l=await Hx(n.localStore,t);nb(n,a,null),eb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Lc(n,l)}catch(l){await uu(l)}}async function kC(s,t,n){const a=Ht(s);try{const l=await(function(p,v){const T=Ht(p);return T.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let x;return T.mutationQueue.lookupMutationBatch(b,v).next((C=>(ge(C!==null,37113),x=C.keys(),T.mutationQueue.removeMutationBatch(b,C)))).next((()=>T.mutationQueue.performConsistencyCheck(b))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(b,x,v))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,x))).next((()=>T.localDocuments.getDocuments(b,x)))}))})(a.localStore,t);nb(a,t,n),eb(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Lc(a,l)}catch(l){await uu(l)}}function eb(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function nb(s,t,n){const a=Ht(s);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Ap(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||ib(s,a)}))}function ib(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(i_(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),h_(s))}function q0(s,t,n){for(const a of n)a instanceof WE?(s.Ru.addReference(a.key,t),VC(s,a)):a instanceof JE?(St(c_,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||ib(s,a.key)):Vt(19791,{wu:a})}function VC(s,t){const n=t.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(St(c_,"New document in limbo: "+n),s.Eu.add(a),h_(s))}function h_(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new Pt(Ne.fromString(t)),a=s.fu.next();s.Au.set(a,new RC(n)),s.du=s.du.insert(n,a),GE(s.remoteStore,new Va(ir(Kp(n.path)),a,"TargetPurposeLimboResolution",Df.ce))}}async function Lc(s,t,n){const a=Ht(s),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach(((v,T)=>{p.push(a.pu(T,t,n).then((b=>{if((b||n)&&a.isPrimaryClient){const x=b?!b.fromCache:n?.targetChanges.get(T.targetId)?.current;a.sharedClientState.updateQueryState(T.targetId,x?"current":"not-current")}if(b){l.push(b);const x=e_.As(T.targetId,b);h.push(x)}})))})),await Promise.all(p),a.Pu.H_(l),await(async function(T,b){const x=Ht(T);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ct.forEach(b,(V=>ct.forEach(V.Es,($=>x.persistence.referenceDelegate.addReference(C,V.targetId,$))).next((()=>ct.forEach(V.ds,($=>x.persistence.referenceDelegate.removeReference(C,V.targetId,$)))))))))}catch(C){if(!cu(C))throw C;St(n_,"Failed to update sequence numbers: "+C)}for(const C of b){const V=C.targetId;if(!C.fromCache){const $=x.Ms.get(V),ut=$.snapshotVersion,nt=$.withLastLimboFreeSnapshotVersion(ut);x.Ms=x.Ms.insert(V,nt)}}})(a.localStore,h))}async function zC(s,t){const n=Ht(s);if(!n.currentUser.isEqual(t)){St(c_,"User change. New user:",t.toKey());const a=await jE(n.localStore,t);n.currentUser=t,(function(h,p){h.mu.forEach((v=>{v.forEach((T=>{T.reject(new At(lt.CANCELLED,p))}))})),h.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Lc(n,a.Ls)}}function UC(s,t){const n=Ht(s),a=n.Au.get(t);if(a&&a.hu)return ae().add(a.key);{let l=ae();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const v=n.Tu.get(p);l=l.unionWith(v.view.nu)}return l}}function sb(s){const t=Ht(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=tb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LC.bind(null,t),t.Pu.H_=EC.bind(null,t.eventManager),t.Pu.yu=bC.bind(null,t.eventManager),t}function BC(s){const t=Ht(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,t),t}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return jx(this.persistence,new zx,t.initialUser,this.serializer)}Cu(t){return new BE(t_.mi,this.serializer)}Du(t){return new Yx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class jC extends bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ge(this.persistence.referenceDelegate instanceof Tf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wx(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new BE((a=>Tf.mi(a,n)),this.serializer)}}class Sp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await _C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yC})()}createDatastore(t){const n=jf(t.databaseInfo.databaseId),a=(function(h){return new $x(h)})(t.databaseInfo);return(function(h,p,v,T){return new iC(h,p,v,T)})(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return(function(a,l,h,p,v){return new rC(a,l,h,p,v)})(this.localStore,this.datastore,t.asyncQueue,(n=>H0(this.syncEngine,n,0)),(function(){return k0.v()?new k0:new Qx})())}createSyncEngine(t,n){return(function(l,h,p,v,T,b,x){const C=new xC(l,h,p,v,T,b);return x&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ht(n);St(Yo,"RemoteStore shutting down."),a.Ea.add(5),await Dc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sp.provider={build:()=>new Sp};class HC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Qa="FirestoreClient";class qC{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=jn.UNAUTHENTICATED,this.clientId=jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async p=>{St(Qa,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p})),this.appCheckCredentials.start(a,(p=>(St(Qa,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=l_(n,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Jm(s,t){s.asyncQueue.verifyOperationInProgress(),St(Qa,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await jE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function F0(s,t){s.asyncQueue.verifyOperationInProgress();const n=await FC(s);St(Qa,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((a=>z0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>z0(t.remoteStore,l))),s._onlineComponents=t}async function FC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){St(Qa,"Using user provided OfflineComponentProvider");try{await Jm(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===lt.FAILED_PRECONDITION||l.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;eu("Error using user provided cache. Falling back to memory cache: "+n),await Jm(s,new bf)}}else St(Qa,"Using default OfflineComponentProvider"),await Jm(s,new jC(void 0));return s._offlineComponents}async function rb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(St(Qa,"Using user provided OnlineComponentProvider"),await F0(s,s._uninitializedComponentsProvider._online)):(St(Qa,"Using default OnlineComponentProvider"),await F0(s,new Sp))),s._onlineComponents}function GC(s){return rb(s).then((t=>t.syncEngine))}async function G0(s){const t=await rb(s),n=t.eventManager;return n.onListen=CC.bind(null,t.syncEngine),n.onUnlisten=OC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=PC.bind(null,t.syncEngine),n}function ab(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Z0=new Map;const ob="firestore.googleapis.com",K0=!0;class Y0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new At(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=K0}else this.host=t.host,this.ssl=t.ssl??K0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ex)throw new At(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ab(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new At(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new At(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new At(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ff{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new At(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Y1;switch(a.type){case"firstParty":return new J1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new At(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Z0.get(n);a&&(St("ComponentProvider","Removing Datastore"),Z0.delete(n),a.terminate())})(this),Promise.resolve()}}function ZC(s,t,n,a={}){s=nr(s,Ff);const l=Xa(t),h=s._getSettings(),p={...h,emulatorOptions:s._getEmulatorOptions()},v=`${t}:${n}`;l&&(Mp(`https://${v}`),kp("Firestore",!0)),h.host!==ob&&h.host!==v&&eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...h,host:v,ssl:l,emulatorOptions:a};if(!Go(T,p)&&(s._setSettings(T),a.mockUserToken)){let b,x;if(typeof a.mockUserToken=="string")b=a.mockUserToken,x=jn.MOCK_USER;else{b=zT(a.mockUserToken,s._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new At(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new jn(C)}s._authCredentials=new Q1(new WT(b,x))}}class nl{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new nl(this.firestore,t,this._query)}}class sn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new sn(this.firestore,t,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Nc(n,sn._jsonSchema))return new sn(t,a||null,new Pt(Ne.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:dn("string",sn._jsonSchemaVersion),referencePath:dn("string")};class Ha extends nl{constructor(t,n,a){super(t,n,Kp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new sn(this.firestore,null,new Pt(t))}withConverter(t){return new Ha(this.firestore,t,this._path)}}function Rp(s,t,...n){if(s=Qe(s),JT("collection","path",t),s instanceof Ff){const a=Ne.fromString(t,...n);return a0(a),new Ha(s,null,a)}{if(!(s instanceof sn||s instanceof Ha))throw new At(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ne.fromString(t,...n));return a0(a),new Ha(s.firestore,null,a)}}function za(s,t,...n){if(s=Qe(s),arguments.length===1&&(t=jp.newId()),JT("doc","path",t),s instanceof Ff){const a=Ne.fromString(t,...n);return r0(a),new sn(s,null,new Pt(a))}{if(!(s instanceof sn||s instanceof Ha))throw new At(lt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ne.fromString(t,...n));return r0(a),new sn(s.firestore,s instanceof Ha?s.converter:null,new Pt(a))}}const Q0="AsyncQueue";class X0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qE(this,"async_queue_retry"),this._c=()=>{const a=Wm();a&&St(Q0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;St(Q0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Hr("INTERNAL UNHANDLED ERROR: ",W0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=o_.createAndSchedule(this,t,n,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Vt(47125,{Pc:W0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function W0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function J0(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Qo extends Ff{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new X0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X0(t),this._firestoreClient=void 0,await t}}}function KC(s,t){const n=typeof s=="object"?s:Up(),a=typeof s=="string"?s:pf,l=Of(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=MT("firestore");h&&ZC(l,...h)}return l}function lb(s){if(s._terminated)throw new At(lt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YC(s),s._firestoreClient}function YC(s){const t=s._freezeSettings(),n=(function(l,h,p,v){return new pR(l,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,ab(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new qC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class os{constructor(t){this._byteString=t}static fromBase64String(t){try{return new os(Pn.fromBase64String(t))}catch(n){throw new At(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new os(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Nc(t,os._jsonSchema))return os.fromBase64String(t.bytes)}}os._jsonSchemaVersion="firestore/bytes/1.0",os._jsonSchema={type:dn("string",os._jsonSchemaVersion),bytes:dn("string")};class Gf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new At(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zf{constructor(t){this._methodName=t}}class rr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new At(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new At(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return re(this._lat,t._lat)||re(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(t){if(Nc(t,rr._jsonSchema))return new rr(t.latitude,t.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:dn("string",rr._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};class ar{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Nc(t,ar._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ar(t.vectorValues);throw new At(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:dn("string",ar._jsonSchemaVersion),vectorValues:dn("object")};const QC=/^__.*__$/;class XC{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Ja(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(t,this.data,n,this.fieldTransforms)}}class ub{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new Ja(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function cb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:s})}}class f_{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new f_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(cb(this.Ac)&&QC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class WC{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||jf(t)}Cc(t,n,a,l=!1){return new f_({Ac:t,methodName:n,Dc:a,path:On.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(s){const t=s._freezeSettings(),n=jf(s._databaseId);return new WC(s._databaseId,!!t.ignoreUndefinedProperties,n)}function hb(s,t,n,a,l,h={}){const p=s.Cc(h.merge||h.mergeFields?2:0,t,n,l);m_("Data must be an object, but it was:",p,a);const v=fb(a,p);let T,b;if(h.merge)T=new Vi(p.fieldMask),b=p.fieldTransforms;else if(h.mergeFields){const x=[];for(const C of h.mergeFields){const V=xp(t,C,n);if(!p.contains(V))throw new At(lt.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);mb(x,V)||x.push(V)}T=new Vi(x),b=p.fieldTransforms.filter((C=>T.covers(C.field)))}else T=null,b=p.fieldTransforms;return new XC(new gi(v),T,b)}class Yf extends Zf{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yf}}class d_ extends Zf{_toFieldTransform(t){return new jR(t.path,new bc)}isEqual(t){return t instanceof d_}}function JC(s,t,n,a){const l=s.Cc(1,t,n);m_("Data must be an object, but it was:",l,a);const h=[],p=gi.empty();Wa(a,((T,b)=>{const x=p_(t,T,n);b=Qe(b);const C=l.yc(x);if(b instanceof Yf)h.push(x);else{const V=Mc(b,C);V!=null&&(h.push(x),p.set(x,V))}}));const v=new Vi(h);return new ub(p,v,l.fieldTransforms)}function $C(s,t,n,a,l,h){const p=s.Cc(1,t,n),v=[xp(t,a,n)],T=[l];if(h.length%2!=0)throw new At(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)v.push(xp(t,h[V])),T.push(h[V+1]);const b=[],x=gi.empty();for(let V=v.length-1;V>=0;--V)if(!mb(b,v[V])){const $=v[V];let ut=T[V];ut=Qe(ut);const nt=p.yc($);if(ut instanceof Yf)b.push($);else{const Z=Mc(ut,nt);Z!=null&&(b.push($),x.set($,Z))}}const C=new Vi(b);return new ub(x,C,p.fieldTransforms)}function tI(s,t,n,a=!1){return Mc(n,s.Cc(a?4:3,t))}function Mc(s,t){if(db(s=Qe(s)))return m_("Unsupported field value:",t,s),fb(s,t);if(s instanceof Zf)return(function(a,l){if(!cb(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let p=0;for(const v of a){let T=Mc(v,l.wc(p));T==null&&(T={nullValue:"NULL_VALUE"}),h.push(T),p++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Me.fromDate(a);return{timestampValue:vf(l.serializer,h)}}if(a instanceof Me){const h=new Me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:vf(l.serializer,h)}}if(a instanceof rr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof os)return{bytesValue:PE(l.serializer,a._byteString)};if(a instanceof sn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Jp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ar)return(function(p,v){return{mapValue:{fields:{[oE]:{stringValue:lE},[_f]:{arrayValue:{values:p.toArray().map((b=>{if(typeof b!="number")throw v.Sc("VectorValues must only contain numeric values.");return Yp(v.serializer,b)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pf(a)}`)})(s,t)}function fb(s,t){const n={};return eE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(s,((a,l)=>{const h=Mc(l,t.mc(a));h!=null&&(n[a]=h)})),{mapValue:{fields:n}}}function db(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Me||s instanceof rr||s instanceof os||s instanceof sn||s instanceof Zf||s instanceof ar)}function m_(s,t,n){if(!db(n)||!$T(n)){const a=Pf(n);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function xp(s,t,n){if((t=Qe(t))instanceof Gf)return t._internalPath;if(typeof t=="string")return p_(s,t);throw wf("Field path arguments must be of type string or ",s,!1,void 0,n)}const eI=new RegExp("[~\\*/\\[\\]]");function p_(s,t,n){if(t.search(eI)>=0)throw wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Gf(...t.split("."))._internalPath}catch{throw wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function wf(s,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let v=`Function ${t}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let T="";return(h||p)&&(T+=" (found",h&&(T+=` in field ${a}`),p&&(T+=` in document ${l}`),T+=")"),new At(lt.INVALID_ARGUMENT,v+s+T)}function mb(s,t){return s.some((n=>n.isEqual(t)))}class pb{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Qf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nI extends pb{data(){return super.data()}}function Qf(s,t){return typeof t=="string"?p_(s,t):t instanceof Gf?t._internalPath:t._delegate._internalPath}function iI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new At(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class __{}class _b extends __{}function $0(s,t,...n){let a=[];t instanceof __&&a.push(t),a=a.concat(n),(function(h){const p=h.filter((T=>T instanceof g_)).length,v=h.filter((T=>T instanceof Xf)).length;if(p>1||p>0&&v>0)throw new At(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Xf extends _b{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Xf(t,n,a)}_apply(t){const n=this._parse(t);return gb(t._query,n),new nl(t.firestore,t.converter,pp(t._query,n))}_parse(t){const n=Kf(t.firestore);return(function(h,p,v,T,b,x,C){let V;if(b.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new At(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){nT(C,x);const ut=[];for(const nt of C)ut.push(eT(T,h,nt));V={arrayValue:{values:ut}}}else V=eT(T,h,C)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||nT(C,x),V=tI(v,p,C,x==="in"||x==="not-in");return fn.create(b,x,V)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function sI(s,t,n){const a=t,l=Qf("where",s);return Xf._create(l,a,n)}class g_ extends __{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new g_(t,n)}_parse(t){const n=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:xs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,h){let p=l;const v=h.getFlattenedFilters();for(const T of v)gb(p,T),p=pp(p,T)})(t._query,n),new nl(t.firestore,t.converter,pp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y_ extends _b{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new y_(t,n)}_apply(t){const n=(function(l,h,p){if(l.startAt!==null)throw new At(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new At(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(h,p)})(t._query,this._field,this._direction);return new nl(t.firestore,t.converter,(function(l,h){const p=l.explicitOrderBy.concat([h]);return new hu(l.path,l.collectionGroup,p,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function tT(s,t="asc"){const n=t,a=Qf("orderBy",s);return y_._create(a,n)}function eT(s,t,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new At(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(t)&&n.indexOf("/")!==-1)throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(Ne.fromString(n));if(!Pt.isDocumentKey(a))throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return m0(s,new Pt(a))}if(n instanceof sn)return m0(s,n._key);throw new At(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function nT(s,t){if(!Array.isArray(s)||s.length===0)throw new At(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gb(s,t){const n=(function(l,h){for(const p of l)for(const v of p.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new At(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new At(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rI{convertValue(t,n="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Za(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Wa(t,((l,h)=>{a[l]=this.convertValue(h,n)})),a}convertVectorValue(t){const n=t.fields?.[_f].arrayValue?.values?.map((a=>nn(a.doubleValue)));return new ar(n)}convertGeoPoint(t){return new rr(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const a=Mf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(yc(t));default:return null}}convertTimestamp(t){const n=Ga(t);return new Me(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Ne.fromString(t);ge(zE(a),9688,{name:t});const l=new vc(a.get(1),a.get(3)),h=new Pt(a.popFirst(5));return l.isEqual(n)||Hr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}function yb(s,t,n){let a;return a=s?s.toFirestore(t):t,a}class oc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qo extends pb{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Qf("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",qo._jsonSchema={type:dn("string",qo._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class af extends qo{data(t={}){return super.data(t)}}class Wl{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new oc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((a=>{t.call(n,new af(this._firestore,this._userDataWriter,a.key,a,new oc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new At(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map((v=>{const T=new af(l._firestore,l._userDataWriter,v.doc.key,v.doc,new oc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:T,oldIndex:-1,newIndex:p++}}))}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const T=new af(l._firestore,l._userDataWriter,v.doc.key,v.doc,new oc(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,x=-1;return v.type!==0&&(b=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),v.type!==1&&(p=p.add(v.doc),x=p.indexOf(v.doc.key)),{type:aI(v.type),doc:T,oldIndex:b,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:s})}}Wl._jsonSchemaVersion="firestore/querySnapshot/1.0",Wl._jsonSchema={type:dn("string",Wl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class vb extends rI{constructor(t){super(),this.firestore=t}convertBytes(t){return new os(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function oI(s,t,n){s=nr(s,sn);const a=nr(s.firestore,Qo),l=yb(s.converter,t);return Wf(a,[hb(Kf(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,ls.none())])}function of(s,t,n,...a){s=nr(s,sn);const l=nr(s.firestore,Qo),h=Kf(l);let p;return p=typeof(t=Qe(t))=="string"||t instanceof Gf?$C(h,"updateDoc",s._key,t,n,a):JC(h,"updateDoc",s._key,t),Wf(l,[p.toMutation(s._key,ls.exists(!0))])}function Tb(s){return Wf(nr(s.firestore,Qo),[new Qp(s._key,ls.none())])}function lI(s,t){const n=nr(s.firestore,Qo),a=za(s),l=yb(s.converter,t);return Wf(n,[hb(Kf(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,ls.exists(!1))]).then((()=>a))}function uI(s,...t){s=Qe(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||J0(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(J0(t[a])){const T=t[a];t[a]=T.next?.bind(T),t[a+1]=T.error?.bind(T),t[a+2]=T.complete?.bind(T)}let h,p,v;if(s instanceof sn)p=nr(s.firestore,Qo),v=Kp(s._key.path),h={next:T=>{t[a]&&t[a](cI(p,s,T))},error:t[a+1],complete:t[a+2]};else{const T=nr(s,nl);p=nr(T.firestore,Qo),v=T._query;const b=new vb(p);h={next:x=>{t[a]&&t[a](new Wl(p,b,T,x))},error:t[a+1],complete:t[a+2]},iI(s._query)}return(function(b,x,C,V){const $=new HC(V),ut=new wC(x,$,C);return b.asyncQueue.enqueueAndForget((async()=>vC(await G0(b),ut))),()=>{$.Nu(),b.asyncQueue.enqueueAndForget((async()=>TC(await G0(b),ut)))}})(lb(p),v,l,h)}function Wf(s,t){return(function(a,l){const h=new Ho;return a.asyncQueue.enqueueAndForget((async()=>DC(await GC(a),l,h))),h.promise})(lb(s),t)}function cI(s,t,n){const a=n.docs.get(t._key),l=new vb(s);return new qo(s,l,t._key,a,new oc(n.hasPendingWrites,n.fromCache),t.converter)}function Cp(){return new d_("serverTimestamp")}(function(t,n=!0){(function(l){lu=l})($o),Zo(new qa("firestore",((a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),v=new Qo(new X1(a.getProvider("auth-internal")),new $1(p,a.getProvider("app-check-internal")),(function(b,x){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new At(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(b.options.projectId,x)})(p,l),p);return h={useFetchStreams:n,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),er(e0,n0,t),er(e0,n0,"esm2020")})();function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hI=Eb,bb=new Cc("auth","Firebase",Eb());const Af=new Vp("@firebase/auth");function fI(s,...t){Af.logLevel<=se.WARN&&Af.warn(`Auth (${$o}): ${s}`,...t)}function lf(s,...t){Af.logLevel<=se.ERROR&&Af.error(`Auth (${$o}): ${s}`,...t)}function Cs(s,...t){throw v_(s,...t)}function or(s,...t){return v_(s,...t)}function wb(s,t,n){const a={...hI(),[t]:n};return new Cc("auth","Firebase",a).create(t,{appName:s.name})}function Br(s){return wb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(s,...t){if(typeof s!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return bb.create(s,...t)}function kt(s,t,...n){if(!s)throw v_(t,...n)}function zr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw lf(t),new Error(t)}function Fr(s,t){s||zr(t)}function Ip(){return typeof self<"u"&&self.location?.href||""}function dI(){return iT()==="http:"||iT()==="https:"}function iT(){return typeof self<"u"&&self.location?.protocol||null}function mI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dI()||SS()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class kc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fr(n>t,"Short delay should be less than long delay!"),this.isMobile=bS()||RS()}get(){return mI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function T_(s,t){Fr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ab{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new kc(3e4,6e4);function $a(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function to(s,t,n,a,l={}){return Sb(s,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const v=Ic({key:s.config.apiKey,...p}).slice(1),T=await s._getAdditionalHeaders();T["Content-Type"]="application/json",s.languageCode&&(T["X-Firebase-Locale"]=s.languageCode);const b={method:t,headers:T,...h};return AS()||(b.referrerPolicy="no-referrer"),s.emulatorConfig&&Xa(s.emulatorConfig.host)&&(b.credentials="include"),Ab.fetch()(await Rb(s,s.config.apiHost,n,v),b)})}async function Sb(s,t,n){s._canInitEmulator=!1;const a={..._I,...t};try{const l=new TI(s),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Wh(s,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const v=h.ok?p.errorMessage:p.error.message,[T,b]=v.split(" : ");if(T==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(s,"credential-already-in-use",p);if(T==="EMAIL_EXISTS")throw Wh(s,"email-already-in-use",p);if(T==="USER_DISABLED")throw Wh(s,"user-disabled",p);const x=a[T]||T.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw wb(s,x,b);Cs(s,x)}}catch(l){if(l instanceof cr)throw l;Cs(s,"network-request-failed",{message:String(l)})}}async function Vc(s,t,n,a,l={}){const h=await to(s,t,n,a,l);return"mfaPendingCredential"in h&&Cs(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function Rb(s,t,n,a){const l=`${t}${n}?${a}`,h=s,p=h.config.emulator?T_(s.config,l):`${s.config.apiScheme}://${l}`;return gI.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}function vI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(or(this.auth,"network-request-failed")),yI.get())})}}function Wh(s,t,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=or(s,t,a);return l.customData._tokenResponse=n,l}function sT(s){return s!==void 0&&s.enterprise!==void 0}class EI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return vI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bI(s,t){return to(s,"GET","/v2/recaptchaConfig",$a(s,t))}async function wI(s,t){return to(s,"POST","/v1/accounts:delete",t)}async function Sf(s,t){return to(s,"POST","/v1/accounts:lookup",t)}function mc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function AI(s,t=!1){const n=Qe(s),a=await n.getIdToken(t),l=E_(a);kt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:mc($m(l.auth_time)),issuedAtTime:mc($m(l.iat)),expirationTime:mc($m(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function $m(s){return Number(s)*1e3}function E_(s){const[t,n,a]=s.split(".");if(t===void 0||n===void 0||a===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const l=DT(n);return l?JSON.parse(l):(lf("Failed to decode base64 JWT payload"),null)}catch(l){return lf("Caught error parsing JWT payload as JSON",l?.toString()),null}}function rT(s){const t=E_(s);return kt(t,"internal-error"),kt(typeof t.exp<"u","internal-error"),kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sc(s,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof cr&&SI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function SI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class RI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rf(s){const t=s.auth,n=await s.getIdToken(),a=await Sc(s,Sf(t,{idToken:n}));kt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?xb(l.providerUserInfo):[],p=CI(s.providerData,h),v=s.isAnonymous,T=!(s.email&&l.passwordHash)&&!p?.length,b=v?T:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(s,x)}async function xI(s){const t=Qe(s);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function xb(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function II(s,t){const n=await Sb(s,{},async()=>{const a=Ic({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,p=await Rb(s,l,"/v1/token",`key=${h}`),v=await s._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const T={method:"POST",headers:v,body:a};return s.emulatorConfig&&Xa(s.emulatorConfig.host)&&(T.credentials="include"),Ab.fetch()(p,T)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NI(s,t){return to(s,"POST","/v2/accounts:revokeToken",$a(s,t))}class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){kt(t.idToken,"internal-error"),kt(typeof t.idToken<"u","internal-error"),kt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){kt(t.length!==0,"internal-error");const n=rT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await II(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Jl;return a&&(kt(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(kt(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(kt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return zr("not implemented")}}function Oa(s,t){kt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Rs{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new RI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,t));return kt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return AI(this,t)}reload(){return xI(this)}_assign(t){this!==t&&(kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Rs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await Sc(this,wI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,v=n.tenantId??void 0,T=n._redirectEventId??void 0,b=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:C,emailVerified:V,isAnonymous:$,providerData:ut,stsTokenManager:nt}=n;kt(C&&nt,t,"internal-error");const Z=Jl.fromJSON(this.name,nt);kt(typeof C=="string",t,"internal-error"),Oa(a,t.name),Oa(l,t.name),kt(typeof V=="boolean",t,"internal-error"),kt(typeof $=="boolean",t,"internal-error"),Oa(h,t.name),Oa(p,t.name),Oa(v,t.name),Oa(T,t.name),Oa(b,t.name),Oa(x,t.name);const dt=new Rs({uid:C,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:$,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:Z,createdAt:b,lastLoginAt:x});return ut&&Array.isArray(ut)&&(dt.providerData=ut.map(yt=>({...yt}))),T&&(dt._redirectEventId=T),dt}static async _fromIdTokenResponse(t,n,a=!1){const l=new Jl;l.updateFromServerResponse(n);const h=new Rs({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Rf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];kt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?xb(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,v=new Jl;v.updateFromIdToken(a);const T=new Rs({uid:l.localId,auth:t,stsTokenManager:v,isAnonymous:p}),b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(T,b),T}}const aT=new Map;function Ur(s){Fr(s instanceof Function,"Expected a class definition");let t=aT.get(s);return t?(Fr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,aT.set(s,t),t)}class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Cb.type="NONE";const oT=Cb;function uf(s,t,n){return`firebase:${s}:${t}:${n}`}class $l{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=uf(this.userKey,l.apiKey,h),this.fullPersistenceKey=uf("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Sf(this.auth,{idToken:t}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,t):null}return Rs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new $l(Ur(oT),t,a);const l=(await Promise.all(n.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let h=l[0]||Ur(oT);const p=uf(a,t.config.apiKey,t.name);let v=null;for(const b of n)try{const x=await b._get(p);if(x){let C;if(typeof x=="string"){const V=await Sf(t,{idToken:x}).catch(()=>{});if(!V)break;C=await Rs._fromGetAccountInfoResponse(t,V,x)}else C=Rs._fromJSON(t,x);b!==h&&(v=C),h=b;break}}catch{}const T=l.filter(b=>b._shouldAllowMigration);return!h._shouldAllowMigration||!T.length?new $l(h,t,a):(h=T[0],v&&await h._set(p,v.toJSON()),await Promise.all(n.map(async b=>{if(b!==h)try{await b._remove(p)}catch{}})),new $l(h,t,a))}}function lT(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ib(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lb(t))return"Blackberry";if(Mb(t))return"Webos";if(Nb(t))return"Safari";if((t.includes("chrome/")||Ob(t))&&!t.includes("edge/"))return"Chrome";if(Db(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function Ib(s=qn()){return/firefox\//i.test(s)}function Nb(s=qn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ob(s=qn()){return/crios\//i.test(s)}function Pb(s=qn()){return/iemobile/i.test(s)}function Db(s=qn()){return/android/i.test(s)}function Lb(s=qn()){return/blackberry/i.test(s)}function Mb(s=qn()){return/webos/i.test(s)}function b_(s=qn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function OI(s=qn()){return b_(s)&&!!window.navigator?.standalone}function PI(){return xS()&&document.documentMode===10}function kb(s=qn()){return b_(s)||Db(s)||Mb(s)||Lb(s)||/windows phone/i.test(s)||Pb(s)}function Vb(s,t=[]){let n;switch(s){case"Browser":n=lT(qn());break;case"Worker":n=`${lT(qn())}-${s}`;break;default:n=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${a}`}class DI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,v)=>{try{const T=t(h);p(T)}catch(T){v(T)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function LI(s,t={}){return to(s,"GET","/v2/passwordPolicy",$a(s,t))}const MI=6;class kI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class VI{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new DI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Sf(this,{idToken:t}),a=await Rs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ki(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,v=await this.tryRedirectSignIn(t);(!h||h===p)&&v?.user&&(a=v.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ki(this.app))return Promise.reject(Br(this));const n=t?Qe(t):null;return n&&kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ki(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await LI(this),n=new kI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Cc("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await NI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ur(t)||this._popupRedirectResolver;kt(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(v,this,"internal-error"),v.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const T=t.addObserver(n,a,l);return()=>{p=!0,T()}}else{const T=t.addObserver(n);return()=>{p=!0,T()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function il(s){return Qe(s)}class uT{constructor(t){this.auth=t,this.observer=null,this.addObserver=MS(n=>this.observer=n)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(s){Jf=s}function zb(s){return Jf.loadJS(s)}function UI(){return Jf.recaptchaEnterpriseScript}function BI(){return Jf.gapiScript}function jI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new qI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class qI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const FI="recaptcha-enterprise",Ub="NO_RECAPTCHA";class GI{constructor(t){this.type=FI,this.auth=il(t)}async verify(t="verify",n=!1){async function a(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(p,v)=>{bI(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(T=>{if(T.recaptchaKey===void 0)v(new Error("recaptcha Enterprise site key undefined"));else{const b=new EI(T);return h.tenantId==null?h._agentRecaptchaConfig=b:h._tenantRecaptchaConfigs[h.tenantId]=b,p(b.siteKey)}}).catch(T=>{v(T)})})}function l(h,p,v){const T=window.grecaptcha;sT(T)?T.enterprise.ready(()=>{T.enterprise.execute(h,{action:t}).then(b=>{p(b)}).catch(()=>{p(Ub)})}):v(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((h,p)=>{a(this.auth).then(v=>{if(!n&&sT(window.grecaptcha))l(v,h,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let T=UI();T.length!==0&&(T+=v),zb(T).then(()=>{l(v,h,p)}).catch(b=>{p(b)})}}).catch(v=>{p(v)})})}}async function cT(s,t,n,a=!1,l=!1){const h=new GI(s);let p;if(l)p=Ub;else try{p=await h.verify(n)}catch{p=await h.verify(n,!0)}const v={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in v){const T=v.phoneEnrollmentInfo.phoneNumber,b=v.phoneEnrollmentInfo.recaptchaToken;Object.assign(v,{phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:b,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in v){const T=v.phoneSignInInfo.recaptchaToken;Object.assign(v,{phoneSignInInfo:{recaptchaToken:T,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return v}return a?Object.assign(v,{captchaResp:p}):Object.assign(v,{captchaResponse:p}),Object.assign(v,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(v,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),v}async function Op(s,t,n,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cT(s,t,n,n==="getOobCode");return a(s,h)}else return a(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await cT(s,t,n,n==="getOobCode");return a(s,p)}else return Promise.reject(h)})}function ZI(s,t){const n=Of(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Go(h,t??{}))return l;Cs(l,"already-initialized")}return n.initialize({options:t})}function KI(s,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ur);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function YI(s,t,n){const a=il(s);kt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=Bb(t),{host:p,port:v}=QI(t),T=v===null?"":`:${v}`,b={url:`${h}//${p}${T}/`},x=Object.freeze({host:p,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){kt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),kt(Go(b,a.config.emulator)&&Go(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=b,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Xa(p)?(Mp(`${h}//${p}${T}`),kp("Auth",!0)):XI()}function Bb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function QI(s){const t=Bb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:hT(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:hT(p)}}}function hT(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function XI(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class w_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(t){return zr("not implemented")}_linkToIdToken(t,n){return zr("not implemented")}_getReauthenticationResolver(t){return zr("not implemented")}}async function WI(s,t){return to(s,"POST","/v1/accounts:signUp",t)}async function JI(s,t){return Vc(s,"POST","/v1/accounts:signInWithPassword",$a(s,t))}async function $I(s,t){return Vc(s,"POST","/v1/accounts:signInWithEmailLink",$a(s,t))}async function t2(s,t){return Vc(s,"POST","/v1/accounts:signInWithEmailLink",$a(s,t))}class Rc extends w_{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Rc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Rc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(t,n,"signInWithPassword",JI);case"emailLink":return $I(t,{email:this._email,oobCode:this._password});default:Cs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(t,a,"signUpPassword",WI);case"emailLink":return t2(t,{idToken:n,email:this._email,oobCode:this._password});default:Cs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function tu(s,t){return Vc(s,"POST","/v1/accounts:signInWithIdp",$a(s,t))}const e2="http://localhost";class Xo extends w_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new Xo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return tu(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,tu(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,tu(t,n)}buildRequest(){const t={requestUri:e2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ic(n)}return t}}function n2(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i2(s){const t=nc(ic(s)).link,n=t?nc(ic(t)).deep_link_id:null,a=nc(ic(s)).deep_link_id;return(a?nc(ic(a)).link:null)||a||n||t||s}class A_{constructor(t){const n=nc(ic(t)),a=n.apiKey??null,l=n.oobCode??null,h=n2(n.mode??null);kt(a&&l&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=i2(t);try{return new A_(n)}catch{return null}}}class du{constructor(){this.providerId=du.PROVIDER_ID}static credential(t,n){return Rc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=A_.parseLink(n);return kt(a,"argument-error"),Rc._fromEmailAndCode(t,a.code,a.tenantId)}}du.PROVIDER_ID="password";du.EMAIL_PASSWORD_SIGN_IN_METHOD="password";du.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class zc extends jb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pa extends zc{constructor(){super("facebook.com")}static credential(t){return Xo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pa.credential(t.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";class Da extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xo._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Da.credential(n,a)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";class La extends zc{constructor(){super("github.com")}static credential(t){return Xo._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";class Ma extends zc{constructor(){super("twitter.com")}static credential(t,n){return Xo._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return Ma.credential(n,a)}catch{return null}}}Ma.TWITTER_SIGN_IN_METHOD="twitter.com";Ma.PROVIDER_ID="twitter.com";async function s2(s,t){return Vc(s,"POST","/v1/accounts:signUp",$a(s,t))}class Wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await Rs._fromIdTokenResponse(t,a,l),p=fT(a);return new Wo({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=fT(a);return new Wo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function fT(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class xf extends cr{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new xf(t,n,a,l)}}function Hb(s,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(s,h,t,a):h})}async function r2(s,t,n=!1){const a=await Sc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return Wo._forOperation(s,"link",a)}async function a2(s,t,n=!1){const{auth:a}=s;if(ki(a.app))return Promise.reject(Br(a));const l="reauthenticate";try{const h=await Sc(s,Hb(a,l,t,s),n);kt(h.idToken,a,"internal-error");const p=E_(h.idToken);kt(p,a,"internal-error");const{sub:v}=p;return kt(s.uid===v,a,"user-mismatch"),Wo._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),h}}async function qb(s,t,n=!1){if(ki(s.app))return Promise.reject(Br(s));const a="signIn",l=await Hb(s,a,t),h=await Wo._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(h.user),h}async function o2(s,t){return qb(il(s),t)}async function Fb(s){const t=il(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function l2(s,t,n){if(ki(s.app))return Promise.reject(Br(s));const a=il(s),p=await Op(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s2).catch(T=>{throw T.code==="auth/password-does-not-meet-requirements"&&Fb(s),T}),v=await Wo._fromIdTokenResponse(a,"signIn",p);return await a._updateCurrentUser(v.user),v}function u2(s,t,n){return ki(s.app)?Promise.reject(Br(s)):o2(Qe(s),du.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Fb(s),a})}function c2(s,t,n,a){return Qe(s).onIdTokenChanged(t,n,a)}function h2(s,t,n){return Qe(s).beforeAuthStateChanged(t,n)}function f2(s,t,n,a){return Qe(s).onAuthStateChanged(t,n,a)}const Cf="__sak";class Gb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cf,"1"),this.storage.removeItem(Cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const d2=1e3,m2=10;class Zb extends Gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,v,T)=>{this.notifyListeners(p,T)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);PI()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,m2):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},d2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Zb.type="LOCAL";const p2=Zb;class Kb extends Gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Kb.type="SESSION";const Yb=Kb;function _2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class $f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new $f(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const v=Array.from(p).map(async b=>b(n.origin,h)),T=await _2(v);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:T})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];function S_(s="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return s+n}class g2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((v,T)=>{const b=S_("",20);l.port1.start();const x=setTimeout(()=>{T(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(C){const V=C;if(V.data.eventId===b)switch(V.data.status){case"ack":clearTimeout(x),h=setTimeout(()=>{T(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(V.data.response);break;default:clearTimeout(x),clearTimeout(h),T(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:b,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}function lr(){return window}function y2(s){lr().location.href=s}function Qb(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function v2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T2(){return navigator?.serviceWorker?.controller||null}function E2(){return Qb()?self:null}const Xb="firebaseLocalStorageDb",b2=1,If="firebaseLocalStorage",Wb="fbase_key";class Uc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(s,t){return s.transaction([If],t?"readwrite":"readonly").objectStore(If)}function w2(){const s=indexedDB.deleteDatabase(Xb);return new Uc(s).toPromise()}function Pp(){const s=indexedDB.open(Xb,b2);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(If,{keyPath:Wb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(If)?t(a):(a.close(),await w2(),t(await Pp()))})})}async function dT(s,t,n){const a=td(s,!0).put({[Wb]:t,value:n});return new Uc(a).toPromise()}async function A2(s,t){const n=td(s,!1).get(t),a=await new Uc(n).toPromise();return a===void 0?null:a.value}function mT(s,t){const n=td(s,!0).delete(t);return new Uc(n).toPromise()}const S2=800,R2=3;class Jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>R2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(E2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await v2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||T2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pp();return await dT(t,Cf,"1"),await mT(t,Cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>dT(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>A2(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>mT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=td(l,!1).getAll();return new Uc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jb.type="LOCAL";const x2=Jb;new kc(3e4,6e4);function C2(s,t){return t?Ur(t):(kt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class R_ extends w_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return tu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return tu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return tu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function I2(s){return qb(s.auth,new R_(s),s.bypassAuthState)}function N2(s){const{auth:t,user:n}=s;return kt(n,t,"internal-error"),a2(n,new R_(s),s.bypassAuthState)}async function O2(s){const{auth:t,user:n}=s;return kt(n,t,"internal-error"),r2(n,new R_(s),s.bypassAuthState)}class $b{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:v}=t;if(p){this.reject(p);return}const T={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(T))}catch(b){this.reject(b)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return I2;case"linkViaPopup":case"linkViaRedirect":return O2;case"reauthViaPopup":case"reauthViaRedirect":return N2;default:Cs(this.auth,"internal-error")}}resolve(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const P2=new kc(2e3,1e4);class Ql extends $b{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return kt(t,this.auth,"internal-error"),t}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const t=S_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,P2.get())};t()}}Ql.currentPopupAction=null;const D2="pendingRedirect",cf=new Map;class L2 extends $b{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=cf.get(this.auth._key());if(!t){try{const a=await M2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}cf.set(this.auth._key(),t)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(s,t){const n=z2(t),a=V2(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function k2(s,t){cf.set(s._key(),t)}function V2(s){return Ur(s._redirectPersistence)}function z2(s){return uf(D2,s.config.apiKey,s.name)}async function U2(s,t,n=!1){if(ki(s.app))return Promise.reject(Br(s));const a=il(s),l=C2(a,t),p=await new L2(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}const B2=600*1e3;class j2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!H2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!tw(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(or(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(t))}saveEventToCache(t){this.cachedEventUids.add(pT(t)),this.lastProcessedEventTime=Date.now()}}function pT(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function tw({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function H2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tw(s);default:return!1}}async function q2(s,t={}){return to(s,"GET","/v1/projects",t)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function Z2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await q2(s);for(const n of t)try{if(K2(n))return}catch{}Cs(s,"unauthorized-domain")}function K2(s){const t=Ip(),{protocol:n,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const p=new URL(s);return p.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!G2.test(n))return!1;if(F2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Y2=new kc(3e4,6e4);function _T(){const s=lr().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Q2(s){return new Promise((t,n)=>{function a(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),n(or(s,"network-request-failed"))},timeout:Y2.get()})}if(lr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(lr().gapi?.load)a();else{const l=jI("iframefcb");return lr()[l]=()=>{gapi.load?a():n(or(s,"network-request-failed"))},zb(`${BI()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw hf=null,t})}let hf=null;function X2(s){return hf=hf||Q2(s),hf}const W2=new kc(5e3,15e3),J2="__/auth/iframe",$2="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nN(s){const t=s.config;kt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?T_(t,$2):`https://${s.config.authDomain}/${J2}`,a={apiKey:t.apiKey,appName:s.name,v:$o},l=eN.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${Ic(a).slice(1)}`}async function iN(s){const t=await X2(s),n=lr().gapi;return kt(n,s,"internal-error"),t.open({where:document.body,url:nN(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=or(s,"network-request-failed"),v=lr().setTimeout(()=>{h(p)},W2.get());function T(){lr().clearTimeout(v),l(a)}a.ping(T).then(T,()=>{h(p)})}))}const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rN=500,aN=600,oN="_blank",lN="http://localhost";class gT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uN(s,t,n,a=rN,l=aN){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const T={...sN,width:a.toString(),height:l.toString(),top:h,left:p},b=qn().toLowerCase();n&&(v=Ob(b)?oN:n),Ib(b)&&(t=t||lN,T.scrollbars="yes");const x=Object.entries(T).reduce((V,[$,ut])=>`${V}${$}=${ut},`,"");if(OI(b)&&v!=="_self")return cN(t||"",v),new gT(null);const C=window.open(t||"",v,x);kt(C,s,"popup-blocked");try{C.focus()}catch{}return new gT(C)}function cN(s,t){const n=document.createElement("a");n.href=s,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const hN="__/auth/handler",fN="emulator/auth/handler",dN=encodeURIComponent("fac");async function yT(s,t,n,a,l,h){kt(s.config.authDomain,s,"auth-domain-config-required"),kt(s.config.apiKey,s,"invalid-api-key");const p={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:$o,eventId:l};if(t instanceof jb){t.setDefaultLanguage(s.languageCode),p.providerId=t.providerId||"",LS(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[x,C]of Object.entries({}))p[x]=C}if(t instanceof zc){const x=t.getScopes().filter(C=>C!=="");x.length>0&&(p.scopes=x.join(","))}s.tenantId&&(p.tid=s.tenantId);const v=p;for(const x of Object.keys(v))v[x]===void 0&&delete v[x];const T=await s._getAppCheckToken(),b=T?`#${dN}=${encodeURIComponent(T)}`:"";return`${mN(s)}?${Ic(v).slice(1)}${b}`}function mN({config:s}){return s.emulator?T_(s,fN):`https://${s.authDomain}/${hN}`}const tp="webStorageSupport";class pN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yb,this._completeRedirectFn=U2,this._overrideRedirectResult=k2}async _openPopup(t,n,a,l){Fr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await yT(t,n,a,Ip(),l);return uN(t,h,S_())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await yT(t,n,a,Ip(),l);return y2(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(Fr(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await iN(t),a=new j2(t);return n.register("authEvent",l=>(kt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tp,{type:tp},l=>{const h=l?.[0]?.[tp];h!==void 0&&n(!!h),Cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||Nb()||b_()}}const _N=pN;var vT="@firebase/auth",TT="1.12.0";class gN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vN(s){Zo(new qa("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:v}=a.options;kt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const T={apiKey:p,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vb(s)},b=new VI(a,l,h,T);return KI(b,n),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Zo(new qa("auth-internal",t=>{const n=il(t.getProvider("auth").getImmediate());return(a=>new gN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(vT,TT,yN(s)),er(vT,TT,"esm2020")}const TN=300,EN=VT("authIdTokenMaxAge")||TN;let ET=null;const bN=s=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>EN)return;const l=n?.token;ET!==l&&(ET=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function wN(s=Up()){const t=Of(s,"auth");if(t.isInitialized())return t.getImmediate();const n=ZI(s,{popupRedirectResolver:_N,persistence:[x2,p2,Yb]}),a=VT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=bN(h.toString());h2(n,p,()=>p(n.currentUser)),c2(n,v=>p(v))}}const l=LT("auth");return l&&YI(n,`http://${l}`),n}function AN(){return document.getElementsByTagName("head")?.[0]??document}zI({loadJS(s){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=or("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",AN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vN("Browser");const ew="firebasestorage.googleapis.com",nw="storageBucket",SN=120*1e3,RN=600*1e3;class We extends cr{constructor(t,n,a=0){super(ep(t),`Firebase Storage: ${n} (${ep(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ep(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function ep(s){return"storage/"+s}function x_(){const s="An unknown error occurred, please check the error payload for server response.";return new We(Xe.UNKNOWN,s)}function xN(s){return new We(Xe.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function CN(s){return new We(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IN(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(Xe.UNAUTHENTICATED,s)}function NN(){return new We(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ON(s){return new We(Xe.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function PN(){return new We(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DN(){return new We(Xe.CANCELED,"User canceled the upload/download.")}function LN(s){return new We(Xe.INVALID_URL,"Invalid URL '"+s+"'.")}function MN(s){return new We(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function kN(){return new We(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nw+"' property when initializing the app?")}function VN(){return new We(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zN(){return new We(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UN(s){return new We(Xe.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dp(s){return new We(Xe.INVALID_ARGUMENT,s)}function iw(){return new We(Xe.APP_DELETED,"The Firebase app was deleted.")}function BN(s){return new We(Xe.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pc(s,t){return new We(Xe.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function ec(s){throw new We(Xe.INTERNAL_ERROR,"Internal error: "+s)}class zi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let a;try{a=zi.makeFromUrl(t,n)}catch{return new zi(t,"")}if(a.path==="")return a;throw MN(t)}static makeFromUrl(t,n){let a=null;const l="([A-Za-z0-9.\\-_]+)";function h(Mt){Mt.path.charAt(Mt.path.length-1)==="/"&&(Mt.path_=Mt.path_.slice(0,-1))}const p="(/(.*))?$",v=new RegExp("^gs://"+l+p,"i"),T={bucket:1,path:3};function b(Mt){Mt.path_=decodeURIComponent(Mt.path)}const x="v[A-Za-z0-9_]+",C=n.replace(/[.]/g,"\\."),V="(/([^?#]*).*)?$",$=new RegExp(`^https?://${C}/${x}/b/${l}/o${V}`,"i"),ut={bucket:1,path:3},nt=n===ew?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",dt=new RegExp(`^https?://${nt}/${l}/${Z}`,"i"),_t=[{regex:v,indices:T,postModify:h},{regex:$,indices:ut,postModify:b},{regex:dt,indices:{bucket:1,path:2},postModify:b}];for(let Mt=0;Mt<_t.length;Mt++){const Gt=_t[Mt],qt=Gt.regex.exec(t);if(qt){const z=qt[Gt.indices.bucket];let N=qt[Gt.indices.path];N||(N=""),a=new zi(z,N),Gt.postModify(a);break}}if(a==null)throw LN(t);return a}}class jN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function HN(s,t,n){let a=1,l=null,h=null,p=!1,v=0;function T(){return v===2}let b=!1;function x(...Z){b||(b=!0,t.apply(null,Z))}function C(Z){l=setTimeout(()=>{l=null,s($,T())},Z)}function V(){h&&clearTimeout(h)}function $(Z,...dt){if(b){V();return}if(Z){V(),x.call(null,Z,...dt);return}if(T()||p){V(),x.call(null,Z,...dt);return}a<64&&(a*=2);let _t;v===1?(v=2,_t=0):_t=(a+Math.random())*1e3,C(_t)}let ut=!1;function nt(Z){ut||(ut=!0,V(),!b&&(l!==null?(Z||(v=2),clearTimeout(l),C(0)):Z||(v=1)))}return C(0),h=setTimeout(()=>{p=!0,nt(!0)},n),nt}function qN(s){s(!1)}function FN(s){return s!==void 0}function GN(s){return typeof s=="object"&&!Array.isArray(s)}function C_(s){return typeof s=="string"||s instanceof String}function bT(s){return I_()&&s instanceof Blob}function I_(){return typeof Blob<"u"}function wT(s,t,n,a){if(a<t)throw Dp(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>n)throw Dp(`Invalid value for '${s}'. Expected ${n} or less.`)}function N_(s,t,n){let a=t;return n==null&&(a=`https://${t}`),`${n}://${a}/v0${s}`}function sw(s){const t=encodeURIComponent;let n="?";for(const a in s)if(s.hasOwnProperty(a)){const l=t(a)+"="+t(s[a]);n=n+l+"&"}return n=n.slice(0,-1),n}var Fo;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Fo||(Fo={}));function ZN(s,t){const n=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,h=t.indexOf(s)!==-1;return n||l||h}class KN{constructor(t,n,a,l,h,p,v,T,b,x,C,V=!0,$=!1){this.url_=t,this.method_=n,this.headers_=a,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=p,this.callback_=v,this.errorCallback_=T,this.timeout_=b,this.progressCallback_=x,this.connectionFactory_=C,this.retry=V,this.isUsingEmulator=$,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ut,nt)=>{this.resolve_=ut,this.reject_=nt,this.start_()})}start_(){const t=(a,l)=>{if(l){a(!1,new Jh(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const p=v=>{const T=v.loaded,b=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(T,b)};this.progressCallback_!==null&&h.addUploadProgressListener(p),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(p),this.pendingConnection_=null;const v=h.getErrorCode()===Fo.NO_ERROR,T=h.getStatus();if(!v||ZN(T,this.additionalRetryCodes_)&&this.retry){const x=h.getErrorCode()===Fo.ABORT;a(!1,new Jh(!1,null,x));return}const b=this.successCodes_.indexOf(T)!==-1;a(!0,new Jh(b,h))})},n=(a,l)=>{const h=this.resolve_,p=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const T=this.callback_(v,v.getResponse());FN(T)?h(T):h()}catch(T){p(T)}else if(v!==null){const T=x_();T.serverResponse=v.getErrorText(),this.errorCallback_?p(this.errorCallback_(v,T)):p(T)}else if(l.canceled){const T=this.appDelete_?iw():DN();p(T)}else{const T=PN();p(T)}};this.canceled_?n(!1,new Jh(!1,null,!0)):this.backoffId_=HN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jh{constructor(t,n,a){this.wasSuccessCode=t,this.connection=n,this.canceled=!!a}}function YN(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function QN(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function XN(s,t){t&&(s["X-Firebase-GMPID"]=t)}function WN(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function JN(s,t,n,a,l,h,p=!0,v=!1){const T=sw(s.urlParams),b=s.url+T,x=Object.assign({},s.headers);return XN(x,t),YN(x,n),QN(x,h),WN(x,a),new KN(b,s.method,x,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,p,v)}function $N(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tO(...s){const t=$N();if(t!==void 0){const n=new t;for(let a=0;a<s.length;a++)n.append(s[a]);return n.getBlob()}else{if(I_())return new Blob(s);throw new We(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eO(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}function nO(s){if(typeof atob>"u")throw UN("base-64");return atob(s)}const $s={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class np{constructor(t,n){this.data=t,this.contentType=n||null}}function iO(s,t){switch(s){case $s.RAW:return new np(rw(t));case $s.BASE64:case $s.BASE64URL:return new np(aw(s,t));case $s.DATA_URL:return new np(rO(t),aO(t))}throw x_()}function rw(s){const t=[];for(let n=0;n<s.length;n++){let a=s.charCodeAt(n);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const h=a,p=s.charCodeAt(++n);a=65536|(h&1023)<<10|p&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function sO(s){let t;try{t=decodeURIComponent(s)}catch{throw pc($s.DATA_URL,"Malformed data URL.")}return rw(t)}function aw(s,t){switch(s){case $s.BASE64:{const l=t.indexOf("-")!==-1,h=t.indexOf("_")!==-1;if(l||h)throw pc(s,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case $s.BASE64URL:{const l=t.indexOf("+")!==-1,h=t.indexOf("/")!==-1;if(l||h)throw pc(s,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nO(t)}catch(l){throw l.message.includes("polyfill")?l:pc(s,"Invalid character found")}const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}class ow{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw pc($s.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=oO(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function rO(s){const t=new ow(s);return t.base64?aw($s.BASE64,t.rest):sO(t.rest)}function aO(s){return new ow(s).contentType}function oO(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}class ka{constructor(t,n){let a=0,l="";bT(t)?(this.data_=t,a=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(bT(this.data_)){const a=this.data_,l=eO(a,t,n);return l===null?null:new ka(l)}else{const a=new Uint8Array(this.data_.buffer,t,n-t);return new ka(a,!0)}}static getBlob(...t){if(I_()){const n=t.map(a=>a instanceof ka?a.data_:a);return new ka(tO.apply(null,n))}else{const n=t.map(p=>C_(p)?iO($s.RAW,p).data:p.data_);let a=0;n.forEach(p=>{a+=p.byteLength});const l=new Uint8Array(a);let h=0;return n.forEach(p=>{for(let v=0;v<p.length;v++)l[h++]=p[v]}),new ka(l,!0)}}uploadData(){return this.data_}}function lw(s){let t;try{t=JSON.parse(s)}catch{return null}return GN(t)?t:null}function lO(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function uO(s,t){const n=t.split("/").filter(a=>a.length>0).join("/");return s.length===0?n:s+"/"+n}function uw(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}function cO(s,t){return t}class Wn{constructor(t,n,a,l){this.server=t,this.local=n||t,this.writable=!!a,this.xform=l||cO}}let $h=null;function hO(s){return!C_(s)||s.length<2?s:uw(s)}function cw(){if($h)return $h;const s=[];s.push(new Wn("bucket")),s.push(new Wn("generation")),s.push(new Wn("metageneration")),s.push(new Wn("name","fullPath",!0));function t(h,p){return hO(p)}const n=new Wn("name");n.xform=t,s.push(n);function a(h,p){return p!==void 0?Number(p):p}const l=new Wn("size");return l.xform=a,s.push(l),s.push(new Wn("timeCreated")),s.push(new Wn("updated")),s.push(new Wn("md5Hash",null,!0)),s.push(new Wn("cacheControl",null,!0)),s.push(new Wn("contentDisposition",null,!0)),s.push(new Wn("contentEncoding",null,!0)),s.push(new Wn("contentLanguage",null,!0)),s.push(new Wn("contentType",null,!0)),s.push(new Wn("metadata","customMetadata",!0)),$h=s,$h}function fO(s,t){function n(){const a=s.bucket,l=s.fullPath,h=new zi(a,l);return t._makeStorageReference(h)}Object.defineProperty(s,"ref",{get:n})}function dO(s,t,n){const a={};a.type="file";const l=n.length;for(let h=0;h<l;h++){const p=n[h];a[p.local]=p.xform(a,t[p.server])}return fO(a,s),a}function hw(s,t,n){const a=lw(t);return a===null?null:dO(s,a,n)}function mO(s,t,n,a){const l=lw(t);if(l===null||!C_(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const p=encodeURIComponent;return h.split(",").map(b=>{const x=s.bucket,C=s.fullPath,V="/b/"+p(x)+"/o/"+p(C),$=N_(V,n,a),ut=sw({alt:"media",token:b});return $+ut})[0]}function pO(s,t){const n={},a=t.length;for(let l=0;l<a;l++){const h=t[l];h.writable&&(n[h.server]=s[h.local])}return JSON.stringify(n)}class fw{constructor(t,n,a,l){this.url=t,this.method=n,this.handler=a,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function dw(s){if(!s)throw x_()}function _O(s,t){function n(a,l){const h=hw(s,l,t);return dw(h!==null),h}return n}function gO(s,t){function n(a,l){const h=hw(s,l,t);return dw(h!==null),mO(h,l,s.host,s._protocol)}return n}function mw(s){function t(n,a){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=NN():l=IN():n.getStatus()===402?l=CN(s.bucket):n.getStatus()===403?l=ON(s.path):l=a,l.status=n.getStatus(),l.serverResponse=a.serverResponse,l}return t}function yO(s){const t=mw(s);function n(a,l){let h=t(a,l);return a.getStatus()===404&&(h=xN(s.path)),h.serverResponse=l.serverResponse,h}return n}function vO(s,t,n){const a=t.fullServerUrl(),l=N_(a,s.host,s._protocol),h="GET",p=s.maxOperationRetryTime,v=new fw(l,h,gO(s,n),p);return v.errorHandler=yO(t),v}function TO(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function EO(s,t,n){const a=Object.assign({},n);return a.fullPath=s.path,a.size=t.size(),a.contentType||(a.contentType=TO(null,t)),a}function bO(s,t,n,a,l){const h=t.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function v(){let _t="";for(let Mt=0;Mt<2;Mt++)_t=_t+Math.random().toString().slice(2);return _t}const T=v();p["Content-Type"]="multipart/related; boundary="+T;const b=EO(t,a,l),x=pO(b,n),C="--"+T+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+T+`\r
Content-Type: `+b.contentType+`\r
\r
`,V=`\r
--`+T+"--",$=ka.getBlob(C,a,V);if($===null)throw VN();const ut={name:b.fullPath},nt=N_(h,s.host,s._protocol),Z="POST",dt=s.maxUploadRetryTime,yt=new fw(nt,Z,_O(s,n),dt);return yt.urlParams=ut,yt.headers=p,yt.body=$.uploadData(),yt.errorHandler=mw(t),yt}class wO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,a,l,h){if(this.sent_)throw ec("cannot .send() more than once");if(Xa(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),h!==void 0)for(const p in h)h.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,h[p].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class AO extends wO{initXhr(){this.xhr_.responseType="text"}}function pw(){return new AO}class Jo{constructor(t,n){this._service=t,n instanceof zi?this._location=n:this._location=zi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Jo(t,n)}get root(){const t=new zi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uw(this._location.path)}get storage(){return this._service}get parent(){const t=lO(this._location.path);if(t===null)return null;const n=new zi(this._location.bucket,t);return new Jo(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw BN(t)}}function SO(s,t,n){s._throwIfRoot("uploadBytes");const a=bO(s.storage,s._location,cw(),new ka(t,!0),n);return s.storage.makeRequestWithTokens(a,pw).then(l=>({metadata:l,ref:s}))}function RO(s){s._throwIfRoot("getDownloadURL");const t=vO(s.storage,s._location,cw());return s.storage.makeRequestWithTokens(t,pw).then(n=>{if(n===null)throw zN();return n})}function xO(s,t){const n=uO(s._location.path,t),a=new zi(s._location.bucket,n);return new Jo(s.storage,a)}function CO(s){return/^[A-Za-z]+:\/\//.test(s)}function IO(s,t){return new Jo(s,t)}function _w(s,t){if(s instanceof O_){const n=s;if(n._bucket==null)throw kN();const a=new Jo(n,n._bucket);return t!=null?_w(a,t):a}else return t!==void 0?xO(s,t):s}function NO(s,t){if(t&&CO(t)){if(s instanceof O_)return IO(s,t);throw Dp("To use ref(service, url), the first argument must be a Storage instance.")}else return _w(s,t)}function AT(s,t){const n=t?.[nw];return n==null?null:zi.makeFromBucketSpec(n,s)}function OO(s,t,n,a={}){s.host=`${t}:${n}`;const l=Xa(t);l&&(Mp(`https://${s.host}/b`),kp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:h}=a;h&&(s._overrideAuthToken=typeof h=="string"?h:zT(h,s.app.options.projectId))}class O_{constructor(t,n,a,l,h,p=!1){this.app=t,this._authProvider=n,this._appCheckProvider=a,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=p,this._bucket=null,this._host=ew,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SN,this._maxUploadRetryTime=RN,this._requests=new Set,l!=null?this._bucket=zi.makeFromBucketSpec(l,this._host):this._bucket=AT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=zi.makeFromBucketSpec(this._url,t):this._bucket=AT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jo(this,t)}_makeRequest(t,n,a,l,h=!0){if(this._deleted)return new jN(iw());{const p=JN(t,this._appId,a,l,n,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(t,n){const[a,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,a,l).getPromise()}}const ST="@firebase/storage",RT="0.14.0";const gw="storage";function PO(s,t,n){return s=Qe(s),SO(s,t,n)}function DO(s){return s=Qe(s),RO(s)}function LO(s,t){return s=Qe(s),NO(s,t)}function MO(s=Up(),t){s=Qe(s);const a=Of(s,gw).getImmediate({identifier:t}),l=MT("storage");return l&&kO(a,...l),a}function kO(s,t,n,a={}){OO(s,t,n,a)}function VO(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new O_(n,a,l,t,$o)}function zO(){Zo(new qa(gw,VO,"PUBLIC").setMultipleInstances(!0)),er(ST,RT,""),er(ST,RT,"esm2020")}zO();const UO={apiKey:"AIzaSyCePsad6CJ95B2JZHxCkvAApW3adPkSjX0",authDomain:"urbanpulse-f8def.firebaseapp.com",projectId:"urbanpulse-f8def",storageBucket:"urbanpulse-f8def.appspot.com",messagingSenderId:"981556499502",appId:"1:981556499502:web:4eeb4041fb8774b9a5fbbf"},P_=jT(UO),tr=KC(P_),xc=wN(P_),BO=MO(P_),jO=({isOpen:s,onClose:t})=>{const[n,a]=It.useState(!1),[l,h]=It.useState(!1),[p,v]=It.useState(null),[T,b]=It.useState(null),[x,C]=It.useState({title:"",category:"Roads",description:"",imageUrl:"",location:null}),V=()=>{h(!0),navigator.geolocation.getCurrentPosition(nt=>{C({...x,location:{lat:nt.coords.latitude,lng:nt.coords.longitude}}),h(!1)},nt=>{console.error(nt),h(!1),alert("Could not get location. Please enable GPS.")})},$=nt=>{const Z=nt.target.files[0];if(Z){b(Z);const dt=URL.createObjectURL(Z);v(dt)}},ut=async nt=>{nt.preventDefault(),a(!0);try{let Z="";if(T){const dt=new FormData;dt.append("file",T),dt.append("upload_preset","urbanpulse");const yt=await fetch("https://api.cloudinary.com/v1_1/dx97l3k4d/image/upload",{method:"POST",body:dt});if(!yt.ok)throw new Error("Cloudinary upload failed");Z=(await yt.json())?.secure_url||""}await lI(Rp(tr,"reports"),{title:x.title,category:x.category,description:x.description,imageUrl:Z,location:x.location,userId:xc.currentUser.uid,status:"pending",createdAt:Cp()}),C({title:"",category:"Roads",description:"",imageUrl:"",location:null}),v(null),b(null),t()}catch(Z){console.error("The actual error is:",Z),alert("Upload failed! See the browser console (F12) for the real error.")}finally{a(!1)}};return s?P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4 overflow-y-auto",children:P.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[48px] p-8 md:p-12 shadow-2xl relative my-auto animate-in zoom-in-95 duration-300",children:[P.jsx("button",{onClick:t,className:"absolute top-8 right-8 text-slate-400 hover:text-slate-900 bg-slate-100 p-2 rounded-full transition-colors",children:P.jsx(cS,{size:20})}),P.jsxs("div",{className:"mb-10",children:[P.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:"Report Issue"}),P.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"Help optimize our urban grid."})]}),P.jsxs("form",{onSubmit:ut,className:"space-y-8",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),P.jsx("input",{required:!0,className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Issue name...",value:x.title,onChange:nt=>C({...x,title:nt.target.value})})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Category"}),P.jsxs("select",{className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner appearance-none",value:x.category,onChange:nt=>C({...x,category:nt.target.value}),children:[P.jsx("option",{children:"Roads"}),P.jsx("option",{children:"Sanitation"}),P.jsx("option",{children:"Utilities"}),P.jsx("option",{children:"Vandalism"})]})]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),P.jsx("textarea",{required:!0,rows:"3",className:"w-full bg-slate-50 border-2 border-transparent focus:border-indigo-500 rounded-3xl p-5 outline-none transition-all font-bold text-slate-900 shadow-inner",placeholder:"Provide details...",value:x.description,onChange:nt=>C({...x,description:nt.target.value})})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.jsxs("div",{className:"relative group",children:[P.jsx("input",{type:"file",accept:"image/*",onChange:$,className:"hidden",id:"image-upload"}),P.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-[32px] cursor-pointer hover:border-indigo-400 hover:bg-indigo-50 transition-all overflow-hidden",children:p?P.jsx("img",{src:p,className:"w-full h-full object-cover",alt:"Preview"}):P.jsxs(P.Fragment,{children:[P.jsx(eS,{className:"text-slate-400 mb-2"}),P.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Attach Photo"})]})})]}),P.jsx("button",{type:"button",onClick:V,className:`flex flex-col items-center justify-center w-full h-32 rounded-[32px] transition-all border-2 ${x.location?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-slate-50 border-slate-100 text-slate-500 hover:border-indigo-400"}`,children:l?P.jsx(Hv,{className:"animate-spin"}):x.location?P.jsxs(P.Fragment,{children:[P.jsx(iS,{className:"mb-2"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pinned"})]}):P.jsxs(P.Fragment,{children:[P.jsx(aS,{className:"mb-2"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pin Location"})]})})]}),P.jsxs("button",{type:"submit",disabled:n,className:"w-full bg-slate-900 text-white p-6 rounded-[32px] font-black text-xl shadow-2xl shadow-slate-200 hover:bg-indigo-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:translate-y-0",children:[n?P.jsx(Hv,{className:"animate-spin"}):P.jsx(lS,{size:24}),n?"UPLOADING...":"SUBMIT DATA"]})]})]})}):null},HO=({onOpenModal:s,reports:t})=>{const[n,a]=It.useState(null),[l,h]=It.useState({title:"",description:"",category:""}),p=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-emerald-100 text-emerald-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=async C=>{if(window.confirm("Are you sure you want to delete this report?"))try{await Tb(za(tr,"reports",C))}catch(V){console.error("Error deleting report:",V),alert("Failed to delete report. Please try again.")}},T=C=>{a(C.id),h({title:C.title,description:C.description,category:C.category})},b=async()=>{try{const C=za(tr,"reports",n);await of(C,{title:l.title,description:l.description,category:l.category,updatedAt:new Date}),a(null)}catch(C){console.error("Error updating report:",C),alert("Failed to update report. Please try again.")}},x=()=>{a(null),h({title:"",description:"",category:""})};return P.jsxs("div",{className:"min-h-screen bg-slate-50",children:[t.length===0?P.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[P.jsxs("h2",{className:"text-4xl md:text-6xl font-black uppercase text-center mb-8",children:["Optimize Your ",P.jsx("span",{className:"text-indigo-600 italic",children:"Grid."})]}),P.jsx("button",{onClick:s,className:"animate-glow bg-indigo-600 text-white px-12 py-5 rounded-[32px] text-xl font-bold",children:"+ GET STARTED"})]}):P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4 md:px-8 mb-20",children:t.map(C=>P.jsxs("div",{className:`bg-white rounded-[32px] overflow-hidden shadow-lg border-2 transition-all hover:shadow-2xl group relative ${C.status==="resolved"?"bg-emerald-50 border-emerald-200":"border-slate-100"}`,children:[C.status==="pending"&&P.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[P.jsx("button",{onClick:()=>T(C),className:"p-2 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200 transition-colors",title:"Edit Report",children:""}),P.jsx("button",{onClick:()=>v(C.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",title:"Delete Report",children:""})]}),P.jsx("div",{className:"h-40 md:h-48 bg-slate-200",children:C.imageUrl?P.jsx("img",{src:C.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),P.jsxs("div",{className:"p-6",children:[P.jsxs("div",{className:"flex justify-between items-start mb-4",children:[P.jsx("h4",{className:"font-bold text-xl",children:C.title}),P.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-black uppercase ${p(C.status)}`,children:C.status?.toUpperCase()||"PENDING"})]}),P.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:C.description}),C.adminUpdate&&P.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-2xl border-l-4 border-indigo-500 animate-slide-up",children:[P.jsx("p",{className:"text-xs font-black text-indigo-600 uppercase mb-1",children:"Official Admin Response:"}),P.jsxs("p",{className:"text-slate-700 italic",children:['"',C.adminUpdate,'"']})]}),C.status==="resolved"&&C.adminResolutionNote&&P.jsxs("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-200 rounded-2xl animate-fade-in resolved-card",children:[P.jsx("h5",{className:"text-emerald-700 font-bold text-xs uppercase",children:"Resolution Complete:"}),P.jsxs("p",{className:"text-emerald-900 text-sm mt-1 italic",children:['"',C.adminResolutionNote,'"']}),C.resolutionImageUrl&&P.jsx("img",{src:C.resolutionImageUrl,className:"w-full h-32 object-cover rounded-xl mt-3",alt:"Resolution proof"})]})]})]},C.id))}),n&&P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white w-full max-w-md rounded-[32px] p-6 shadow-2xl",children:[P.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Report"}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("input",{type:"text",value:l.title,onChange:C=>h({...l,title:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",placeholder:"Title"}),P.jsxs("select",{value:l.category,onChange:C=>h({...l,category:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",children:[P.jsx("option",{children:"Roads"}),P.jsx("option",{children:"Sanitation"}),P.jsx("option",{children:"Utilities"}),P.jsx("option",{children:"Vandalism"})]}),P.jsx("textarea",{value:l.description,onChange:C=>h({...l,description:C.target.value}),className:"w-full p-3 border border-slate-200 rounded-xl",rows:"3",placeholder:"Description"})]}),P.jsxs("div",{className:"flex gap-3 mt-6",children:[P.jsx("button",{onClick:b,className:"flex-1 bg-indigo-600 text-white py-3 rounded-xl font-bold",children:"Save"}),P.jsx("button",{onClick:x,className:"flex-1 bg-slate-200 text-slate-700 py-3 rounded-xl font-bold",children:"Cancel"})]})]})})]}),P.jsx("footer",{className:"w-full py-16 px-10 bg-slate-900 text-white mt-20 rounded-t-[50px]",children:P.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12",children:[P.jsxs("div",{className:"animate-reveal",children:[P.jsx("h3",{className:"text-3xl font-black italic uppercase text-indigo-500 mb-4",children:"UrbanPulse"}),P.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"The next generation of urban logistics. Bridging the gap between citizens and administrators."})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"Connect"}),P.jsx("p",{className:"text-slate-300",children:" support@urbanpulse.ai"}),P.jsx("p",{className:"text-slate-300",children:" +91 40 2988 7766"})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-xs font-black uppercase tracking-widest text-slate-500",children:"HQ Address"}),P.jsxs("p",{className:"text-slate-300",children:["Level 7, T-Hub Phase 2,",P.jsx("br",{}),"Madhapur, Hyderabad,",P.jsx("br",{}),"Telangana 500081"]})]})]})})]})};function yw(s,t){const n=It.useRef(t);It.useEffect(function(){t!==n.current&&s.attributionControl!=null&&(n.current!=null&&s.attributionControl.removeAttribution(n.current),t!=null&&s.attributionControl.addAttribution(t)),n.current=t},[s,t])}var qO=IT();const FO=1;function GO(s){return Object.freeze({__version:FO,map:s})}function ZO(s,t){return Object.freeze({...s,...t})}const D_=It.createContext(null);function vw(){const s=It.use(D_);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function KO(s){function t(n,a){const{instance:l,context:h}=s(n).current;It.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:ip.createElement(D_,{value:h},p)}return It.forwardRef(t)}function YO(s){function t(n,a){const[l,h]=It.useState(!1),{instance:p}=s(n,h).current;It.useImperativeHandle(a,()=>p),It.useEffect(function(){l&&p.update()},[p,l,n.children]);const v=p._contentNode;return v?qO.createPortal(n.children,v):null}return It.forwardRef(t)}function QO(s){function t(n,a){const{instance:l}=s(n).current;return It.useImperativeHandle(a,()=>l),null}return It.forwardRef(t)}function Tw(s,t){const n=It.useRef(void 0);It.useEffect(function(){return t!=null&&s.instance.on(t),n.current=t,function(){n.current!=null&&s.instance.off(n.current),n.current=null}},[s,t])}function L_(s,t){const n=s.pane??t.pane;return n?{...s,pane:n}:s}function XO(s,t){return function(a,l){const h=vw(),p=s(L_(a,h),h);return yw(h.map,a.attribution),Tw(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var lc={exports:{}};var WO=lc.exports,xT;function JO(){return xT||(xT=1,(function(s,t){(function(n,a){a(t)})(WO,(function(n){var a="1.9.4";function l(r){var u,d,g,E;for(d=1,g=arguments.length;d<g;d++){E=arguments[d];for(u in E)r[u]=E[u]}return r}var h=Object.create||(function(){function r(){}return function(u){return r.prototype=u,new r}})();function p(r,u){var d=Array.prototype.slice;if(r.bind)return r.bind.apply(r,d.call(arguments,1));var g=d.call(arguments,2);return function(){return r.apply(u,g.length?g.concat(d.call(arguments)):arguments)}}var v=0;function T(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function b(r,u,d){var g,E,S,O;return O=function(){g=!1,E&&(S.apply(d,E),E=!1)},S=function(){g?E=arguments:(r.apply(d,arguments),setTimeout(O,u),g=!0)},S}function x(r,u,d){var g=u[1],E=u[0],S=g-E;return r===g&&d?r:((r-E)%S+S)%S+E}function C(){return!1}function V(r,u){if(u===!1)return r;var d=Math.pow(10,u===void 0?6:u);return Math.round(r*d)/d}function $(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function ut(r){return $(r).split(/\s+/)}function nt(r,u){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var d in u)r.options[d]=u[d];return r.options}function Z(r,u,d){var g=[];for(var E in r)g.push(encodeURIComponent(d?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!u||u.indexOf("?")===-1?"?":"&")+g.join("&")}var dt=/\{ *([\w_ -]+) *\}/g;function yt(r,u){return r.replace(dt,function(d,g){var E=u[g];if(E===void 0)throw new Error("No value provided for variable "+d);return typeof E=="function"&&(E=E(u)),E})}var _t=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Mt(r,u){for(var d=0;d<r.length;d++)if(r[d]===u)return d;return-1}var Gt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function qt(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function N(r){var u=+new Date,d=Math.max(0,16-(u-z));return z=u+d,window.setTimeout(r,d)}var M=window.requestAnimationFrame||qt("RequestAnimationFrame")||N,H=window.cancelAnimationFrame||qt("CancelAnimationFrame")||qt("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function B(r,u,d){if(d&&M===N)r.call(u);else return M.call(window,p(r,u))}function q(r){r&&H.call(window,r)}var D={__proto__:null,extend:l,create:h,bind:p,get lastId(){return v},stamp:T,throttle:b,wrapNum:x,falseFn:C,formatNum:V,trim:$,splitWords:ut,setOptions:nt,getParamString:Z,template:yt,isArray:_t,indexOf:Mt,emptyImageUrl:Gt,requestFn:M,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:q};function oe(){}oe.extend=function(r){var u=function(){nt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,g=h(d);g.constructor=u,u.prototype=g;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(u[E]=this[E]);return r.statics&&l(u,r.statics),r.includes&&(Je(r.includes),l.apply(null,[g].concat(r.includes))),l(g,r),delete g.statics,delete g.includes,g.options&&(g.options=d.options?h(d.options):{},l(g.options,r.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,O=g._initHooks.length;S<O;S++)g._initHooks[S].call(this)}},u},oe.include=function(r){var u=this.prototype.options;return l(this.prototype,r),r.options&&(this.prototype.options=u,this.mergeOptions(r.options)),this},oe.mergeOptions=function(r){return l(this.prototype.options,r),this},oe.addInitHook=function(r){var u=Array.prototype.slice.call(arguments,1),d=typeof r=="function"?r:function(){this[r].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Je(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=_t(r)?r:[r];for(var u=0;u<r.length;u++)r[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var et={on:function(r,u,d){if(typeof r=="object")for(var g in r)this._on(g,r[g],u);else{r=ut(r);for(var E=0,S=r.length;E<S;E++)this._on(r[E],u,d)}return this},off:function(r,u,d){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var g in r)this._off(g,r[g],u);else{r=ut(r);for(var E=arguments.length===1,S=0,O=r.length;S<O;S++)E?this._off(r[S]):this._off(r[S],u,d)}return this},_on:function(r,u,d,g){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(r,u,d)===!1){d===this&&(d=void 0);var E={fn:u,ctx:d};g&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,u,d){var g,E,S;if(this._events&&(g=this._events[r],!!g)){if(arguments.length===1){if(this._firingCount)for(E=0,S=g.length;E<S;E++)g[E].fn=C;delete this._events[r];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var O=this._listens(r,u,d);if(O!==!1){var G=g[O];this._firingCount&&(G.fn=C,this._events[r]=g=g.slice()),g.splice(O,1)}}},fire:function(r,u,d){if(!this.listens(r,d))return this;var g=l({},u,{type:r,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var S=0,O=E.length;S<O;S++){var G=E[S],X=G.fn;G.once&&this.off(r,X,G.ctx),X.call(G.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(r,u,d,g){typeof r!="string"&&console.warn('"string" type argument expected');var E=u;typeof u!="function"&&(g=!!u,E=void 0,d=void 0);var S=this._events&&this._events[r];if(S&&S.length&&this._listens(r,E,d)!==!1)return!0;if(g){for(var O in this._eventParents)if(this._eventParents[O].listens(r,u,d,g))return!0}return!1},_listens:function(r,u,d){if(!this._events)return!1;var g=this._events[r]||[];if(!u)return!!g.length;d===this&&(d=void 0);for(var E=0,S=g.length;E<S;E++)if(g[E].fn===u&&g[E].ctx===d)return E;return!1},once:function(r,u,d){if(typeof r=="object")for(var g in r)this._on(g,r[g],u,!0);else{r=ut(r);for(var E=0,S=r.length;E<S;E++)this._on(r[E],u,d,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[T(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[T(r)],this},_propagateEvent:function(r){for(var u in this._eventParents)this._eventParents[u].fire(r.type,l({layer:r.target,propagatedFrom:r.target},r),!0)}};et.addEventListener=et.on,et.removeEventListener=et.clearAllEventListeners=et.off,et.addOneTimeEventListener=et.once,et.fireEvent=et.fire,et.hasEventListeners=et.listens;var gt=oe.extend(et);function ht(r,u,d){this.x=d?Math.round(r):r,this.y=d?Math.round(u):u}var te=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};ht.prototype={clone:function(){return new ht(this.x,this.y)},add:function(r){return this.clone()._add(bt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(bt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new ht(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new ht(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(r){r=bt(r);var u=r.x-this.x,d=r.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(r){return r=bt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=bt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function bt(r,u,d){return r instanceof ht?r:_t(r)?new ht(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new ht(r.x,r.y):new ht(r,u,d)}function U(r,u){if(r)for(var d=u?[r,u]:r,g=0,E=d.length;g<E;g++)this.extend(d[g])}U.prototype={extend:function(r){var u,d;if(!r)return this;if(r instanceof ht||typeof r[0]=="number"||"x"in r)u=d=bt(r);else if(r=it(r),u=r.min,d=r.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(r){return bt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return bt(this.min.x,this.max.y)},getTopRight:function(){return bt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var u,d;return typeof r[0]=="number"||r instanceof ht?r=bt(r):r=it(r),r instanceof U?(u=r.min,d=r.max):u=d=r,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(r){r=it(r);var u=this.min,d=this.max,g=r.min,E=r.max,S=E.x>=u.x&&g.x<=d.x,O=E.y>=u.y&&g.y<=d.y;return S&&O},overlaps:function(r){r=it(r);var u=this.min,d=this.max,g=r.min,E=r.max,S=E.x>u.x&&g.x<d.x,O=E.y>u.y&&g.y<d.y;return S&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var u=this.min,d=this.max,g=Math.abs(u.x-d.x)*r,E=Math.abs(u.y-d.y)*r;return it(bt(u.x-g,u.y-E),bt(d.x+g,d.y+E))},equals:function(r){return r?(r=it(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function it(r,u){return!r||r instanceof U?r:new U(r,u)}function ft(r,u){if(r)for(var d=u?[r,u]:r,g=0,E=d.length;g<E;g++)this.extend(d[g])}ft.prototype={extend:function(r){var u=this._southWest,d=this._northEast,g,E;if(r instanceof Et)g=r,E=r;else if(r instanceof ft){if(g=r._southWest,E=r._northEast,!g||!E)return this}else return r?this.extend(Tt(r)||mt(r)):this;return!u&&!d?(this._southWest=new Et(g.lat,g.lng),this._northEast=new Et(E.lat,E.lng)):(u.lat=Math.min(g.lat,u.lat),u.lng=Math.min(g.lng,u.lng),d.lat=Math.max(E.lat,d.lat),d.lng=Math.max(E.lng,d.lng)),this},pad:function(r){var u=this._southWest,d=this._northEast,g=Math.abs(u.lat-d.lat)*r,E=Math.abs(u.lng-d.lng)*r;return new ft(new Et(u.lat-g,u.lng-E),new Et(d.lat+g,d.lng+E))},getCenter:function(){return new Et((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Et(this.getNorth(),this.getWest())},getSouthEast:function(){return new Et(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Et||"lat"in r?r=Tt(r):r=mt(r);var u=this._southWest,d=this._northEast,g,E;return r instanceof ft?(g=r.getSouthWest(),E=r.getNorthEast()):g=E=r,g.lat>=u.lat&&E.lat<=d.lat&&g.lng>=u.lng&&E.lng<=d.lng},intersects:function(r){r=mt(r);var u=this._southWest,d=this._northEast,g=r.getSouthWest(),E=r.getNorthEast(),S=E.lat>=u.lat&&g.lat<=d.lat,O=E.lng>=u.lng&&g.lng<=d.lng;return S&&O},overlaps:function(r){r=mt(r);var u=this._southWest,d=this._northEast,g=r.getSouthWest(),E=r.getNorthEast(),S=E.lat>u.lat&&g.lat<d.lat,O=E.lng>u.lng&&g.lng<d.lng;return S&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,u){return r?(r=mt(r),this._southWest.equals(r.getSouthWest(),u)&&this._northEast.equals(r.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function mt(r,u){return r instanceof ft?r:new ft(r,u)}function Et(r,u,d){if(isNaN(r)||isNaN(u))throw new Error("Invalid LatLng object: ("+r+", "+u+")");this.lat=+r,this.lng=+u,d!==void 0&&(this.alt=+d)}Et.prototype={equals:function(r,u){if(!r)return!1;r=Tt(r);var d=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return d<=(u===void 0?1e-9:u)},toString:function(r){return"LatLng("+V(this.lat,r)+", "+V(this.lng,r)+")"},distanceTo:function(r){return be.distance(this,Tt(r))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(r){var u=180*r/40075017,d=u/Math.cos(Math.PI/180*this.lat);return mt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new Et(this.lat,this.lng,this.alt)}};function Tt(r,u,d){return r instanceof Et?r:_t(r)&&typeof r[0]!="object"?r.length===3?new Et(r[0],r[1],r[2]):r.length===2?new Et(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Et(r.lat,"lng"in r?r.lng:r.lon,r.alt):u===void 0?null:new Et(r,u,d)}var Bt={latLngToPoint:function(r,u){var d=this.projection.project(r),g=this.scale(u);return this.transformation._transform(d,g)},pointToLatLng:function(r,u){var d=this.scale(u),g=this.transformation.untransform(r,d);return this.projection.unproject(g)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(r),g=this.transformation.transform(u.min,d),E=this.transformation.transform(u.max,d);return new U(g,E)},infinite:!1,wrapLatLng:function(r){var u=this.wrapLng?x(r.lng,this.wrapLng,!0):r.lng,d=this.wrapLat?x(r.lat,this.wrapLat,!0):r.lat,g=r.alt;return new Et(d,u,g)},wrapLatLngBounds:function(r){var u=r.getCenter(),d=this.wrapLatLng(u),g=u.lat-d.lat,E=u.lng-d.lng;if(g===0&&E===0)return r;var S=r.getSouthWest(),O=r.getNorthEast(),G=new Et(S.lat-g,S.lng-E),X=new Et(O.lat-g,O.lng-E);return new ft(G,X)}},be=l({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(r,u){var d=Math.PI/180,g=r.lat*d,E=u.lat*d,S=Math.sin((u.lat-r.lat)*d/2),O=Math.sin((u.lng-r.lng)*d/2),G=S*S+Math.cos(g)*Math.cos(E)*O*O,X=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*X}}),Re=6378137,us={R:Re,MAX_LATITUDE:85.0511287798,project:function(r){var u=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,r.lat),-d),E=Math.sin(g*u);return new ht(this.R*r.lng*u,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var u=180/Math.PI;return new Et((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*u,r.x*u/this.R)},bounds:(function(){var r=Re*Math.PI;return new U([-r,-r],[r,r])})()};function Is(r,u,d,g){if(_t(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=u,this._c=d,this._d=g}Is.prototype={transform:function(r,u){return this._transform(r.clone(),u)},_transform:function(r,u){return u=u||1,r.x=u*(this._a*r.x+this._b),r.y=u*(this._c*r.y+this._d),r},untransform:function(r,u){return u=u||1,new ht((r.x/u-this._b)/this._a,(r.y/u-this._d)/this._c)}};function Ui(r,u,d,g){return new Is(r,u,d,g)}var Ns=l({},be,{code:"EPSG:3857",projection:us,transformation:(function(){var r=.5/(Math.PI*us.R);return Ui(r,.5,-r,.5)})()}),Bi=l({},Ns,{code:"EPSG:900913"});function Gr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Os(r,u){var d="",g,E,S,O,G,X;for(g=0,S=r.length;g<S;g++){for(G=r[g],E=0,O=G.length;E<O;E++)X=G[E],d+=(E?"L":"M")+X.x+" "+X.y;d+=u?Rt.svg?"z":"x":""}return d||"M0 0"}var hr=document.documentElement.style,Ps="ActiveXObject"in window,He=Ps&&!document.addEventListener,qe="msLaunchUri"in navigator&&!("documentMode"in document),ji=gn("webkit"),sl=gn("android"),eo=gn("android 2")||gn("android 3"),Rn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),fr=sl&&gn("Google")&&Rn<537&&!("AudioNode"in window),dr=!!window.opera,Zr=!qe&&gn("chrome"),cs=gn("gecko")&&!ji&&!dr&&!Ps,mu=!Zr&&gn("safari"),no=gn("phantom"),io="OTransition"in hr,rl=navigator.platform.indexOf("Win")===0,Jn=Ps&&"transition"in hr,$e="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!eo,Fn="MozPerspective"in hr,Ve=!window.L_DISABLE_3D&&(Jn||$e||Fn)&&!io&&!no,Ds=typeof orientation<"u"||gn("mobile"),Kr=Ds&&ji,al=Ds&&$e,yi=!window.PointerEvent&&window.MSPointerEvent,Ls=!!(window.PointerEvent||yi),ze="ontouchstart"in window||!!window.TouchEvent,Hi=!window.L_NO_TOUCH&&(ze||Ls),qi=Ds&&dr,vi=Ds&&cs,pu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ol=(function(){var r=!1;try{var u=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return r})(),Fi=(function(){return!!document.createElement("canvas").getContext})(),hs=!!(document.createElementNS&&Gr("svg").createSVGRect),_u=!!hs&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),mr=!hs&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var u=r.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),so=navigator.platform.indexOf("Mac")===0,ro=navigator.platform.indexOf("Linux")===0;function gn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Rt={ie:Ps,ielt9:He,edge:qe,webkit:ji,android:sl,android23:eo,androidStock:fr,opera:dr,chrome:Zr,gecko:cs,safari:mu,phantom:no,opera12:io,win:rl,ie3d:Jn,webkit3d:$e,gecko3d:Fn,any3d:Ve,mobile:Ds,mobileWebkit:Kr,mobileWebkit3d:al,msPointer:yi,pointer:Ls,touch:Hi,touchNative:ze,mobileOpera:qi,mobileGecko:vi,retina:pu,passiveEvents:ol,canvas:Fi,svg:hs,vml:mr,inlineSvg:_u,mac:so,linux:ro},ao=Rt.msPointer?"MSPointerDown":"pointerdown",$n=Rt.msPointer?"MSPointerMove":"pointermove",ti=Rt.msPointer?"MSPointerUp":"pointerup",Ue=Rt.msPointer?"MSPointerCancel":"pointercancel",Fe={touchstart:ao,touchmove:$n,touchend:ti,touchcancel:Ue},Ti={touchstart:Zi,touchmove:yn,touchend:yn,touchcancel:yn},Ei={},ll=!1;function ul(r,u,d){return u==="touchstart"&&ei(),Ti[u]?(d=Ti[u].bind(this,d),r.addEventListener(Fe[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function cl(r,u,d){if(!Fe[u]){console.warn("wrong event specified:",u);return}r.removeEventListener(Fe[u],d,!1)}function Gi(r){Ei[r.pointerId]=r}function Yr(r){Ei[r.pointerId]&&(Ei[r.pointerId]=r)}function bi(r){delete Ei[r.pointerId]}function ei(){ll||(document.addEventListener(ao,Gi,!0),document.addEventListener($n,Yr,!0),document.addEventListener(ti,bi,!0),document.addEventListener(Ue,bi,!0),ll=!0)}function yn(r,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Ei)u.touches.push(Ei[d]);u.changedTouches=[u],r(u)}}function Zi(r,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&De(u),yn(r,u)}function Ge(r){var u={},d,g;for(g in r)d=r[g],u[g]=d&&d.bind?d.bind(r):d;return r=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var oo=200;function lo(r,u){r.addEventListener("dblclick",u);var d=0,g;function E(S){if(S.detail!==1){g=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var O=Us(S);if(!(O.some(function(X){return X instanceof HTMLLabelElement&&X.attributes.for})&&!O.some(function(X){return X instanceof HTMLInputElement||X instanceof HTMLSelectElement}))){var G=Date.now();G-d<=oo?(g++,g===2&&u(Ge(S))):g=1,d=G}}}return r.addEventListener("click",E),{dblclick:u,simDblclick:E}}function Ki(r,u){r.removeEventListener("dblclick",u.dblclick),r.removeEventListener("click",u.simDblclick)}var ni=_r(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fs=_r(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qr=fs==="webkitTransition"||fs==="OTransition"?fs+"End":"transitionend";function Xr(r){return typeof r=="string"?document.getElementById(r):r}function Ms(r,u){var d=r.style[u]||r.currentStyle&&r.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(r,null);d=g?g[u]:null}return d==="auto"?null:d}function Qt(r,u,d){var g=document.createElement(r);return g.className=u||"",d&&d.appendChild(g),g}function Xt(r){var u=r.parentNode;u&&u.removeChild(r)}function Oe(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Pe(r){var u=r.parentNode;u&&u.lastChild!==r&&u.appendChild(r)}function Gn(r){var u=r.parentNode;u&&u.firstChild!==r&&u.insertBefore(r,u.firstChild)}function pr(r,u){if(r.classList!==void 0)return r.classList.contains(u);var d=Yi(r);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function wt(r,u){if(r.classList!==void 0)for(var d=ut(u),g=0,E=d.length;g<E;g++)r.classList.add(d[g]);else if(!pr(r,u)){var S=Yi(r);ii(r,(S?S+" ":"")+u)}}function ye(r,u){r.classList!==void 0?r.classList.remove(u):ii(r,$((" "+Yi(r)+" ").replace(" "+u+" "," ")))}function ii(r,u){r.className.baseVal===void 0?r.className=u:r.className.baseVal=u}function Yi(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function xe(r,u){"opacity"in r.style?r.style.opacity=u:"filter"in r.style&&Wr(r,u)}function Wr(r,u){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=r.filters.item(g)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):r.style.filter+=" progid:"+g+"(opacity="+u+")"}function _r(r){for(var u=document.documentElement.style,d=0;d<r.length;d++)if(r[d]in u)return r[d];return!1}function wi(r,u,d){var g=u||new ht(0,0);r.style[ni]=(Rt.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function ve(r,u){r._leaflet_pos=u,Rt.any3d?wi(r,u):(r.style.left=u.x+"px",r.style.top=u.y+"px")}function Qi(r){return r._leaflet_pos||new ht(0,0)}var si,rn,Jr;if("onselectstart"in document)si=function(){Dt(window,"selectstart",De)},rn=function(){he(window,"selectstart",De)};else{var ds=_r(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);si=function(){if(ds){var r=document.documentElement.style;Jr=r[ds],r[ds]="none"}},rn=function(){ds&&(document.documentElement.style[ds]=Jr,Jr=void 0)}}function gr(){Dt(window,"dragstart",De)}function ks(){he(window,"dragstart",De)}var yr,Xi;function Vs(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Dn(),yr=r,Xi=r.style.outlineStyle,r.style.outlineStyle="none",Dt(window,"keydown",Dn))}function Dn(){yr&&(yr.style.outlineStyle=Xi,yr=void 0,Xi=void 0,he(window,"keydown",Dn))}function $r(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Ln(r){var u=r.getBoundingClientRect();return{x:u.width/r.offsetWidth||1,y:u.height/r.offsetHeight||1,boundingClientRect:u}}var zs={__proto__:null,TRANSFORM:ni,TRANSITION:fs,TRANSITION_END:Qr,get:Xr,getStyle:Ms,create:Qt,remove:Xt,empty:Oe,toFront:Pe,toBack:Gn,hasClass:pr,addClass:wt,removeClass:ye,setClass:ii,getClass:Yi,setOpacity:xe,testProp:_r,setTransform:wi,setPosition:ve,getPosition:Qi,get disableTextSelection(){return si},get enableTextSelection(){return rn},disableImageDrag:gr,enableImageDrag:ks,preventOutline:Vs,restoreOutline:Dn,getSizedParentNode:$r,getScale:Ln};function Dt(r,u,d,g){if(u&&typeof u=="object")for(var E in u)Mn(r,E,u[E],d);else{u=ut(u);for(var S=0,O=u.length;S<O;S++)Mn(r,u[S],d,g)}return this}var vn="_leaflet_events";function he(r,u,d,g){if(arguments.length===1)ms(r),delete r[vn];else if(u&&typeof u=="object")for(var E in u)ps(r,E,u[E],d);else if(u=ut(u),arguments.length===2)ms(r,function(G){return Mt(u,G)!==-1});else for(var S=0,O=u.length;S<O;S++)ps(r,u[S],d,g);return this}function ms(r,u){for(var d in r[vn]){var g=d.split(/\d/)[0];(!u||u(g))&&ps(r,g,null,null,d)}}var Zn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(r,u,d,g){var E=u+T(d)+(g?"_"+T(g):"");if(r[vn]&&r[vn][E])return this;var S=function(G){return d.call(g||r,G||window.event)},O=S;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?S=ul(r,u,S):Rt.touch&&u==="dblclick"?S=lo(r,S):"addEventListener"in r?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?r.addEventListener(Zn[u]||u,S,Rt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(S=function(G){G=G||window.event,Ri(r,G)&&O(G)},r.addEventListener(Zn[u],S,!1)):r.addEventListener(u,O,!1):r.attachEvent("on"+u,S),r[vn]=r[vn]||{},r[vn][E]=S}function ps(r,u,d,g,E){E=E||u+T(d)+(g?"_"+T(g):"");var S=r[vn]&&r[vn][E];if(!S)return this;!Rt.touchNative&&Rt.pointer&&u.indexOf("touch")===0?cl(r,u,S):Rt.touch&&u==="dblclick"?Ki(r,S):"removeEventListener"in r?r.removeEventListener(Zn[u]||u,S,!1):r.detachEvent("on"+u,S),r[vn][E]=null}function ee(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ri(r){return Mn(r,"wheel",ee),this}function _s(r){return Dt(r,"mousedown touchstart dblclick contextmenu",ee),r._leaflet_disable_click=!0,this}function De(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Ai(r){return De(r),ee(r),this}function Us(r){if(r.composedPath)return r.composedPath();for(var u=[],d=r.target;d;)u.push(d),d=d.parentNode;return u}function Wi(r,u){if(!u)return new ht(r.clientX,r.clientY);var d=Ln(u),g=d.boundingClientRect;return new ht((r.clientX-g.left)/d.x-u.clientLeft,(r.clientY-g.top)/d.y-u.clientTop)}var Si=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function an(r){return Rt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Si:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ri(r,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==r;)d=d.parentNode}catch{return!1}return d!==r}var Ji={__proto__:null,on:Dt,off:he,stopPropagation:ee,disableScrollPropagation:ri,disableClickPropagation:_s,preventDefault:De,stop:Ai,getPropagationPath:Us,getMousePosition:Wi,getWheelDelta:an,isExternalTarget:Ri,addListener:Dt,removeListener:he},gs=gt.extend({run:function(r,u,d,g){this.stop(),this._el=r,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Qi(r),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(r){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),r):(this._runFrame(1),this._complete())},_runFrame:function(r,u){var d=this._startPos.add(this._offset.multiplyBy(r));u&&d._round(),ve(this._el,d),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Yt=gt.extend({options:{crs:Ns,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,u){u=nt(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Tt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fs&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,Qr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),r=this._limitCenter(Tt(r),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,u,d.zoom):this._tryAnimatedPan(r,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(r,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(r,u){return this._loaded?this.setView(this.getCenter(),r,{zoom:u}):(this._zoom=r,this)},zoomIn:function(r,u){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,u)},zoomOut:function(r,u){return r=r||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,u)},setZoomAround:function(r,u,d){var g=this.getZoomScale(u),E=this.getSize().divideBy(2),S=r instanceof ht?r:this.latLngToContainerPoint(r),O=S.subtract(E).multiplyBy(1-1/g),G=this.containerPointToLatLng(E.add(O));return this.setView(G,u,{zoom:d})},_getBoundsCenterZoom:function(r,u){u=u||{},r=r.getBounds?r.getBounds():mt(r);var d=bt(u.paddingTopLeft||u.padding||[0,0]),g=bt(u.paddingBottomRight||u.padding||[0,0]),E=this.getBoundsZoom(r,!1,d.add(g));if(E=typeof u.maxZoom=="number"?Math.min(u.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var S=g.subtract(d).divideBy(2),O=this.project(r.getSouthWest(),E),G=this.project(r.getNorthEast(),E),X=this.unproject(O.add(G).divideBy(2).add(S),E);return{center:X,zoom:E}},fitBounds:function(r,u){if(r=mt(r),!r.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(r,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,u){return this.setView(r,this._zoom,{pan:u})},panBy:function(r,u){if(r=bt(r).round(),u=u||{},!r.x&&!r.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,u,d){if(d=d||{},d.animate===!1||!Rt.any3d)return this.setView(r,u,d);this._stop();var g=this.project(this.getCenter()),E=this.project(r),S=this.getSize(),O=this._zoom;r=Tt(r),u=u===void 0?O:u;var G=Math.max(S.x,S.y),X=G*this.getZoomScale(O,u),at=E.distanceTo(g)||1,vt=1.42,Nt=vt*vt;function Zt(Be){var bs=Be?-1:1,Sr=Be?X:G,bu=X*X-G*G+bs*Nt*Nt*at*at,Io=2*Sr*Nt*at,No=bu/Io,Qs=Math.sqrt(No*No+1)-No,ws=Qs<1e-9?-18:Math.log(Qs);return ws}function mn(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Ze(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Qn(Be){return mn(Be)/Ze(Be)}var fe=Zt(0);function de(Be){return G*(Ze(fe)/Ze(fe+vt*Be))}function Wt(Be){return G*(Ze(fe)*Qn(fe+vt*Be)-mn(fe))/Nt}function Ks(Be){return 1-Math.pow(1-Be,1.5)}var ci=Date.now(),wl=(Zt(1)-fe)/vt,Ys=d.duration?1e3*d.duration:1e3*wl*.8;function Eu(){var Be=(Date.now()-ci)/Ys,bs=Ks(Be)*wl;Be<=1?(this._flyToFrame=B(Eu,this),this._move(this.unproject(g.add(E.subtract(g).multiplyBy(Wt(bs)/at)),O),this.getScaleZoom(G/de(bs),O),{flyTo:!0})):this._move(r,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Eu.call(this),this},flyToBounds:function(r,u){var d=this._getBoundsCenterZoom(r,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(r){return r=mt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var u=this.options.minZoom;return this.options.minZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var u=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&u!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,u){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,mt(r));return d.equals(g)||this.panTo(g,u),this._enforcingBounds=!1,this},panInside:function(r,u){u=u||{};var d=bt(u.paddingTopLeft||u.padding||[0,0]),g=bt(u.paddingBottomRight||u.padding||[0,0]),E=this.project(this.getCenter()),S=this.project(r),O=this.getPixelBounds(),G=it([O.min.add(d),O.max.subtract(g)]),X=G.getSize();if(!G.contains(S)){this._enforcingBounds=!0;var at=S.subtract(G.getCenter()),vt=G.extend(S).getSize().subtract(X);E.x+=at.x<0?-vt.x:vt.x,E.y+=at.y<0?-vt.y:vt.y,this.panTo(this.unproject(E),u),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=l({animate:!1,pan:!0},r===!0?{animate:!0}:r);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=u.divideBy(2).round(),E=d.divideBy(2).round(),S=g.subtract(E);return!S.x&&!S.y?this:(r.animate&&r.pan?this.panBy(S):(r.pan&&this._rawPanBy(S),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=l({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,r):navigator.geolocation.getCurrentPosition(u,d,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var u=r.code,d=r.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var u=r.coords.latitude,d=r.coords.longitude,g=new Et(u,d),E=g.toBounds(r.coords.accuracy*2),S=this._locateOptions;if(S.setView){var O=this.getBoundsZoom(E);this.setView(g,S.maxZoom?Math.min(O,S.maxZoom):O)}var G={latlng:g,bounds:E,timestamp:r.timestamp};for(var X in r.coords)typeof r.coords[X]=="number"&&(G[X]=r.coords[X]);this.fire("locationfound",G)}},addHandler:function(r,u){if(!u)return this;var d=this[r]=new u(this);return this._handlers.push(d),this.options[r]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Xt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,u){var d="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),g=Qt("div",d,u||this._mapPane);return r&&(this._panes[r]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),u=this.unproject(r.getBottomLeft()),d=this.unproject(r.getTopRight());return new ft(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,u,d){r=mt(r),d=bt(d||[0,0]);var g=this.getZoom()||0,E=this.getMinZoom(),S=this.getMaxZoom(),O=r.getNorthWest(),G=r.getSouthEast(),X=this.getSize().subtract(d),at=it(this.project(G,g),this.project(O,g)).getSize(),vt=Rt.any3d?this.options.zoomSnap:1,Nt=X.x/at.x,Zt=X.y/at.y,mn=u?Math.max(Nt,Zt):Math.min(Nt,Zt);return g=this.getScaleZoom(mn,g),vt&&(g=Math.round(g/(vt/100))*(vt/100),g=u?Math.ceil(g/vt)*vt:Math.floor(g/vt)*vt),Math.max(E,Math.min(S,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ht(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,u){var d=this._getTopLeftPoint(r,u);return new U(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(r)/d.scale(u)},getScaleZoom:function(r,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var g=d.zoom(r*d.scale(u));return isNaN(g)?1/0:g},project:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Tt(r),u)},unproject:function(r,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(bt(r),u)},layerPointToLatLng:function(r){var u=bt(r).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(r){var u=this.project(Tt(r))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Tt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(mt(r))},distance:function(r,u){return this.options.crs.distance(Tt(r),Tt(u))},containerPointToLayerPoint:function(r){return bt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return bt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var u=this.containerPointToLayerPoint(bt(r));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Tt(r)))},mouseEventToContainerPoint:function(r){return Wi(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var u=this._container=Xr(r);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(u,"scroll",this._onScroll,this),this._containerId=T(u)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,wt(r,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ms(r,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new ht(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(r.markerPane,"leaflet-zoom-hide"),wt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,u,d){ve(this._mapPane,new ht(0,0));var g=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var E=this._zoom!==u;this._moveStart(E,d)._move(r,u)._moveEnd(E),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(r,u){return r&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(r,u,d,g){u===void 0&&(u=this._zoom);var E=this._zoom!==u;return this._zoom=u,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),g?d&&d.pinch&&this.fire("zoom",d):((E||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ve(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[T(this._container)]=this;var u=r?he:Dt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,u){for(var d=[],g,E=u==="mouseout"||u==="mouseover",S=r.target||r.srcElement,O=!1;S;){if(g=this._targets[T(S)],g&&(u==="click"||u==="preclick")&&this._draggableMoved(g)){O=!0;break}if(g&&g.listens(u,!0)&&(E&&!Ri(S,r)||(d.push(g),E))||S===this._container)break;S=S.parentNode}return!d.length&&!O&&!E&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var u=r.target||r.srcElement;if(!(!this._loaded||u._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(u))){var d=r.type;d==="mousedown"&&Vs(u),this._fireDOMEvent(r,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,u,d){if(r.type==="click"){var g=l({},r);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var E=this._findEventTargets(r,u);if(d){for(var S=[],O=0;O<d.length;O++)d[O].listens(u,!0)&&S.push(d[O]);E=S.concat(E)}if(E.length){u==="contextmenu"&&De(r);var G=E[0],X={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var at=G.getLatLng&&(!G._radius||G._radius<=10);X.containerPoint=at?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(r),X.layerPoint=this.containerPointToLayerPoint(X.containerPoint),X.latlng=at?G.getLatLng():this.layerPointToLatLng(X.layerPoint)}for(O=0;O<E.length;O++)if(E[O].fire(u,X,!0),X.originalEvent._stopped||E[O].options.bubblingMouseEvents===!1&&Mt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,u=this._handlers.length;r<u;r++)this._handlers[r].disable()},whenReady:function(r,u){return this._loaded?r.call(u||this,{target:this}):this.on("load",r,u),this},_getMapPanePos:function(){return Qi(this._mapPane)||new ht(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,u){var d=r&&u!==void 0?this._getNewPixelOrigin(r,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,u){var d=this.getSize()._divideBy(2);return this.project(r,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,u,d){var g=this._getNewPixelOrigin(d,u);return this.project(r,u)._subtract(g)},_latLngBoundsToNewLayerBounds:function(r,u,d){var g=this._getNewPixelOrigin(d,u);return it([this.project(r.getSouthWest(),u)._subtract(g),this.project(r.getNorthWest(),u)._subtract(g),this.project(r.getSouthEast(),u)._subtract(g),this.project(r.getNorthEast(),u)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,u,d){if(!d)return r;var g=this.project(r,u),E=this.getSize().divideBy(2),S=new U(g.subtract(E),g.add(E)),O=this._getBoundsOffset(S,d,u);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?r:this.unproject(g.add(O),u)},_limitOffset:function(r,u){if(!u)return r;var d=this.getPixelBounds(),g=new U(d.min.add(r),d.max.add(r));return r.add(this._getBoundsOffset(g,u))},_getBoundsOffset:function(r,u,d){var g=it(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),E=g.min.subtract(r.min),S=g.max.subtract(r.max),O=this._rebound(E.x,-S.x),G=this._rebound(E.y,-S.y);return new ht(O,G)},_rebound:function(r,u){return r+u>0?Math.round(r-u)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(u))},_limitZoom:function(r){var u=this.getMinZoom(),d=this.getMaxZoom(),g=Rt.any3d?this.options.zoomSnap:1;return g&&(r=Math.round(r/g)*g),Math.max(u,Math.min(d,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,u){var d=this._getCenterOffset(r)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var r=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(u){var d=ni,g=this._proxy.style[d];wi(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),u=this.getZoom();wi(this._proxy,this.project(r,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(u),E=this._getCenterOffset(r)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(E)?!1:(B(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(r,u,!0)},this),!0)},_animateZoom:function(r,u,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=u,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:u,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bs(r,u){return new Yt(r,u)}var Tn=oe.extend({options:{position:"topright"},initialize:function(r){nt(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var u=this._map;return u&&u.removeControl(this),this.options.position=r,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var u=this._container=this.onAdd(r),d=this.getPosition(),g=r._controlCorners[d];return wt(u,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(u,g.firstChild):g.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),kn=function(r){return new Tn(r)};Yt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function g(E,S){var O=u+E+" "+u+S;r[E+S]=Qt("div",O,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Xt(this._controlCorners[r]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vr=Tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,u,d,g){return d<g?-1:g<d?1:0}},initialize:function(r,u,d){nt(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in r)this._addLayer(r[g],g);for(g in u)this._addLayer(u[g],g,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,u){return this._addLayer(r,u),this._map?this._update():this},addOverlay:function(r,u){return this._addLayer(r,u,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var u=this._getLayer(T(r));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",u=this._container=Qt("div",r),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),_s(u),ri(u);var g=this._section=Qt("section",r+"-list");d&&(this._map.on("click",this.collapse,this),Dt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=Qt("a",r+"-toggle",u);E.href="#",E.title="Layers",E.setAttribute("role","button"),Dt(E,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){De(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",r+"-base",g),this._separator=Qt("div",r+"-separator",g),this._overlaysList=Qt("div",r+"-overlays",g),u.appendChild(g)},_getLayer:function(r){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&T(this._layers[u].layer)===r)return this._layers[u]},_addLayer:function(r,u,d){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(g,E){return this.options.sortFunction(g.layer,E.layer,g.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oe(this._baseLayersList),Oe(this._overlaysList),this._layerControlInputs=[];var r,u,d,g,E=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),u=u||g.overlay,r=r||!g.overlay,E+=g.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=u&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var u=this._getLayer(T(r.target)),d=u.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(r,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(u?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(r){var u=document.createElement("label"),d=this._map.hasLayer(r.layer),g;r.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+T(this),d),this._layerControlInputs.push(g),g.layerId=T(r.layer),Dt(g,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var S=document.createElement("span");u.appendChild(S),S.appendChild(g),S.appendChild(E);var O=r.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,u,d,g=[],E=[];this._handlingClick=!0;for(var S=r.length-1;S>=0;S--)u=r[S],d=this._getLayer(u.layerId).layer,u.checked?g.push(d):u.checked||E.push(d);for(S=0;S<E.length;S++)this._map.hasLayer(E[S])&&this._map.removeLayer(E[S]);for(S=0;S<g.length;S++)this._map.hasLayer(g[S])||this._map.addLayer(g[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,u,d,g=this._map.getZoom(),E=r.length-1;E>=0;E--)u=r[E],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Dt(r,"click",De),this.expand();var u=this;setTimeout(function(){he(r,"click",De),u._preventClick=!1})}}),uo=function(r,u,d){return new vr(r,u,d)},ys=Tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,u,d,g,E){var S=Qt("a",d,g);return S.innerHTML=r,S.href="#",S.title=u,S.setAttribute("role","button"),S.setAttribute("aria-label",u),_s(S),Dt(S,"click",Ai),Dt(S,"click",E,this),Dt(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var r=this._map,u="leaflet-disabled";ye(this._zoomInButton,u),ye(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(wt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(wt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yt.mergeOptions({zoomControl:!0}),Yt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ys,this.addControl(this.zoomControl))});var hl=function(r){return new ys(r)},co=Tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var u="leaflet-control-scale",d=Qt("div",u),g=this.options;return this._addScales(g,u+"-line",d),r.on(g.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),d},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,u,d){r.metric&&(this._mScale=Qt("div",u,d)),r.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var r=this._map,u=r.getSize().y/2,d=r.distance(r.containerPointToLatLng([0,u]),r.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var u=this._getRoundNum(r),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/r)},_updateImperial:function(r){var u=r*3.2808399,d,g,E;u>5280?(d=u/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(E=this._getRoundNum(u),this._updateScale(this._iScale,E+" ft",E/u))},_updateScale:function(r,u,d){r.style.width=Math.round(this.options.maxWidth*d)+"px",r.innerHTML=u},_getRoundNum:function(r){var u=Math.pow(10,(Math.floor(r)+"").length-1),d=r/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Tr=function(r){return new co(r)},ho='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ta=Tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?ho+" ":"")+"Leaflet</a>"},initialize:function(r){nt(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),_s(this._container);for(var u in r._layers)r._layers[u].getAttribution&&this.addAttribution(r._layers[u].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var u in this._attributions)this._attributions[u]&&r.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),r.length&&d.push(r.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Yt.mergeOptions({attributionControl:!0}),Yt.addInitHook(function(){this.options.attributionControl&&new ta().addTo(this)});var ea=function(r){return new ta(r)};Tn.Layers=vr,Tn.Zoom=ys,Tn.Scale=co,Tn.Attribution=ta,kn.layers=uo,kn.zoom=hl,kn.scale=Tr,kn.attribution=ea;var Kn=oe.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Kn.addTo=function(r,u){return r.addHandler(u,this),this};var fl={Events:et},xi=Rt.touch?"touchstart mousedown":"mousedown",Ci=gt.extend({options:{clickTolerance:3},initialize:function(r,u,d,g){nt(this,g),this._element=r,this._dragStartTarget=u||r,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,xi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,xi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!pr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Ci._dragging=this,this._preventOutline&&Vs(this._element),gr(),si(),!this._moving)){this.fire("down");var u=r.touches?r.touches[0]:r,d=$r(this._element);this._startPoint=new ht(u.clientX,u.clientY),this._startPos=Qi(this._element),this._parentScale=Ln(d);var g=r.type==="mousedown";Dt(document,g?"mousemove":"touchmove",this._onMove,this),Dt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var u=r.touches&&r.touches.length===1?r.touches[0]:r,d=new ht(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,De(r),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ve(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ye(document.body,"leaflet-dragging"),this._lastTarget&&(ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),ks(),rn();var u=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,u&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function fo(r,u,d){var g,E=[1,4,2,8],S,O,G,X,at,vt,Nt,Zt;for(S=0,vt=r.length;S<vt;S++)r[S]._code=J(r[S],u);for(G=0;G<4;G++){for(Nt=E[G],g=[],S=0,vt=r.length,O=vt-1;S<vt;O=S++)X=r[S],at=r[O],X._code&Nt?at._code&Nt||(Zt=K(at,X,Nt,u,d),Zt._code=J(Zt,u),g.push(Zt)):(at._code&Nt&&(Zt=K(at,X,Nt,u,d),Zt._code=J(Zt,u),g.push(Zt)),g.push(X));r=g}return r}function mo(r,u){var d,g,E,S,O,G,X,at,vt;if(!r||r.length===0)throw new Error("latlngs not passed");le(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Nt=Tt([0,0]),Zt=mt(r),mn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());mn<1700&&(Nt=na(r));var Ze=r.length,Qn=[];for(d=0;d<Ze;d++){var fe=Tt(r[d]);Qn.push(u.project(Tt([fe.lat-Nt.lat,fe.lng-Nt.lng])))}for(G=X=at=0,d=0,g=Ze-1;d<Ze;g=d++)E=Qn[d],S=Qn[g],O=E.y*S.x-S.y*E.x,X+=(E.x+S.x)*O,at+=(E.y+S.y)*O,G+=O*3;G===0?vt=Qn[0]:vt=[X/G,at/G];var de=u.unproject(bt(vt));return Tt([de.lat+Nt.lat,de.lng+Nt.lng])}function na(r){for(var u=0,d=0,g=0,E=0;E<r.length;E++){var S=Tt(r[E]);u+=S.lat,d+=S.lng,g++}return Tt([u/g,d/g])}var js={__proto__:null,clipPolygon:fo,polygonCenter:mo,centroid:na};function En(r,u){if(!u||!r.length)return r.slice();var d=u*u;return r=y(r,d),r=vs(r,d),r}function po(r,u,d){return Math.sqrt(zt(r,u,d,!0))}function dl(r,u,d){return zt(r,u,d)}function vs(r,u){var d=r.length,g=typeof Uint8Array<"u"?Uint8Array:Array,E=new g(d);E[0]=E[d-1]=1,f(r,E,u,0,d-1);var S,O=[];for(S=0;S<d;S++)E[S]&&O.push(r[S]);return O}function f(r,u,d,g,E){var S=0,O,G,X;for(G=g+1;G<=E-1;G++)X=zt(r[G],r[g],r[E],!0),X>S&&(O=G,S=X);S>d&&(u[O]=1,f(r,u,d,g,O),f(r,u,d,O,E))}function y(r,u){for(var d=[r[0]],g=1,E=0,S=r.length;g<S;g++)pt(r[g],r[E])>u&&(d.push(r[g]),E=g);return E<S-1&&d.push(r[S-1]),d}var A;function I(r,u,d,g,E){var S=g?A:J(r,d),O=J(u,d),G,X,at;for(A=O;;){if(!(S|O))return[r,u];if(S&O)return!1;G=S||O,X=K(r,u,G,d,E),at=J(X,d),G===S?(r=X,S=at):(u=X,O=at)}}function K(r,u,d,g,E){var S=u.x-r.x,O=u.y-r.y,G=g.min,X=g.max,at,vt;return d&8?(at=r.x+S*(X.y-r.y)/O,vt=X.y):d&4?(at=r.x+S*(G.y-r.y)/O,vt=G.y):d&2?(at=X.x,vt=r.y+O*(X.x-r.x)/S):d&1&&(at=G.x,vt=r.y+O*(G.x-r.x)/S),new ht(at,vt,E)}function J(r,u){var d=0;return r.x<u.min.x?d|=1:r.x>u.max.x&&(d|=2),r.y<u.min.y?d|=4:r.y>u.max.y&&(d|=8),d}function pt(r,u){var d=u.x-r.x,g=u.y-r.y;return d*d+g*g}function zt(r,u,d,g){var E=u.x,S=u.y,O=d.x-E,G=d.y-S,X=O*O+G*G,at;return X>0&&(at=((r.x-E)*O+(r.y-S)*G)/X,at>1?(E=d.x,S=d.y):at>0&&(E+=O*at,S+=G*at)),O=r.x-E,G=r.y-S,g?O*O+G*G:new ht(E,S)}function le(r){return!_t(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function ue(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),le(r)}function Ce(r,u){var d,g,E,S,O,G,X,at;if(!r||r.length===0)throw new Error("latlngs not passed");le(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var vt=Tt([0,0]),Nt=mt(r),Zt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Zt<1700&&(vt=na(r));var mn=r.length,Ze=[];for(d=0;d<mn;d++){var Qn=Tt(r[d]);Ze.push(u.project(Tt([Qn.lat-vt.lat,Qn.lng-vt.lng])))}for(d=0,g=0;d<mn-1;d++)g+=Ze[d].distanceTo(Ze[d+1])/2;if(g===0)at=Ze[0];else for(d=0,S=0;d<mn-1;d++)if(O=Ze[d],G=Ze[d+1],E=O.distanceTo(G),S+=E,S>g){X=(S-g)/E,at=[G.x-X*(G.x-O.x),G.y-X*(G.y-O.y)];break}var fe=u.unproject(bt(at));return Tt([fe.lat+vt.lat,fe.lng+vt.lng])}var ai={__proto__:null,simplify:En,pointToSegmentDistance:po,closestPointOnSegment:dl,clipSegment:I,_getEdgeIntersection:K,_getBitCode:J,_sqClosestPointOnSegment:zt,isFlat:le,_flat:ue,polylineCenter:Ce},oi={project:function(r){return new ht(r.lng,r.lat)},unproject:function(r){return new Et(r.y,r.x)},bounds:new U([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var u=Math.PI/180,d=this.R,g=r.lat*u,E=this.R_MINOR/d,S=Math.sqrt(1-E*E),O=S*Math.sin(g),G=Math.tan(Math.PI/4-g/2)/Math.pow((1-O)/(1+O),S/2);return g=-d*Math.log(Math.max(G,1e-10)),new ht(r.lng*u*d,g)},unproject:function(r){for(var u=180/Math.PI,d=this.R,g=this.R_MINOR/d,E=Math.sqrt(1-g*g),S=Math.exp(-r.y/d),O=Math.PI/2-2*Math.atan(S),G=0,X=.1,at;G<15&&Math.abs(X)>1e-7;G++)at=E*Math.sin(O),at=Math.pow((1-at)/(1+at),E/2),X=Math.PI/2-2*Math.atan(S*at)-O,O+=X;return new Et(O*u,r.x*u/d)}},Ii={__proto__:null,LonLat:oi,Mercator:Yn,SphericalMercator:us},Er=l({},be,{code:"EPSG:3395",projection:Yn,transformation:(function(){var r=.5/(Math.PI*Yn.R);return Ui(r,.5,-r,.5)})()}),br=l({},be,{code:"EPSG:4326",projection:oi,transformation:Ui(1/180,1,-1/180,.5)}),ia=l({},Bt,{projection:oi,transformation:Ui(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,u){var d=u.lng-r.lng,g=u.lat-r.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Bt.Earth=be,Bt.EPSG3395=Er,Bt.EPSG3857=Ns,Bt.EPSG900913=Bi,Bt.EPSG4326=br,Bt.Simple=ia;var Ni=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[T(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[T(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var u=r.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Yt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var u=T(r);return this._layers[u]?this:(this._layers[u]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var u=T(r);return this._layers[u]?(this._loaded&&r.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return T(r)in this._layers},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},_addLayers:function(r){r=r?_t(r)?r:[r]:[];for(var u=0,d=r.length;u<d;u++)this.addLayer(r[u])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[T(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var u=T(r);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,u=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var E=this._zoomBoundLayers[g].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),u=E.maxZoom===void 0?u:Math.max(u,E.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=r===1/0?void 0:r,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var sa=Ni.extend({initialize:function(r,u){nt(this,u),this._layers={};var d,g;if(r)for(d=0,g=r.length;d<g;d++)this.addLayer(r[d])},addLayer:function(r){var u=this.getLayerId(r);return this._layers[u]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var u=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(r){var u=typeof r=="number"?r:this.getLayerId(r);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var u=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[r]&&g[r].apply(g,u);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,u){for(var d in this._layers)r.call(u,this._layers[d]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return T(r)}}),ed=function(r,u){return new sa(r,u)},$i=sa.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),sa.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),sa.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ft;for(var u in this._layers){var d=this._layers[u];r.extend(d.getBounds?d.getBounds():d.getLatLng())}return r}}),jc=function(r,u){return new $i(r,u)},ts=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){nt(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,u){var d=this._getIconUrl(r);if(!d){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(g,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(r,u){var d=this.options,g=d[u+"Size"];typeof g=="number"&&(g=[g,g]);var E=bt(g),S=bt(u==="shadow"&&d.shadowAnchor||d.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+u+" "+(d.className||""),S&&(r.style.marginLeft=-S.x+"px",r.style.marginTop=-S.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,u){return u=u||document.createElement("img"),u.src=r,u},_getIconUrl:function(r){return Rt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function _o(r){return new ts(r)}var go=ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof go.imagePath!="string"&&(go.imagePath=this._detectIconPath()),(this.options.imagePath||go.imagePath)+ts.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var u=function(d,g,E){var S=g.exec(d);return S&&S[E]};return r=u(r,/^url\((['"])?(.+)\1\)$/,2),r&&u(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Qt("div","leaflet-default-icon-path",document.body),u=Ms(r,"background-image")||Ms(r,"backgroundImage");if(document.body.removeChild(r),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),yo=Kn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Ci(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var u=this._marker,d=u._map,g=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,S=Qi(u._icon),O=d.getPixelBounds(),G=d.getPixelOrigin(),X=it(O.min._subtract(G).add(E),O.max._subtract(G).subtract(E));if(!X.contains(S)){var at=bt((Math.max(X.max.x,S.x)-X.max.x)/(O.max.x-X.max.x)-(Math.min(X.min.x,S.x)-X.min.x)/(O.min.x-X.min.x),(Math.max(X.max.y,S.y)-X.max.y)/(O.max.y-X.max.y)-(Math.min(X.min.y,S.y)-X.min.y)/(O.min.y-X.min.y)).multiplyBy(g);d.panBy(at,{animate:!1}),this._draggable._newPos._add(at),this._draggable._startPos._add(at),ve(u._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=B(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,r)))},_onDrag:function(r){var u=this._marker,d=u._shadow,g=Qi(u._icon),E=u._map.layerPointToLatLng(g);d&&ve(d,g),u._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,u.fire("move",r).fire("drag",r)},_onDragEnd:function(r){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),vo=Ni.extend({options:{icon:new go,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,u){nt(this,u),this._latlng=Tt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var u=this._latlng;return this._latlng=Tt(r),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=r.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,r.title&&(d.title=r.title),d.tagName==="IMG"&&(d.alt=r.alt||"")),wt(d,u),r.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),S=!1;E!==this._shadow&&(this._removeShadow(),S=!0),E&&(wt(E,u),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&S&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ve(this._icon,r),this._shadow&&ve(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&xe(this._icon,r),this._shadow&&xe(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var u=this.options.icon.options,d=u.iconSize?bt(u.iconSize):bt(0,0),g=u.iconAnchor?bt(u.iconAnchor):bt(0,0);r.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hc(r,u){return new vo(r,u)}var es=Ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return nt(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ra=es.extend({options:{fill:!0,radius:10},initialize:function(r,u){nt(this,u),this._latlng=Tt(r),this._radius=this.options.radius},setLatLng:function(r){var u=this._latlng;return this._latlng=Tt(r),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var u=r&&r.radius||this._radius;return es.prototype.setStyle.call(this,r),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,u=this._radiusY||r,d=this._clickTolerance(),g=[r+d,u+d];this._pxBounds=new U(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qc(r,u){return new ra(r,u)}var ml=ra.extend({initialize:function(r,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),nt(this,u),this._latlng=Tt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ft(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:es.prototype.setStyle,_project:function(){var r=this._latlng.lng,u=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===be.distance){var E=Math.PI/180,S=this._mRadius/be.R/E,O=d.project([u+S,r]),G=d.project([u-S,r]),X=O.add(G).divideBy(2),at=d.unproject(X).lat,vt=Math.acos((Math.cos(S*E)-Math.sin(u*E)*Math.sin(at*E))/(Math.cos(u*E)*Math.cos(at*E)))/E;(isNaN(vt)||vt===0)&&(vt=S/Math.cos(Math.PI/180*u)),this._point=X.subtract(d.getPixelOrigin()),this._radius=isNaN(vt)?0:X.x-d.project([at,r-vt]).x,this._radiusY=X.y-O.y}else{var Nt=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Nt).x}this._updateBounds()}});function Fc(r,u,d){return new ml(r,u,d)}var Ts=es.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,u){nt(this,u),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var u=1/0,d=null,g=zt,E,S,O=0,G=this._parts.length;O<G;O++)for(var X=this._parts[O],at=1,vt=X.length;at<vt;at++){E=X[at-1],S=X[at];var Nt=g(r,E,S,!0);Nt<u&&(u=Nt,d=g(r,E,S))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ce(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,u){return u=u||this._defaultShape(),r=Tt(r),u.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ft,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return le(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var u=[],d=le(r),g=0,E=r.length;g<E;g++)d?(u[g]=Tt(r[g]),this._bounds.extend(u[g])):u[g]=this._convertLatLngs(r[g]);return u},_project:function(){var r=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),u=new ht(r,r);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(r,u,d){var g=r[0]instanceof Et,E=r.length,S,O;if(g){for(O=[],S=0;S<E;S++)O[S]=this._map.latLngToLayerPoint(r[S]),d.extend(O[S]);u.push(O)}else for(S=0;S<E;S++)this._projectLatlngs(r[S],u,d)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,g,E,S,O,G,X;for(d=0,E=0,S=this._rings.length;d<S;d++)for(X=this._rings[d],g=0,O=X.length;g<O-1;g++)G=I(X[g],X[g+1],r,g,!0),G&&(u[E]=u[E]||[],u[E].push(G[0]),(G[1]!==X[g+1]||g===O-2)&&(u[E].push(G[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,u=this.options.smoothFactor,d=0,g=r.length;d<g;d++)r[d]=En(r[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,u){var d,g,E,S,O,G,X=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(d=0,S=this._parts.length;d<S;d++)for(G=this._parts[d],g=0,O=G.length,E=O-1;g<O;E=g++)if(!(!u&&g===0)&&po(r,G[E],G[g])<=X)return!0;return!1}});function nd(r,u){return new Ts(r,u)}Ts._flat=ue;var aa=Ts.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var u=Ts.prototype._convertLatLngs.call(this,r),d=u.length;return d>=2&&u[0]instanceof Et&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(r){Ts.prototype._setLatLngs.call(this,r),le(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return le(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,u=this.options.weight,d=new ht(u,u);if(r=new U(r.min.subtract(d),r.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,E=this._rings.length,S;g<E;g++)S=fo(this._rings[g],r,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var u=!1,d,g,E,S,O,G,X,at;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(S=0,X=this._parts.length;S<X;S++)for(d=this._parts[S],O=0,at=d.length,G=at-1;O<at;G=O++)g=d[O],E=d[G],g.y>r.y!=E.y>r.y&&r.x<(E.x-g.x)*(r.y-g.y)/(E.y-g.y)+g.x&&(u=!u);return u||Ts.prototype._containsPoint.call(this,r,!0)}});function id(r,u){return new aa(r,u)}var Es=$i.extend({initialize:function(r,u){nt(this,u),this._layers={},r&&this.addData(r)},addData:function(r){var u=_t(r)?r:r.features,d,g,E;if(u){for(d=0,g=u.length;d<g;d++)E=u[d],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var S=this.options;if(S.filter&&!S.filter(r))return this;var O=bn(r,S);return O?(O.feature=gl(r),O.defaultOptions=O.options,this.resetStyle(O),S.onEachFeature&&S.onEachFeature(r,O),this.addLayer(O)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=l({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(u){this._setLayerStyle(u,r)},this)},_setLayerStyle:function(r,u){r.setStyle&&(typeof u=="function"&&(u=u(r.feature)),r.setStyle(u))}});function bn(r,u){var d=r.type==="Feature"?r.geometry:r,g=d?d.coordinates:null,E=[],S=u&&u.pointToLayer,O=u&&u.coordsToLatLng||pl,G,X,at,vt;if(!g&&!d)return null;switch(d.type){case"Point":return G=O(g),oa(S,r,G,u);case"MultiPoint":for(at=0,vt=g.length;at<vt;at++)G=O(g[at]),E.push(oa(S,r,G,u));return new $i(E);case"LineString":case"MultiLineString":return X=To(g,d.type==="LineString"?0:1,O),new Ts(X,u);case"Polygon":case"MultiPolygon":return X=To(g,d.type==="Polygon"?1:2,O),new aa(X,u);case"GeometryCollection":for(at=0,vt=d.geometries.length;at<vt;at++){var Nt=bn({geometry:d.geometries[at],type:"Feature",properties:r.properties},u);Nt&&E.push(Nt)}return new $i(E);case"FeatureCollection":for(at=0,vt=d.features.length;at<vt;at++){var Zt=bn(d.features[at],u);Zt&&E.push(Zt)}return new $i(E);default:throw new Error("Invalid GeoJSON object.")}}function oa(r,u,d,g){return r?r(u,d):new vo(d,g&&g.markersInheritOptions&&g)}function pl(r){return new Et(r[1],r[0],r[2])}function To(r,u,d){for(var g=[],E=0,S=r.length,O;E<S;E++)O=u?To(r[E],u-1,d):(d||pl)(r[E]),g.push(O);return g}function _l(r,u){return r=Tt(r),r.alt!==void 0?[V(r.lng,u),V(r.lat,u),V(r.alt,u)]:[V(r.lng,u),V(r.lat,u)]}function Eo(r,u,d,g){for(var E=[],S=0,O=r.length;S<O;S++)E.push(u?Eo(r[S],le(r[S])?0:u-1,d,g):_l(r[S],g));return!u&&d&&E.length>0&&E.push(E[0].slice()),E}function Hs(r,u){return r.feature?l({},r.feature,{geometry:u}):gl(u)}function gl(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var qs={toGeoJSON:function(r){return Hs(this,{type:"Point",coordinates:_l(this.getLatLng(),r)})}};vo.include(qs),ml.include(qs),ra.include(qs),Ts.include({toGeoJSON:function(r){var u=!le(this._latlngs),d=Eo(this._latlngs,u?1:0,!1,r);return Hs(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),aa.include({toGeoJSON:function(r){var u=!le(this._latlngs),d=u&&!le(this._latlngs[0]),g=Eo(this._latlngs,d?2:u?1:0,!0,r);return u||(g=[g]),Hs(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),sa.include({toMultiPoint:function(r){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(r).geometry.coordinates)}),Hs(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(r){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(r);var d=u==="GeometryCollection",g=[];return this.eachLayer(function(E){if(E.toGeoJSON){var S=E.toGeoJSON(r);if(d)g.push(S.geometry);else{var O=gl(S);O.type==="FeatureCollection"?g.push.apply(g,O.features):g.push(O)}}}),d?Hs(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function yl(r,u){return new Es(r,u)}var bo=yl,la=Ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,u,d){this._url=r,this._bounds=mt(u),nt(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=mt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",u=this._image=r?this._url:Qt("img");if(wt(u,"leaflet-image-layer"),this._zoomAnimated&&wt(u,"leaflet-zoom-animated"),this.options.className&&wt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(r){var u=this._map.getZoomScale(r.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;wi(this._image,d,u)},_reset:function(){var r=this._image,u=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();ve(r,u.min),r.style.width=d.x+"px",r.style.height=d.y+"px"},_updateOpacity:function(){xe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Gc=function(r,u,d){return new la(r,u,d)},Fs=la.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",u=this._image=r?this._url:Qt("video");if(wt(u,"leaflet-image-layer"),this._zoomAnimated&&wt(u,"leaflet-zoom-animated"),this.options.className&&wt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=p(this.fire,this,"load"),r){for(var d=u.getElementsByTagName("source"),g=[],E=0;E<d.length;E++)g.push(d[E].src);this._url=d.length>0?g:[u.src];return}_t(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var O=Qt("source");O.src=this._url[S],u.appendChild(O)}}});function ua(r,u,d){return new Fs(r,u,d)}var vl=la.extend({_initImage:function(){var r=this._image=this._url;wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=C,r.onmousemove=C}});function Zc(r,u,d){return new vl(r,u,d)}var wn=Ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,u){r&&(r instanceof Et||_t(r))?(this._latlng=Tt(r),nt(this,u)):(nt(this,r),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&xe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&xe(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(xe(this._container,0),this._removeTimeout=setTimeout(p(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Tt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(r){var u=this._source;if(!u._map)return!1;if(u instanceof $i){u=null;var d=this._source._layers;for(var g in d)if(d[g]._map){u=d[g];break}if(!u)return!1;this._source=u}if(!r)if(u.getCenter)r=u.getCenter();else if(u.getLatLng)r=u.getLatLng();else if(u.getBounds)r=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")r.innerHTML=u;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),u=bt(this.options.offset),d=this._getAnchor();this._zoomAnimated?ve(this._container,r.add(d)):u=u.add(r).add(d);var g=this._containerBottom=-u.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=g+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Yt.include({_initOverlay:function(r,u,d,g){var E=u;return E instanceof r||(E=new r(g).setContent(u)),d&&E.setLatLng(d),E}}),Ni.include({_initOverlay:function(r,u,d,g){var E=d;return E instanceof r?(nt(E,g),E._source=this):(E=u&&!g?u:new r(g,this),E.setContent(d)),E}});var wo=wn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,wn.prototype.openOn.call(this,r)},onAdd:function(r){wn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof es||this._source.on("preclick",ee))},onRemove:function(r){wn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof es||this._source.off("preclick",ee))},getEvents:function(){var r=wn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",u=this._container=Qt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",r+"-content-wrapper",u);if(this._contentNode=Qt("div",r+"-content",d),_s(u),ri(this._contentNode),Dt(u,"contextmenu",ee),this._tipContainer=Qt("div",r+"-tip-container",u),this._tip=Qt("div",r+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Qt("a",r+"-close-button",u);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(g,"click",function(E){De(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,u=r.style;u.width="",u.whiteSpace="nowrap";var d=r.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var g=r.offsetHeight,E=this.options.maxHeight,S="leaflet-popup-scrolled";E&&g>E?(u.height=E+"px",wt(r,S)):ye(r,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),d=this._getAnchor();ve(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,u=parseInt(Ms(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,g=this._containerWidth,E=new ht(this._containerLeft,-d-this._containerBottom);E._add(Qi(this._container));var S=r.layerPointToContainerPoint(E),O=bt(this.options.autoPanPadding),G=bt(this.options.autoPanPaddingTopLeft||O),X=bt(this.options.autoPanPaddingBottomRight||O),at=r.getSize(),vt=0,Nt=0;S.x+g+X.x>at.x&&(vt=S.x+g-at.x+X.x),S.x-vt-G.x<0&&(vt=S.x-G.x),S.y+d+X.y>at.y&&(Nt=S.y+d-at.y+X.y),S.y-Nt-G.y<0&&(Nt=S.y-G.y),(vt||Nt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([vt,Nt]))}},_getAnchor:function(){return bt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kc=function(r,u){return new wo(r,u)};Yt.mergeOptions({closePopupOnClick:!0}),Yt.include({openPopup:function(r,u,d){return this._initOverlay(wo,r,u,d).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ni.include({bindPopup:function(r,u){return this._popup=this._initOverlay(wo,this._popup,r,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof $i||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Ai(r);var u=r.layer||r.target;if(this._popup._source===u&&!(u instanceof es)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=u,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ao=wn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){wn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){wn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=wn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",u=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+T(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var u,d,g=this._map,E=this._container,S=g.latLngToContainerPoint(g.getCenter()),O=g.layerPointToContainerPoint(r),G=this.options.direction,X=E.offsetWidth,at=E.offsetHeight,vt=bt(this.options.offset),Nt=this._getAnchor();G==="top"?(u=X/2,d=at):G==="bottom"?(u=X/2,d=0):G==="center"?(u=X/2,d=at/2):G==="right"?(u=0,d=at/2):G==="left"?(u=X,d=at/2):O.x<S.x?(G="right",u=0,d=at/2):(G="left",u=X+(vt.x+Nt.x)*2,d=at/2),r=r.subtract(bt(u,d,!0)).add(vt).add(Nt),ye(E,"leaflet-tooltip-right"),ye(E,"leaflet-tooltip-left"),ye(E,"leaflet-tooltip-top"),ye(E,"leaflet-tooltip-bottom"),wt(E,"leaflet-tooltip-"+G),ve(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&xe(this._container,r)},_animateZoom:function(r){var u=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(u)},_getAnchor:function(){return bt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sd=function(r,u){return new Ao(r,u)};Yt.include({openTooltip:function(r,u,d){return this._initOverlay(Ao,r,u,d).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ni.include({bindTooltip:function(r,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ao,this._tooltip,r,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var u=r?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof $i||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&(Dt(u,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Dt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var u=typeof r.getElement=="function"&&r.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var u=r.latlng,d,g;this._tooltip.options.sticky&&r.originalEvent&&(d=this._map.mouseEventToContainerPoint(r.originalEvent),g=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(u)}});var Yc=ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var u=r&&r.tagName==="DIV"?r:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Oe(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=bt(d.bgPos);u.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function rd(r){return new Yc(r)}ts.Default=go;var ca=Ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){nt(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Xt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof ht?r:new ht(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var u=this.getPane().children,d=-r(-1/0,1/0),g=0,E=u.length,S;g<E;g++)S=u[g].style.zIndex,u[g]!==this._container&&S&&(d=r(d,+S));isFinite(d)&&(this.options.zIndex=d+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt.ielt9){xe(this._container,this.options.opacity);var r=+new Date,u=!1,d=!1;for(var g in this._tiles){var E=this._tiles[g];if(!(!E.current||!E.loaded)){var S=Math.min(1,(r-E.loaded)/200);xe(E.el,S),S<1?u=!0:(E.active?d=!0:this._onOpaqueTile(E),E.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,u=this.options.maxZoom;if(r!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===r?(this._levels[d].el.style.zIndex=u-Math.abs(r-d),this._onUpdateLevel(d)):(Xt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[r],E=this._map;return g||(g=this._levels[r]={},g.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=u,g.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),g.zoom=r,this._setZoomTransform(g,E.getCenter(),E.getZoom()),C(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var r,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)u=this._tiles[r],u.retain=u.current;for(r in this._tiles)if(u=this._tiles[r],u.current&&!u.active){var g=u.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var u in this._tiles)this._tiles[u].coords.z===r&&this._removeTile(u)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Xt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,u,d,g){var E=Math.floor(r/2),S=Math.floor(u/2),O=d-1,G=new ht(+E,+S);G.z=+O;var X=this._tileCoordsToKey(G),at=this._tiles[X];return at&&at.active?(at.retain=!0,!0):(at&&at.loaded&&(at.retain=!0),O>g?this._retainParent(E,S,O,g):!1)},_retainChildren:function(r,u,d,g){for(var E=2*r;E<2*r+2;E++)for(var S=2*u;S<2*u+2;S++){var O=new ht(E,S);O.z=d+1;var G=this._tileCoordsToKey(O),X=this._tiles[G];if(X&&X.active){X.retain=!0;continue}else X&&X.loaded&&(X.retain=!0);d+1<g&&this._retainChildren(E,S,d+1,g)}},_resetView:function(r){var u=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var u=this.options;return u.minNativeZoom!==void 0&&r<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<r?u.maxNativeZoom:r},_setView:function(r,u,d,g){var E=Math.round(u);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var S=this.options.updateWhenZooming&&E!==this._tileZoom;(!g||S)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(r,u)},_setZoomTransforms:function(r,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],r,u)},_setZoomTransform:function(r,u,d){var g=this._map.getZoomScale(d,r.zoom),E=r.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(u,d)).round();Rt.any3d?wi(r.el,E,g):ve(r.el,E)},_resetGrid:function(){var r=this._map,u=r.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,u.wrapLng[0]],g).x/d.x),Math.ceil(r.project([0,u.wrapLng[1]],g).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([u.wrapLat[0],0],g).y/d.x),Math.ceil(r.project([u.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),g=u.getZoomScale(d,this._tileZoom),E=u.project(r,this._tileZoom).floor(),S=u.getSize().divideBy(g*2);return new U(E.subtract(S),E.add(S))},_update:function(r){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(r===void 0&&(r=u.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(g),S=E.getCenter(),O=[],G=this.options.keepBuffer,X=new U(E.getBottomLeft().subtract([G,-G]),E.getTopRight().add([G,-G]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var at in this._tiles){var vt=this._tiles[at].coords;(vt.z!==this._tileZoom||!X.contains(new ht(vt.x,vt.y)))&&(this._tiles[at].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(r,d);return}for(var Nt=E.min.y;Nt<=E.max.y;Nt++)for(var Zt=E.min.x;Zt<=E.max.x;Zt++){var mn=new ht(Zt,Nt);if(mn.z=this._tileZoom,!!this._isValidTile(mn)){var Ze=this._tiles[this._tileCoordsToKey(mn)];Ze?Ze.current=!0:O.push(mn)}}if(O.sort(function(fe,de){return fe.distanceTo(S)-de.distanceTo(S)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qn=document.createDocumentFragment();for(Zt=0;Zt<O.length;Zt++)this._addTile(O[Zt],Qn);this._level.el.appendChild(Qn)}}}},_isValidTile:function(r){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(r.x<d.min.x||r.x>d.max.x)||!u.wrapLat&&(r.y<d.min.y||r.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(r);return mt(this.options.bounds).overlaps(g)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var u=this._map,d=this.getTileSize(),g=r.scaleBy(d),E=g.add(d),S=u.unproject(g,r.z),O=u.unproject(E,r.z);return[S,O]},_tileCoordsToBounds:function(r){var u=this._tileCoordsToNwSe(r),d=new ft(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var u=r.split(":"),d=new ht(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(r){var u=this._tiles[r];u&&(Xt(u.el),delete this._tiles[r],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){wt(r,"leaflet-tile");var u=this.getTileSize();r.style.width=u.x+"px",r.style.height=u.y+"px",r.onselectstart=C,r.onmousemove=C,Rt.ielt9&&this.options.opacity<1&&xe(r,this.options.opacity)},_addTile:function(r,u){var d=this._getTilePos(r),g=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),p(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&B(p(this._tileReady,this,r,null,E)),ve(E,d),this._tiles[g]={el:E,coords:r,current:!0},u.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:r});var g=this._tileCoordsToKey(r);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(xe(d.el,0),q(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(wt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var u=new ht(this._wrapX?x(r.x,this._wrapX):r.x,this._wrapY?x(r.y,this._wrapY):r.y);return u.z=r.z,u},_pxBoundsToTileRange:function(r){var u=this.getTileSize();return new U(r.min.unscaleBy(u).floor(),r.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Qc(r){return new ca(r)}var Gs=ca.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,u){this._url=r,u=nt(this,u),u.detectRetina&&Rt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,u){return this._url===r&&u===void 0&&(u=!0),this._url=r,u||this.redraw(),this},createTile:function(r,u){var d=document.createElement("img");return Dt(d,"load",p(this._tileOnLoad,this,u,d)),Dt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(r),d},getTileUrl:function(r){var u={r:Rt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-r.y;this.options.tms&&(u.y=d),u["-y"]=d}return yt(this._url,l(u,this.options))},_tileOnLoad:function(r,u){Rt.ielt9?setTimeout(p(r,this,null,u),0):r(null,u)},_tileOnError:function(r,u,d){var g=this.options.errorTileUrl;g&&u.getAttribute("src")!==g&&(u.src=g),r(d,u)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(r=u-r),r+g},_getSubdomain:function(r){var u=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var r,u;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(u=this._tiles[r].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Gt;var d=this._tiles[r].coords;Xt(u),delete this._tiles[r],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(r){var u=this._tiles[r];if(u)return u.el.setAttribute("src",Gt),ca.prototype._removeTile.call(this,r)},_tileReady:function(r,u,d){if(!(!this._map||d&&d.getAttribute("src")===Gt))return ca.prototype._tileReady.call(this,r,u,d)}});function li(r,u){return new Gs(r,u)}var So=Gs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,u){this._url=r;var d=l({},this.defaultWmsParams);for(var g in u)g in this.options||(d[g]=u[g]);u=nt(this,u);var E=u.detectRetina&&Rt.retina?2:1,S=this.getTileSize();d.width=S.x*E,d.height=S.y*E,this.wmsParams=d},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Gs.prototype.onAdd.call(this,r)},getTileUrl:function(r){var u=this._tileCoordsToNwSe(r),d=this._crs,g=it(d.project(u[0]),d.project(u[1])),E=g.min,S=g.max,O=(this._wmsVersion>=1.3&&this._crs===br?[E.y,E.x,S.y,S.x]:[E.x,E.y,S.x,S.y]).join(","),G=Gs.prototype.getTileUrl.call(this,r);return G+Z(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(r,u){return l(this.wmsParams,r),u||this.redraw(),this}});function ui(r,u){return new So(r,u)}Gs.WMS=So,li.wms=ui;var Vn=Ni.extend({options:{padding:.1},initialize:function(r){nt(this,r),T(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,u){var d=this._map.getZoomScale(u,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,u),S=g.multiplyBy(-d).add(E).subtract(this._map._getNewPixelOrigin(r,u));Rt.any3d?wi(this._container,S,d):ve(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-r)).round();this._bounds=new U(d,d.add(u.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=Vn.extend({options:{tolerance:0},getEvents:function(){var r=Vn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Dt(r,"mousemove",this._onMouseMove,this),Dt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Xt(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var u in this._layers)r=this._layers[u],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,u=this._container,d=r.getSize(),g=Rt.retina?2:1;ve(u,r.min),u.width=g*d.x,u.height=g*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[T(r)]=r;var u=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var u=r._order,d=u.next,g=u.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete r._order,delete this._layers[T(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var u=r.options.dashArray.split(/[, ]+/),d=[],g,E;for(E=0;E<u.length;E++){if(g=Number(u[E]),isNaN(g))return;d.push(g)}r.options._dashArray=d}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var u=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(r._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(r._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var u=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)r=g.layer,(!u||r._pxBounds&&r._pxBounds.intersects(u))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,u){if(this._drawing){var d,g,E,S,O=r._parts,G=O.length,X=this._ctx;if(G){for(X.beginPath(),d=0;d<G;d++){for(g=0,E=O[d].length;g<E;g++)S=O[d][g],X[g?"lineTo":"moveTo"](S.x,S.y);u&&X.closePath()}this._fillStroke(X,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var u=r._point,d=this._ctx,g=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||g)/g;E!==1&&(d.save(),d.scale(1,E)),d.beginPath(),d.arc(u.x,u.y/E,g,0,Math.PI*2,!1),E!==1&&d.restore(),this._fillStroke(d,r)}},_fillStroke:function(r,u){var d=u.options;d.fill&&(r.globalAlpha=d.fillOpacity,r.fillStyle=d.fillColor||d.color,r.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(r.setLineDash&&r.setLineDash(u.options&&u.options._dashArray||[]),r.globalAlpha=d.opacity,r.lineWidth=d.weight,r.strokeStyle=d.color,r.lineCap=d.lineCap,r.lineJoin=d.lineJoin,r.stroke())},_onClick:function(r){for(var u=this._map.mouseEventToLayerPoint(r),d,g,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,u)}},_handleMouseOut:function(r){var u=this._hoveredLayer;u&&(ye(this._container,"leaflet-interactive"),this._fireEvent([u],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,u){if(!this._mouseHoverThrottled){for(var d,g,E=this._drawFirst;E;E=E.next)d=E.layer,d.options.interactive&&d._containsPoint(u)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(r),g&&(wt(this._container,"leaflet-interactive"),this._fireEvent([g],r,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,u,d){this._map._fireDOMEvent(u,d||u.type,r)},_bringToFront:function(r){var u=r._order;if(u){var d=u.next,g=u.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(r)}},_bringToBack:function(r){var u=r._order;if(u){var d=u.next,g=u.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(r)}}});function Ro(r){return Rt.canvas?new Tl(r):null}var Zs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),gu={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var u=r._container=Zs("shape");wt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",r._path=Zs("path"),u.appendChild(r._path),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){var u=r._container;this._container.appendChild(u),r.options.interactive&&r.addInteractiveTarget(u)},_removePath:function(r){var u=r._container;Xt(u),r.removeInteractiveTarget(u),delete this._layers[T(r)]},_updateStyle:function(r){var u=r._stroke,d=r._fill,g=r.options,E=r._container;E.stroked=!!g.stroke,E.filled=!!g.fill,g.stroke?(u||(u=r._stroke=Zs("stroke")),E.appendChild(u),u.weight=g.weight+"px",u.color=g.color,u.opacity=g.opacity,g.dashArray?u.dashStyle=_t(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=g.lineCap.replace("butt","flat"),u.joinstyle=g.lineJoin):u&&(E.removeChild(u),r._stroke=null),g.fill?(d||(d=r._fill=Zs("fill")),E.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(E.removeChild(d),r._fill=null)},_updateCircle:function(r){var u=r._point.round(),d=Math.round(r._radius),g=Math.round(r._radiusY||d);this._setPath(r,r._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(r,u){r._path.v=u},_bringToFront:function(r){Pe(r._container)},_bringToBack:function(r){Gn(r._container)}},ns=Rt.vml?Zs:Gr,ha=Vn.extend({_initContainer:function(){this._container=ns("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ns("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var r=this._bounds,u=r.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),ve(d,r.min),d.setAttribute("viewBox",[r.min.x,r.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(r){var u=r._path=ns("path");r.options.className&&wt(u,r.options.className),r.options.interactive&&wt(u,"leaflet-interactive"),this._updateStyle(r),this._layers[T(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Xt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[T(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var u=r._path,d=r.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(r,u){this._setPath(r,Os(r._parts,u))},_updateCircle:function(r){var u=r._point,d=Math.max(Math.round(r._radius),1),g=Math.max(Math.round(r._radiusY),1)||d,E="a"+d+","+g+" 0 1,0 ",S=r._empty()?"M0 0":"M"+(u.x-d)+","+u.y+E+d*2+",0 "+E+-d*2+",0 ";this._setPath(r,S)},_setPath:function(r,u){r._path.setAttribute("d",u)},_bringToFront:function(r){Pe(r._path)},_bringToBack:function(r){Gn(r._path)}});Rt.vml&&ha.include(gu);function xo(r){return Rt.svg||Rt.vml?new ha(r):null}Yt.include({getRenderer:function(r){var u=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var u=this._paneRenderers[r];return u===void 0&&(u=this._createRenderer({pane:r}),this._paneRenderers[r]=u),u},_createRenderer:function(r){return this.options.preferCanvas&&Ro(r)||xo(r)}});var wr=aa.extend({initialize:function(r,u){aa.prototype.initialize.call(this,this._boundsToLatLngs(r),u)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=mt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function ad(r,u){return new wr(r,u)}ha.create=ns,ha.pointsToPath=Os,Es.geometryToLayer=bn,Es.coordsToLatLng=pl,Es.coordsToLatLngs=To,Es.latLngToCoords=_l,Es.latLngsToCoords=Eo,Es.getFeature=Hs,Es.asFeature=gl,Yt.mergeOptions({boxZoom:!0});var zn=Kn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),si(),gr(),this._startPoint=this._map.mouseEventToContainerPoint(r),Dt(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var u=new U(this._point,this._startPoint),d=u.getSize();ve(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ye(this._container,"leaflet-crosshair")),rn(),ks(),he(document,{contextmenu:Ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yt.addInitHook("addHandler","boxZoom",zn),Yt.mergeOptions({doubleClickZoom:!0});var El=Kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var u=this._map,d=u.getZoom(),g=u.options.zoomDelta,E=r.originalEvent.shiftKey?d-g:d+g;u.options.doubleClickZoom==="center"?u.setZoom(E):u.setZoomAround(r.containerPoint,E)}});Yt.addInitHook("addHandler","doubleClickZoom",El),Yt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var is=Kn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Ci(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ye(this._map._container,"leaflet-grab"),ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=mt(this._map.options.maxBounds);this._offsetLimit=it(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,u){return r-(r-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;r.x<u.min.x&&(r.x=this._viscousLimit(r.x,u.min.x)),r.y<u.min.y&&(r.y=this._viscousLimit(r.y,u.min.y)),r.x>u.max.x&&(r.x=this._viscousLimit(r.x,u.max.x)),r.y>u.max.y&&(r.y=this._viscousLimit(r.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,u=Math.round(r/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,E=(g-u+d)%r+u-d,S=(g+u+d)%r-u-d,O=Math.abs(E+d)<Math.abs(S+d)?E:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(r){var u=this._map,d=u.options,g=!d.inertia||r.noInertia||this._times.length<2;if(u.fire("dragend",r),g)u.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,O=d.easeLinearity,G=E.multiplyBy(O/S),X=G.distanceTo([0,0]),at=Math.min(d.inertiaMaxSpeed,X),vt=G.multiplyBy(at/X),Nt=at/(d.inertiaDeceleration*O),Zt=vt.multiplyBy(-Nt/2).round();!Zt.x&&!Zt.y?u.fire("moveend"):(Zt=u._limitOffset(Zt,u.options.maxBounds),B(function(){u.panBy(Zt,{duration:Nt,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});Yt.addInitHook("addHandler","dragging",is),Yt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yu=Kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Dt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,u=document.documentElement,d=r.scrollTop||u.scrollTop,g=r.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var u=this._panKeys={},d=this.keyCodes,g,E;for(g=0,E=d.left.length;g<E;g++)u[d.left[g]]=[-1*r,0];for(g=0,E=d.right.length;g<E;g++)u[d.right[g]]=[r,0];for(g=0,E=d.down.length;g<E;g++)u[d.down[g]]=[0,r];for(g=0,E=d.up.length;g<E;g++)u[d.up[g]]=[0,-1*r]},_setZoomDelta:function(r){var u=this._zoomKeys={},d=this.keyCodes,g,E;for(g=0,E=d.zoomIn.length;g<E;g++)u[d.zoomIn[g]]=r;for(g=0,E=d.zoomOut.length;g<E;g++)u[d.zoomOut[g]]=-r},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var u=r.keyCode,d=this._map,g;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[u],r.shiftKey&&(g=bt(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(bt(g),d.options.maxBounds)),d.options.worldCopyJump){var E=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(E)}else d.panBy(g)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Ai(r)}}});Yt.addInitHook("addHandler","keyboard",yu),Yt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Co=Kn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var u=an(r),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),g),Ai(r)},_performZoom:function(){var r=this._map,u=r.getZoom(),d=this._map.options.zoomSnap||0;r._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,S=d?Math.ceil(E/d)*d:E,O=r._limitZoom(u+(this._delta>0?S:-S))-u;this._delta=0,this._startTime=null,O&&(r.options.scrollWheelZoom==="center"?r.setZoom(u+O):r.setZoomAround(this._lastMousePos,u+O))}});Yt.addInitHook("addHandler","scrollWheelZoom",Co);var Ar=600;Yt.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var bl=Kn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var u=r.touches[0];this._startPos=this._newPos=new ht(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",De),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Ar),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){he(document,"touchend",De),he(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(r){var u=r.touches[0];this._newPos=new ht(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,u){var d=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Yt.addInitHook("addHandler","tapHold",bl),Yt.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var vu=Kn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var u=this._map;if(!(!r.touches||r.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(r.touches[0]),g=u.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),De(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(r.touches[0]),g=u.mouseEventToContainerPoint(r.touches[1]),E=d.distanceTo(g)/this._startDist;if(this._zoom=u.getScaleZoom(E,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&E<1||this._zoom>u.getMaxZoom()&&E>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var S=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(E===1&&S.x===0&&S.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var O=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(O,this,!0),De(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yt.addInitHook("addHandler","touchZoom",vu),Yt.BoxZoom=zn,Yt.DoubleClickZoom=El,Yt.Drag=is,Yt.Keyboard=yu,Yt.ScrollWheelZoom=Co,Yt.TapHold=bl,Yt.TouchZoom=vu,n.Bounds=U,n.Browser=Rt,n.CRS=Bt,n.Canvas=Tl,n.Circle=ml,n.CircleMarker=ra,n.Class=oe,n.Control=Tn,n.DivIcon=Yc,n.DivOverlay=wn,n.DomEvent=Ji,n.DomUtil=zs,n.Draggable=Ci,n.Evented=gt,n.FeatureGroup=$i,n.GeoJSON=Es,n.GridLayer=ca,n.Handler=Kn,n.Icon=ts,n.ImageOverlay=la,n.LatLng=Et,n.LatLngBounds=ft,n.Layer=Ni,n.LayerGroup=sa,n.LineUtil=ai,n.Map=Yt,n.Marker=vo,n.Mixin=fl,n.Path=es,n.Point=ht,n.PolyUtil=js,n.Polygon=aa,n.Polyline=Ts,n.Popup=wo,n.PosAnimation=gs,n.Projection=Ii,n.Rectangle=wr,n.Renderer=Vn,n.SVG=ha,n.SVGOverlay=vl,n.TileLayer=Gs,n.Tooltip=Ao,n.Transformation=Is,n.Util=D,n.VideoOverlay=Fs,n.bind=p,n.bounds=it,n.canvas=Ro,n.circle=Fc,n.circleMarker=qc,n.control=kn,n.divIcon=rd,n.extend=l,n.featureGroup=jc,n.geoJSON=yl,n.geoJson=bo,n.gridLayer=Qc,n.icon=_o,n.imageOverlay=Gc,n.latLng=Tt,n.latLngBounds=mt,n.layerGroup=ed,n.map=Bs,n.marker=Hc,n.point=bt,n.polygon=id,n.polyline=nd,n.popup=Kc,n.rectangle=ad,n.setOptions=nt,n.stamp=T,n.svg=xo,n.svgOverlay=Zc,n.tileLayer=li,n.tooltip=sd,n.transformation=Ui,n.version=a,n.videoOverlay=ua;var Tu=window.L;n.noConflict=function(){return window.L=Tu,this},window.L=n}))})(lc,lc.exports)),lc.exports}var Bc=JO();const Ew=CT(Bc);function M_(s,t,n){return Object.freeze({instance:s,context:t,container:n})}function k_(s,t){return t==null?function(a,l){const h=It.useRef(void 0);return h.current||(h.current=s(a,l)),h}:function(a,l){const h=It.useRef(void 0);h.current||(h.current=s(a,l));const p=It.useRef(a),{instance:v}=h.current;return It.useEffect(function(){p.current!==a&&(t(v,a,p.current),p.current=a)},[v,a,t]),h}}function $O(s,t){It.useEffect(function(){return(t.layerContainer??t.map).addLayer(s.instance),function(){t.layerContainer?.removeLayer(s.instance),t.map.removeLayer(s.instance)}},[t,s])}function bw(s){return function(n){const a=vw(),l=s(L_(n,a),a);return yw(a.map,n.attribution),Tw(l.current,n.eventHandlers),$O(l.current,a),l}}function tP(s,t){const n=k_(s,t),a=bw(n);return KO(a)}function eP(s,t){const n=k_(s),a=XO(n,t);return YO(a)}function nP(s,t){const n=k_(s,t),a=bw(n);return QO(a)}function iP(s,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&s.setOpacity(a),l!=null&&l!==n.zIndex&&s.setZIndex(l)}function sP({bounds:s,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:v,whenReady:T,zoom:b,...x},C){const[V]=It.useState({className:l,id:h,style:v}),[$,ut]=It.useState(null),nt=It.useRef(void 0);It.useImperativeHandle(C,()=>$?.map??null,[$]);const Z=It.useCallback(yt=>{if(yt!==null&&!nt.current){const _t=new Bc.Map(yt,x);nt.current=_t,n!=null&&b!=null?_t.setView(n,b):s!=null&&_t.fitBounds(s,t),T!=null&&_t.whenReady(T),ut(GO(_t))}},[]);It.useEffect(()=>()=>{$?.map.remove()},[$]);const dt=$?ip.createElement(D_,{value:$},a):p??null;return ip.createElement("div",{...V,ref:Z},dt)}const rP=It.forwardRef(sP),aP=tP(function({position:t,...n},a){const l=new Bc.Marker(t,n);return M_(l,ZO(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),oP=eP(function(t,n){const a=new Bc.Popup(t,n.overlayContainer);return M_(a,n)},function(t,n,{position:a},l){It.useEffect(function(){const{instance:p}=t;function v(b){b.popup===p&&(p.update(),l(!0))}function T(b){b.popup===p&&l(!1)}return n.map.on({popupopen:v,popupclose:T}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:v,popupclose:T}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),lP=nP(function({url:t,...n},a){const l=new Bc.TileLayer(t,L_(n,a));return M_(l,a)},function(t,n,a){iP(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),uP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",cP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let hP=Ew.icon({iconUrl:uP,shadowUrl:cP,iconSize:[25,41],iconAnchor:[12,41]});Ew.Marker.prototype.options.icon=hP;const fP=({reports:s})=>{const t=[20.5937,78.9629];return P.jsx("div",{style:{height:"400px",width:"100%"},children:P.jsxs(rP,{center:t,zoom:5,scrollWheelZoom:!0,children:[P.jsx(lP,{attribution:" OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.map(n=>n.location&&P.jsx(aP,{position:[n.location.lat,n.location.lng],children:P.jsx(oP,{children:P.jsxs("div",{className:"p-2",children:[P.jsx("h3",{className:"font-bold",children:n.title}),P.jsx("p",{className:"text-sm",children:n.category}),P.jsx("span",{className:`text-[10px] uppercase font-bold ${n.status==="Resolved"?"text-emerald-500":"text-amber-500"}`,children:n.status})]})})},n.id))]})})},dP=({reports:s})=>{const[t,n]=It.useState(null),[a,l]=It.useState({}),[h,p]=It.useState({}),[v,T]=It.useState({}),[b,x]=It.useState(null),C=async(Z,dt)=>{n(Z);try{const yt=za(tr,"reports",Z);await of(yt,{status:dt,updatedAt:new Date})}catch(yt){console.error("Error updating status:",yt),alert("Failed to update status. Please try again.")}finally{n(null)}},V=async Z=>{const dt=a[Z];if(!dt||dt.trim()===""){alert("Please provide a resolution note before marking as resolved.");return}n(Z);try{let yt="";const _t=v[Z];if(_t){const Gt=LO(BO,`resolutions/${Z}_${Date.now()}_${_t.name}`),qt=await PO(Gt,_t);yt=await DO(qt.ref)}const Mt=za(tr,"reports",Z);await of(Mt,{status:"resolved",adminResolutionNote:dt,resolutionImageUrl:yt,resolvedAt:Cp()}),l(Gt=>({...Gt,[Z]:""})),T(Gt=>({...Gt,[Z]:null}))}catch(yt){console.error("Error resolving report:",yt),alert("Failed to resolve report. Please try again.")}finally{n(null)}},$=async Z=>{const dt=h[Z];if(!dt||dt.trim()===""){alert("Please provide a comment before updating.");return}n(Z);try{const yt=za(tr,"reports",Z);await of(yt,{adminUpdate:dt,lastUpdated:Cp()}),p(_t=>({..._t,[Z]:""}))}catch(yt){console.error("Error updating comment:",yt),alert("Failed to update comment. Please try again.")}finally{n(null)}},ut=async Z=>{if(window.confirm("Are you sure you want to permanently delete this report?"))try{const dt=za(tr,"reports",Z);await Tb(dt),alert("Report deleted successfully.")}catch(dt){console.error("Error deleting report:",dt),alert("Failed to delete report. Please try again.")}},nt=Z=>{switch(Z){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return P.jsxs("div",{className:"p-8 animate-fade-in",children:[P.jsxs("header",{className:"flex justify-between items-center mb-10",children:[P.jsx("h1",{className:"text-4xl font-black italic uppercase",children:"Admin Command Center"}),P.jsx("div",{className:"flex gap-4",children:P.jsx("div",{className:"bg-slate-900 text-white px-6 py-2 rounded-full font-bold",children:"Live Data"})})]}),P.jsx("div",{className:"w-full h-[50vh] md:h-[450px] rounded-[40px] overflow-hidden mb-8 md:mb-12 shadow-2xl border-4 border-white",children:P.jsx(fP,{reports:s})}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:s.map(Z=>P.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden shadow-lg border border-slate-100 hover:shadow-2xl transition-shadow group relative",children:[P.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:P.jsx("button",{onClick:()=>ut(Z.id),className:"p-2 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors shadow-lg",title:"Delete Report",children:""})}),P.jsx("div",{className:"h-40 md:h-48 bg-slate-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>x(Z),children:Z.imageUrl?P.jsx("img",{src:Z.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image"})}),P.jsxs("div",{className:"p-6",children:[P.jsxs("div",{className:"flex justify-between items-start mb-3",children:[P.jsx("span",{className:"text-[10px] font-black uppercase text-indigo-500 bg-indigo-50 px-3 py-1 rounded-full",children:Z.category}),P.jsx("span",{className:`text-[10px] font-black uppercase px-3 py-1 rounded-full ${nt(Z.status)}`,children:Z.status?.toUpperCase()||"PENDING"})]}),P.jsx("h3",{className:"text-xl font-bold mb-2",children:Z.title}),P.jsx("p",{className:"text-slate-500 text-sm mb-4 line-clamp-2",children:Z.description}),P.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-xs font-bold text-slate-400 italic",children:" Pinned on Map"}),P.jsx("div",{className:"flex gap-2",children:P.jsxs("select",{value:Z.status||"pending",onChange:dt=>C(Z.id,dt.target.value),disabled:t===Z.id,className:"text-xs bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full border-0 font-bold uppercase",children:[P.jsx("option",{value:"pending",children:"Pending"}),P.jsx("option",{value:"in-progress",children:"In Progress"}),P.jsx("option",{value:"resolved",children:"Resolved"}),P.jsx("option",{value:"rejected",children:"Rejected"})]})})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("label",{className:"text-xs font-bold text-slate-600 uppercase",children:"Admin Update:"}),P.jsx("textarea",{value:h[Z.id]||"",onChange:dt=>p(yt=>({...yt,[Z.id]:dt.target.value})),placeholder:"Write an update for the user...",className:"w-full p-3 text-sm border border-slate-200 rounded-xl resize-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",rows:"2"}),P.jsx("button",{onClick:()=>$(Z.id),disabled:t===Z.id||!h[Z.id]?.trim(),className:"w-full bg-indigo-600 text-white text-xs font-bold uppercase py-2 px-4 rounded-xl hover:bg-indigo-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===Z.id?"UPDATING...":"SEND UPDATE"})]}),Z.status!=="resolved"&&P.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-100",children:[P.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Resolution Details:"}),P.jsxs("div",{className:"relative",children:[P.jsx("input",{type:"file",accept:"image/*",onChange:dt=>T(yt=>({...yt,[Z.id]:dt.target.files[0]})),className:"hidden",id:`resolution-photo-${Z.id}`}),P.jsx("label",{htmlFor:`resolution-photo-${Z.id}`,className:"flex flex-col items-center justify-center w-full h-20 bg-emerald-50 border-2 border-dashed border-emerald-200 rounded-xl cursor-pointer hover:border-emerald-400 hover:bg-emerald-100 transition-all",children:v[Z.id]?P.jsxs("div",{className:"text-center",children:[P.jsx("span",{className:"text-emerald-600 font-bold text-xs",children:" Photo Selected"}),P.jsx("p",{className:"text-emerald-500 text-xs mt-1",children:v[Z.id].name})]}):P.jsxs(P.Fragment,{children:[P.jsx("span",{className:"text-emerald-400 text-xs",children:" Upload Resolution Photo"}),P.jsx("span",{className:"text-emerald-300 text-xs",children:"(Optional)"})]})})]}),P.jsx("textarea",{value:a[Z.id]||"",onChange:dt=>l(yt=>({...yt,[Z.id]:dt.target.value})),placeholder:"Describe what was done to resolve this issue...",className:"w-full p-3 text-sm border border-emerald-200 rounded-xl resize-none focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500",rows:"3"}),P.jsx("button",{onClick:()=>V(Z.id),disabled:t===Z.id||!a[Z.id]?.trim(),className:"w-full bg-emerald-600 text-white text-xs font-bold uppercase py-3 px-4 rounded-xl hover:bg-emerald-500 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:t===Z.id?"UPLOADING...":"MARK AS RESOLVED"})]})]})]})]},Z.id))}),b&&P.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:P.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[40px] p-8 shadow-2xl max-h-[90vh] overflow-y-auto",children:[P.jsxs("div",{className:"flex justify-between items-center mb-6",children:[P.jsx("h2",{className:"text-3xl font-black italic uppercase",children:"Report Details"}),P.jsx("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-slate-900 text-2xl font-bold",children:""})]}),P.jsx("div",{className:"w-full h-96 bg-slate-100 rounded-2xl overflow-hidden mb-6",children:b.imageUrl?P.jsx("img",{src:b.imageUrl,className:"w-full h-full object-cover",alt:"Report"}):P.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-bold uppercase",children:"No Image Available"})}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Title"}),P.jsx("p",{className:"text-lg font-bold text-slate-900",children:b.title})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Category"}),P.jsx("p",{className:"text-lg font-bold text-slate-900",children:b.category||"Uncategorized"})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Description"}),P.jsx("p",{className:"text-slate-700",children:b.description})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Status"}),P.jsx("span",{className:`inline-block px-4 py-2 rounded-full font-bold text-xs uppercase ${nt(b.status)}`,children:b.status})]}),P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Submitted by"}),P.jsx("p",{className:"text-sm text-slate-600",children:b.userId})]}),b.location&&P.jsxs("div",{children:[P.jsx("h3",{className:"text-xs font-black uppercase text-slate-500 mb-1",children:"Location"}),P.jsxs("p",{className:"text-sm text-slate-600",children:["Lat: ",b.location.lat,", Lng: ",b.location.lng]})]})]}),P.jsx("button",{onClick:()=>x(null),className:"w-full mt-6 bg-slate-900 text-white font-bold py-3 rounded-2xl hover:bg-slate-800 transition-colors",children:"Close"})]})})]})},mP=({onAdminLogin:s})=>{const[t,n]=It.useState(!0),[a,l]=It.useState({email:"",password:"",phone:""}),[h,p]=It.useState(""),v=async T=>{T.preventDefault(),p("");try{if(t)await u2(xc,a.email,a.password);else{const b=await l2(xc,a.email,a.password);await oI(za(tr,"users",b.user.uid),{email:a.email,phone:a.phone,role:"user",uid:b.user.uid})}}catch(b){p(b.message)}};return P.jsxs("div",{className:"min-h-screen w-full grid md:grid-cols-2 bg-slate-900 text-white",children:[P.jsx("div",{className:"flex items-center justify-center p-8",children:P.jsxs("form",{onSubmit:v,className:"bg-white text-slate-900 p-10 rounded-[40px] shadow-2xl w-full max-w-md",children:[P.jsx("h2",{className:"text-3xl font-black mb-6 uppercase italic",children:"UrbanPulse Login"}),P.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,email:T.target.value})}),!t&&P.jsx("input",{type:"tel",placeholder:"Phone Number",className:"w-full mb-4 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,phone:T.target.value})}),P.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-6 p-4 bg-slate-100 rounded-2xl outline-none",onChange:T=>l({...a,password:T.target.value})}),h&&P.jsx("div",{className:"text-rose-600 text-sm mb-3",children:h}),P.jsx("button",{className:"w-full bg-indigo-600 text-white p-5 rounded-2xl font-bold uppercase tracking-widest hover:bg-indigo-700 transition-all",children:t?"Citizen Sign In":"Create Account"}),P.jsx("p",{className:"mt-6 text-center text-slate-400 cursor-pointer text-sm",onClick:()=>n(!t),children:t?"Don't have an account? Sign Up":"Already have an account? Login"}),P.jsx("button",{type:"button",onClick:()=>s?.(),className:"mt-4 w-full text-xs font-bold text-slate-500 uppercase hover:text-rose-500 transition-colors",children:"Access Admin Portal"})]})}),P.jsxs("div",{className:"relative p-8 flex items-center justify-center",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-rose-600/20 blur-3xl"}),P.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-[40px] p-10 w-full max-w-md shadow-2xl",children:[P.jsx("h3",{className:"text-xl font-black uppercase tracking-widest text-white mb-4",children:"UrbanPulse"}),P.jsx("p",{className:"text-slate-200 mb-6",children:"Optimize the grid with secure access."}),P.jsxs("ul",{className:"text-slate-300 text-sm space-y-2",children:[P.jsx("li",{children:" Citizen reports feed"}),P.jsx("li",{children:" Admin command center"}),P.jsx("li",{children:" Live map with pins"})]})]})]})]})},pP=({onAuthorized:s})=>{const[t,n]=It.useState(""),[a,l]=It.useState(""),h=p=>{p.preventDefault(),t==="ADMIN_INDIA_2026"?(s?.(),l("")):l("Invalid admin passcode")};return P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-6",children:P.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-[40px] p-10 w-full max-w-md shadow-2xl text-white",children:[P.jsx("h2",{className:"text-3xl font-black uppercase mb-4",children:"Terminal Admin"}),P.jsx("p",{className:"text-slate-300 mb-6",children:"Authorize Session"}),P.jsxs("form",{onSubmit:h,className:"space-y-4",children:[P.jsx("input",{type:"password",placeholder:"Admin Passcode",value:t,onChange:p=>n(p.target.value),className:"w-full p-4 rounded-2xl bg-white/20 border border-white/30 text-white placeholder-slate-300 outline-none"}),a&&P.jsx("div",{className:"text-rose-400 text-sm",children:a}),P.jsx("button",{className:"w-full bg-rose-600 text-white p-4 rounded-2xl font-bold uppercase tracking-widest hover:bg-rose-700 transition-all",children:"Authorize"})]})]})})};function _P(){const[s,t]=It.useState(!1),[n,a]=It.useState("user"),[l,h]=It.useState([]),[p,v]=It.useState(!1),[T,b]=It.useState(null),[x,C]=It.useState(!0),[V,$]=It.useState(!1),ut=async()=>{try{await xc.signOut(),a("user")}catch(nt){console.error("Error signing out:",nt)}};return It.useEffect(()=>f2(xc,Z=>{Z?(b(Z),C(!1)):(a("login"),C(!1))}),[]),It.useEffect(()=>{if(!T&&!V)return;let nt;return n==="admin"||V?nt=$0(Rp(tr,"reports"),tT("createdAt","desc")):nt=$0(Rp(tr,"reports"),sI("userId","==",T.uid),tT("createdAt","desc")),uI(nt,dt=>{h(dt.docs.map(yt=>({...yt.data(),id:yt.id})))})},[T,n,V]),s?x?P.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),P.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!T&&!V?n==="admin-login"?P.jsx(pP,{onAuthorized:()=>{$(!0),a("admin")}}):P.jsx(mP,{onAdminLogin:()=>a("admin-login")}):P.jsxs("div",{className:"min-h-screen bg-slate-50",children:[P.jsxs("header",{className:"flex justify-between items-center p-4 md:p-8 bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-100",children:[P.jsxs("div",{className:"text-2xl font-black italic uppercase tracking-tighter",children:["URBAN",P.jsx("span",{className:"text-indigo-600",children:"PULSE"})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[n==="user"&&P.jsx("button",{onClick:()=>v(!0),className:"px-5 py-2 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase shadow-lg hover:bg-indigo-700 transition-colors",children:"+ NEW REPORT"}),P.jsx("button",{onClick:ut,className:"px-5 py-2 bg-slate-900 text-white rounded-2xl font-bold text-xs uppercase hover:bg-slate-800 transition-colors",children:"Logout"})]})]}),P.jsxs("div",{className:"p-4 md:p-8",children:[n==="admin"?P.jsx(dP,{reports:l}):P.jsx(HO,{onOpenModal:()=>v(!0),reports:l,user:T}),P.jsx(jO,{isOpen:p,onClose:()=>v(!1)})]})]}):P.jsx(YA,{onEnter:()=>t(!0)})}KA.createRoot(document.getElementById("root")).render(P.jsx(It.StrictMode,{children:P.jsx(_P,{})}));
